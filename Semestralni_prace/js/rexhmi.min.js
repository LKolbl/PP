!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.REX=t()}}(function(){var define,module,exports;return function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";e.exports={name:"REX HMI",version:"2.50.1-7486",created:"2016-11-02 02:01"}},{}],2:[function(t,e,i){"use strict";t("babelify-es6-polyfill"),window.$=window.jQuery=t("jquery"),t("./lib/Require/jquery-ui.min.js"),t("jquery-ui-touch-punch"),t("jquery-ui-timepicker-addon"),t("svg.js"),t("virtual-keyboard"),window.Dygraph=t("dygraphs"),t("./node_modules/dygraphs/extras/super-annotations.js"),e.exports.Init=t("./src/index.js"),e.exports.UTIL={},e.exports.UTIL.Logger=t("./src/utils/Logger.js"),e.exports.WS={Group:t("./src/group-management/Group.js"),Item:t("./src/group-management/RWItem.js"),Trend:t("./src/group-management/Trend.js")},e.exports.WS.Client=t("./src/ws-client/Client.js"),e.exports.Watch={},e.exports.Watch.Engine=t("./src/webwatch/Engine.js"),e.exports.HMI=t("./src/hmi.js"),e.exports.WebBuDi=t("./src/webbudi/WebBuDi.js"),e.exports.WebWatch=t("./src/webwatch/Engine.js"),e.exports.UI={SVG:{SVGManager:t("./src/ui/svg/SVGManager.js"),Component:t("./src/ui/svg/SVGComponent.js"),HTMLComponent:t("./src/ui/svg/HTMLComponent"),Modules:{HMIConfig:t("./src/ui/svg/HMIConfig.js"),Trend:t("./src/ui/svg/SVGGraph.js"),TRND:t("./src/ui/svg/TRND.js")}}},e.exports.HELPERS=t("./src/utils/utils.js"),e.exports.VERSION=t("./build-version.js")},{"./build-version.js":1,"./lib/Require/jquery-ui.min.js":3,"./node_modules/dygraphs/extras/super-annotations.js":171,"./src/group-management/Group.js":204,"./src/group-management/RWItem.js":206,"./src/group-management/Trend.js":207,"./src/hmi.js":209,"./src/index.js":210,"./src/ui/svg/HMIConfig.js":218,"./src/ui/svg/HTMLComponent":219,"./src/ui/svg/SVGComponent.js":220,"./src/ui/svg/SVGGraph.js":221,"./src/ui/svg/SVGManager.js":222,"./src/ui/svg/TRND.js":223,"./src/utils/Logger.js":228,"./src/utils/utils.js":230,"./src/webbudi/WebBuDi.js":234,"./src/webwatch/Engine.js":247,"./src/ws-client/Client.js":254,"babelify-es6-polyfill":161,dygraphs:170,jquery:179,"jquery-ui-timepicker-addon":177,"jquery-ui-touch-punch":178,"svg.js":198,"virtual-keyboard":202}],3:[function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(f.inline?f.dpDiv.parent()[0]:f.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}function l(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.0-rc.2";var u=0,c=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,s;for(s=0;null!=(r=i[s]);s++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(o){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,s,o,a={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],s=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),o=new i,o.options=t.widget.extend({},o.options),t.each(n,function(e,n){return t.isFunction(n)?void(a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=s,e}}()):void(a[e]=n)}),s.prototype=t.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||e:e},a,{constructor:s,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,r=c.call(arguments,1),s=0,o=r.length;o>s;s++)for(i in r[s])n=r[s][i],r[s].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,o=c.call(arguments,1),a=this;return s?this.each(function(){var i,s=t.data(this,n);return"instance"===r?(a=s,!1):s?t.isFunction(s[r])&&"_"!==r.charAt(0)?(i=s[r].apply(s,o),i!==s&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(o.length&&(r=t.widget.extend.apply(null,[r].concat(o))),this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,s,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(r=o[e]=t.widget.extend({},this.options[e]),s=0;n.length-1>s;s++)r[n[s]]=r[n[s]]||{},r=r[n[s]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,s){var o,a;for(a=0;i.length>a;a++)o=r.classesElementLookup[i[a]]||t(),o=t(e.add?t.unique(o.get().concat(e.element.get())):o.not(e.element).get()),r.classesElementLookup[i[a]]=o,n.push(i[a]),s&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,s={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(e,i,n){var r,s=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,o){function a(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+s.eventNamespace,c=l[2];c?r.on(u,c,a):i.on(u,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,s,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),o&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,s,o=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,f=/%$/,p=t.fn.position;s=function(){var e=t("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),i=1.5===e.offset().top;return e.remove(),s=function(){return i},i},t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return t("body").append(n),e=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,s="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType,s=!n&&!r;return{element:i,isWindow:n,isDocument:r,offset:s?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=t.extend({},r);var f,g,m,v,y,_,b=t(r.of),w=t.position.getWithinInfo(r.within),x=t.position.getScrollInfo(w),k=(r.collision||"flip").split(" "),T={};return _=n(b),b[0].preventDefault&&(r.at="left top"),g=_.width,m=_.height,v=_.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=u.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),T[this]=[t?t[0]:0,e?e[0]:0],r[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),f=e(T.at,g,m),y.left+=f[0],y.top+=f[1],this.each(function(){var n,u,c=t(this),h=c.outerWidth(),d=c.outerHeight(),p=i(this,"marginLeft"),_=i(this,"marginTop"),C=h+p+i(this,"marginRight")+x.width,D=d+_+i(this,"marginBottom")+x.height,S=t.extend({},y),E=e(T.my,c.outerWidth(),c.outerHeight());"right"===r.my[0]?S.left-=h:"center"===r.my[0]&&(S.left-=h/2),"bottom"===r.my[1]?S.top-=d:"center"===r.my[1]&&(S.top-=d/2),S.left+=E[0],S.top+=E[1],s()||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:p,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](S,{targetWidth:g,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:n,collisionWidth:C,collisionHeight:D,offset:[f[0]+E[0],f[1]+E[1]],my:r.my,at:r.at,within:w,elem:c})}),r.using&&(u=function(t){var e=v.left-S.left,i=e+g-h,n=v.top-S.top,s=n+m-d,l={target:{element:b,left:v.left,top:v.top,width:g,height:m},element:{element:c,left:S.left,top:S.top,width:h,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};h>g&&g>a(e+i)&&(l.horizontal="center"),d>m&&m>a(n+s)&&(l.vertical="middle"),l.important=o(a(e),a(i))>o(a(n),a(s))?"horizontal":"vertical",r.using.call(this,t,l)}),c.offset(t.extend(S,{using:u}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-s-r;e.collisionWidth>s?l>0&&0>=u?(i=t.left+l+e.collisionWidth-s-r,t.left+=l-i):t.left=u>0&&0>=l?r:l>u?r+s-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-s-r;e.collisionHeight>s?l>0&&0>=u?(i=t.top+l+e.collisionHeight-s-r,t.top+=l-i):t.top=u>0&&0>=l?r:l>u?r+s-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,s=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>c?(i=t.left+d+f+p+e.collisionWidth-o-s,(0>i||a(c)>i)&&(t.left+=d+f+p)):h>0&&(n=t.left-e.collisionPosition.marginLeft+d+f+p-l,(n>0||h>a(n))&&(t.left+=d+f+p))},top:function(t,e){var i,n,r=e.within,s=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-o-l,d="top"===e.my[1],f=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(n=t.top+f+p+g+e.collisionHeight-o-s,(0>n||a(c)>n)&&(t.top+=f+p+g)):h>0&&(i=t.top-e.collisionPosition.marginTop+f+p+g-l,(i>0||h>a(i))&&(t.top+=f+p+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,n){var r,s,o,a=i.nodeName.toLowerCase();return"area"===a?(r=i.parentNode,s=r.name,!(!i.href||!s||"map"!==r.nodeName.toLowerCase())&&(o=t("img[usemap='#"+s+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?!i.disabled:"a"===a?i.href||n:n)&&t(i).is(":visible")&&e(t(i))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function n(e,i,n,s){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(s,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(s,n(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,n,r,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),s=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",r=r.add(s.find(i).addBack(i))),this.pushStack(r))},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var h=!1;t(document).on("mouseup",function(){h=!1}),t.widget("ui.mouse",{version:"1.12.0-rc.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,h=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,n){var r,s=t.ui[e].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;s.length>r;r++)t.options[s[r][0]]&&s[r][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.0-rc.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);this._getHandle(e)&&n.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length;
},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,s=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],void(n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,u=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&t.contains(s.element[0],this.element[0])&&(r=!1),r})),r?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},e.target=s.currentItem[0],s._mouseCapture(e,!0),s._mouseStart(e,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",e),n.dropped=s.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(e),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",e,s._uiHash(s)),s._mouseStop(e,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),s=n.options;r.css("cursor")&&(s._cursor=r.css("cursor")),r.css("cursor",s.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),s=n.options;r.css("opacity")&&(s._opacity=r.css("opacity")),r.css("opacity",s.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,s=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity?o.scrollTop=s=o.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?s=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(s=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?s=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(s=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var r,s,o,a,l,u,c,h,d,f,p=n.options,g=p.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,u=l+n.snapElements[d].width,c=n.snapElements[d].top-n.margins.top,h=c+n.snapElements[d].height,l-g>v||m>u+g||c-g>_||y>h+g||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(c-_),s=g>=Math.abs(h-y),o=g>=Math.abs(l-v),a=g>=Math.abs(u-m),r&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),f=r||s||o||a,"outer"!==p.snapMode&&(r=g>=Math.abs(c-y),s=g>=Math.abs(h-_),o=g>=Math.abs(l-m),a=g>=Math.abs(u-v),r&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(r||s||o||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=r||s||o||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,s=n.options,o=t.makeArray(t(s.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(r=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),s=n.options;r.css("zIndex")&&(s._zIndex=r.css("zIndex")),r.css("zIndex",s.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.0-rc.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&d(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var d=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,r){if(!i.offset)return!1;var s=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=s+e.helperProportions.width,l=o+e.helperProportions.height,u=i.offset.left,c=i.offset.top,h=u+i.proportions().width,d=c+i.proportions().height;switch(n){case"fit":return s>=u&&h>=a&&o>=c&&d>=l;case"intersect":return s+e.helperProportions.width/2>u&&h>a-e.helperProportions.width/2&&o+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,c,i.proportions().height)&&t(r.pageX,u,i.proportions().width);case"touch":return(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d)&&(s>=u&&h>=s||a>=u&&h>=a||u>s&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,r,s=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;s.length>n;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===s[n].element[0]){s[n].proportions().height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===o&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&d(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,s,o=d(e,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),s.length&&(n=t(s[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.0-rc.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,r,s,o=this.options,a=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;n.length>i;i++)e=t.trim(n[i]),r="ui-resizable-"+e,s=t("<div>"),this._addClass(s,"ui-resizable-handle "+r),s.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(s);this._renderAxis=function(e){var i,n,r,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=t(s.containment).scrollLeft()||0,n+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,s=this.axis,o=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[s];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,s,o,a,l,u=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,s=n?0:c.sizeDiff.width,o={width:c.helper.width()-s,height:c.helper.height()-r},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(o,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),n>s.minHeight&&(s.minHeight=n),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>r&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),s&&u&&(t.left=a-e.minWidth),n&&u&&(t.left=a-e.maxWidth),o&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(r[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function _(t,e,i){var n=this.originalSize,_=this.originalPosition;return{top:_.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){
var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},u=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,s,o,a,l=t(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,d=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(d,"left")?d.scrollWidth:s,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:n.left,top:n.top,width:o,height:a}))},resize:function(e){var i,n,r,s,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,u=o.position,c=o._aspectRatio||e.shiftKey,h={top:0,left:0},d=o.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-h.left),c&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=a.helper?l.left:0),u.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),r&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,s=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,u=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:u}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,s=n.originalSize,o=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};t(r.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},s=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,s=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=l[0]||1,c=l[1]||1,h=Math.round((r.width-s.width)/u)*u,d=Math.round((r.height-s.height)/c)*c,f=s.width+h,p=s.height+d,g=n.maxWidth&&f>n.maxWidth,m=n.maxHeight&&p>n.maxHeight,v=n.minWidth&&n.minWidth>f,y=n.minHeight&&n.minHeight>p;n.grid=l,v&&(f+=u),y&&(p+=c),g&&(f-=u),m&&(p-=c),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=o.top-d):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=o.left-h):((0>=p-c||0>=f-u)&&(e=i._getPaddingPlusBorderDimensions(this)),p-c>0?(i.size.height=p,i.position.top=o.top-d):(p=c-e.height,i.size.height=p,i.position.top=o.top+s.height-p),f-u>0?(i.size.width=f,i.position.left=o.left-h):(f=u-e.width,i.size.width=f,i.position.left=o.left+s.width-f))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.0-rc.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");return r?(n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,s=this.opos[0],o=this.opos[1],a=e.pageX,l=e.pageY;return s>a&&(i=a,a=s,s=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:s,top:o,width:a-s,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),u=!1,c={};i&&i.element!==n.element[0]&&(c.left=i.left+n.elementPos.left,c.right=i.right+n.elementPos.left,c.top=i.top+n.elementPos.top,c.bottom=i.bottom+n.elementPos.top,"touch"===r.tolerance?u=!(c.left>a||s>c.right||c.top>l||o>c.bottom):"fit"===r.tolerance&&(u=c.left>s&&a>c.right&&c.top>o&&l>c.bottom),u?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.0-rc.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(n=t(this),!1):void 0}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var r,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,s,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||n+u>a&&l>n+u,d="y"===this.options.axis||e+c>s&&o>e+c,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>s&&o>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=n&&r;return!!s&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,s,o,a=[],l=[],u=this._connectWith();if(u&&e)for(n=u.length-1;n>=0;n--)for(s=t(u[n],this.document[0]),r=s.length-1;r>=0;r--)o=t.data(s[r],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,s,o,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=t(d[i],this.document[0]),n=r.length-1;n>=0;n--)s=t.data(r[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(h.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=h.length-1;i>=0;i--)for(o=h[i][1],a=h[i][0],n=0,u=a.length;u>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===n?e._createTrPlaceholder(e.currentItem,r):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,s,o,a,l,u,c,h,d=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,s=null,c=d.floating||this._isFloating(this.currentItem),o=c?"left":"top",a=c?"width":"height",h=c?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],u=!1,e[h]-l>this.items[n][a]/2&&(u=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),s=this.items[n],this.direction=u?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,s=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),
left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.0-rc.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),s=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(t(e.target).attr("tabIndex",-1),t(s).attr("tabIndex",0),t(s).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),r=n.uniqueId().attr("id");e.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=r.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,s=this.active,o=t(e.currentTarget),a=o[0]===s[0],l=a&&r.collapsible,u=l?t():o.next(),c=s.next(),h={oldHeader:s,oldPanel:c,newHeader:l?t():o,newPanel:u};e.preventDefault(),a&&!r.collapsible||this._trigger("beforeActivate",e,h)===!1||(r.active=!l&&this.headers.index(o),this.active=a?t():o,this._toggle(h),this._removeClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,r,s,o=this,a=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=u&&c.down||c,d=function(){o._toggleComplete(i)};return"number"==typeof h&&(s=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,s=s||h.duration||c.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:s,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:s,easing:r,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,s,r,d):t.animate(this.showProps,s,r,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.0-rc.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,n,r,s,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",r=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),r===n?s=!0:r=n+r,i=this._filterMenuItems(r),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,r,s,o=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),s=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,s,o,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(s+r):r+a>o&&this.activeMenu.scrollTop(s+r-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-r}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.0-rc.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),s="textarea"===r,o="input"===r;this.isMultiLine=s||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var s=t.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case s.UP:e=!0,this._keyEvent("previous",r);break;case s.DOWN:e=!0,this._keyEvent("next",r);break;case s.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),n=i.item.attr("aria-label")||r.value,void(n&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,i){var n=i.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!n)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete,t.widget("ui.controlgroup",{version:"1.12.0-rc.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,r){var s,o={};return r?"controlgroupLabel"===n?(s=e.element.find(r),s.each(function(){t(this).contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(s,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(s.get()))):void(t.fn[n]&&(e["_"+n+"Options"]&&(o=e["_"+n+"Options"]("middle")),e.element.find(r)[n](o).each(function(){var e=t(this),r=e[n]("widget");t.data(r[0],"ui-controlgroup-data",e[n]("instance")),i.push(r[0])}))):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right",n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:null,first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right")}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":null,"ui-selectmenu-button-closed":null},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?null:"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")}}[t]}},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,n){
var r=e[n]().data("ui-controlgroup-data");r&&i["_"+r.widgetName+"Options"]?r.element[r.widgetName](i["_"+r.widgetName+"Options"](n)):i._updateCornerClass(e[n](),n)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.0-rc.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each(function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-highlight",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-highlight":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-highlight"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.0-rc.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,r=n?this.options.iconPosition:i,s="top"===r||"bottom"===r;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),s?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==n(arguments[0])&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.0-rc.2"}});var f;t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,s;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),r),s.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,s):r&&this._inlineDatepicker(e,s)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,s,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.on("focus",this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,s=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;t.length>r;r++)t[r].length>i&&(i=t[r].length,n=r);return n},s.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,s){var o,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),f===r&&(f=null))},_enableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,s,o,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):u?"all"===i?t.extend({},u.settings):this._get(u,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=n),void(u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),a(u.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,o)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,s=t.datepicker._getInst(e.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),r[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,r[0]),i=t.datepicker._get(s,"onSelect"),i?(n=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,r,s,o,l,u,c;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(n,"beforeShow"),s=r?r.apply(e,[e,n]):{},s!==!1&&(a(n.settings,s),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return o|="fixed"===t(this).css("position"),!o}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),l=t.datepicker._checkOffset(n,l,o),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(u=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?n.dpDiv.show(u,t.datepicker._get(n,"showOptions"),c):n.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,f=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],s=17,a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&o.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+s>u&&u>s?Math.abs(s+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,s,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),r=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,r):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),s=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),s=this._getInst(r[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(r)},_selectDay:function(e,i,n,r){var s,o=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=t("a",r).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var r,s=t(e),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),r=this._get(o,"onSelect"),r?r.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=n(o.input[0])&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(s).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,r){if(null==e||null==i)throw"Invalid arguments";if(i="object"==("undefined"==typeof i?"undefined":n(i))?""+i:i+"",""===i)return null;var s,o,a,l,u=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,f=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,g=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,y=-1,_=-1,b=!1,w=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},x=function(t){var e=w(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?n:1,s=RegExp("^\\d{"+r+","+n+"}"),o=i.substring(u).match(s);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},k=function(e,n,r){var s=-1,o=t.map(w(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];return i.substr(u,n.length).toLowerCase()===n.toLowerCase()?(s=e[0],u+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+u},T=function(){if(i.charAt(u)!==e.charAt(s))throw"Unexpected literal at position "+u;u++};for(s=0;e.length>s;s++)if(b)"'"!==e.charAt(s)||w("'")?T():b=!1;else switch(e.charAt(s)){case"d":y=x("d");break;case"D":k("D",d,f);break;case"o":_=x("o");break;case"m":v=x("m");break;case"M":v=k("M",p,g);break;case"y":m=x("y");break;case"@":l=new Date(x("@")),m=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":l=new Date((x("!")-this._ticksTo1970)/1e4),m=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":w("'")?T():b=!0;break;default:T()}if(i.length>u&&(a=i.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=m?0:-100)),_>-1)for(v=1,y=_;o=this._getDaysInMonth(m,v-1),!(o>=y);)v++,y-=o;if(l=this._daylightSavingAdjust(new Date(m,v-1,y)),l.getFullYear()!==m||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},u=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,s);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),o,a);break;case"y":h+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),s=r,o=this._getFormatConfig(t);try{s=this.parseDate(i,n,o)||r}catch(a){n=e?"":n}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=n?s.getDate():0,t.currentMonth=n?s.getMonth():0,t.currentYear=n?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function a(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=r.getFullYear(),s=r.getMonth(),o=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(i);u;){switch(u[2]||"d"){case"d":case"D":o+=parseInt(u[1],10);break;case"w":case"W":o+=7*parseInt(u[1],10);break;case"m":case"M":s+=parseInt(u[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(u[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(a,s))}u=l.exec(i)}return new Date(a,s,o)},o=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,s=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),r===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){
var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,s,o,a,l,u,c,h,d,f,p,g,m,v,y,_,b,w,x,k,T,C,D,S,E,O,A,M,P,j,$,I,N,L,R,F,H=new Date,z=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),W=this._get(t,"isRTL"),Y=this._get(t,"showButtonPanel"),B=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),q=1!==G[0]||1!==G[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-V,tt=t.drawYear;if(0>Q&&(Q+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-G[0]*G[1]+1,J.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)Q--,0>Q&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Q-X,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+X,1)),this._getFormatConfig(t)):r,s=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:z,o=U?this.formatDate(o,a,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(W?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",x=0;G[0]>x;x++){for(k="",this.maxRows=4,T=0;G[1]>T;T++){if(C=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),D=" ui-corner-all",S="",q){if(S+="<div class='ui-datepicker-group",G[1]>1)switch(T){case 0:S+=" ui-datepicker-group-first",D=" ui-corner-"+(W?"right":"left");break;case G[1]-1:S+=" ui-datepicker-group-last",D=" ui-corner-"+(W?"left":"right");break;default:S+=" ui-datepicker-group-middle",D=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===x?W?s:n:"")+(/all|right/.test(D)&&0===x?W?n:s:"")+this._generateMonthYearHeader(t,Q,tt,Z,J,x>0||T>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)O=(w+c)%7,E+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[O]+"'>"+f[O]+"</span></th>";for(S+=E+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),M=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,P=Math.ceil((M+A)/7),j=q&&this.maxRows>P?this.maxRows:P,this.maxRows=j,$=this._daylightSavingAdjust(new Date(tt,Q,1-M)),I=0;j>I;I++){for(S+="<tr>",N=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")($)+"</td>":"",w=0;7>w;w++)L=m?m.apply(t.input?t.input[0]:null,[$]):[!0,""],R=$.getMonth()!==Q,F=R&&!y||!L[0]||Z&&Z>$||J&&$>J,N+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+($.getTime()===C.getTime()&&Q===t.selectedMonth&&t._keyEvent||_.getTime()===$.getTime()&&_.getTime()===C.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+L[1]+($.getTime()===K.getTime()?" "+this._currentClass:"")+($.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+$.getMonth()+"' data-year='"+$.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+$.getDate()+"</span>":"<a class='ui-state-default"+($.getTime()===z.getTime()?" ui-state-highlight":"")+($.getTime()===K.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+$.getDate()+"</a>")+"</td>",$.setDate($.getDate()+1),$=this._daylightSavingAdjust($);S+=N+"</tr>"}Q++,Q>11&&(Q=0,tt++),S+="</tbody></table>"+(q?"</div>"+(G[0]>0&&T===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}b+=k}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,r,s,o,a){var l,u,c,h,d,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(s||!m)b+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,u=r&&r.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!u||r.getMonth()>=c)&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(y||(_+=b+(!s&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},p=f(h[0]),g=Math.max(p,f(h[1]||"")),p=n?Math.max(p,n.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!s&&m&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),r=t.selectedMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,s)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),o=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||e.getTime()>=r.getTime())&&(!s||e.getTime()<=s.getTime())&&(!o||e.getFullYear()>=o)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,r){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==("undefined"==typeof e?"undefined":n(e))?e:this._daylightSavingAdjust(new Date(r,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.0-rc.2",t.datepicker,t.widget("ui.dialog",{version:"1.12.0-rc.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),s=Math.max.apply(null,r);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,function(i,n){var r,s;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,s={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,t("<button></button>",n).button(s).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,s){var o=s.offset.left-i.document.scrollLeft(),a=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(s))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,s=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,s){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,s=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(n=s.is(":data(ui-draggable)"),n&&!i&&s.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=s.is(":data(ui-resizable)"),r&&!i&&s.resizable("destroy"),r&&"string"==typeof i&&s.resizable("option","handles",i),r||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.0-rc.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.0-rc.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(i,s){var o;s.optgroup!==r&&(o=t("<li>",{text:s.optgroup}),n._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(e),r=s.optgroup),n._renderItemData(e,s)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),
this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each(function(e,r){n.push(i._parseOption(t(r),e))}),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.0-rc.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),s="<span tabindex='0'></span>",o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)o.push(s);this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,s,o,a,l,u,c=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(r>i||r===i&&(e===c._lastChangedValue||c.values(e)===h.min))&&(r=i,s=t(this),o=e)}),a=this._start(e,o),a!==!1&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(s,null,"ui-state-active"),s.trigger("focus"),l=s.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-s.width()/2,top:e.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,s;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,r,s=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),s=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(r,i):Math.max(r,i)),o[e]=i),i!==s&&(n=this._trigger("slide",t,this._uiHash(e,i,o)),n!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],s=0;n.length>s;s+=1)n[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,n=Math.round((t-e)/i)*i;t=n+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,s,o=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),s=this._valueMax(),i=s!==r?100*((n-r)/(s-r)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(e){var i,n,r,s,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,o),i===!1))return}switch(s=this.options.step,n=r=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-s)}this._slide(e,o,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.0-rc.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,n){var r=i.attr(n);null!=r&&r.length&&(e[n]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,r;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:l(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:l(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:l(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:l(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void l(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.0-rc.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tab":"ui-corner-top","ui-tabs-panel":"ui-corner-bottom"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(r){}try{n=decodeURIComponent(n)}catch(r){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,r){return t(r).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=!i&&0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>r&&(e=0),0>e&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,n){var r,s,o,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),u=l.attr("aria-controls");e._isLocal(n)?(r=n.hash,o=r.substring(1),s=e.element.find(e._sanitizeSelector(r))):(o=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+o,s=e.element.find(r),s.length||(s=e._createPanel(o),s.insertAfter(e.panels[i-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":o,"aria-labelledby":a}),s.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),e===!0||-1!==t.inArray(r,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),s=r.closest("li"),o=s[0]===n[0],a=o&&i.collapsible,l=a?t():this._getPanelForTab(s),u=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:u,newTab:a?t():s,newPanel:l};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=!a&&this.tabs.index(s),this.active=o?t():s,this.xhr&&this.xhr.abort(),u.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),e),this._toggle(e,c))},_toggle:function(e,i){function n(){s.running=!1,s._trigger("activate",e,i)}function r(){s._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,n):(o.show(),n())}var s=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){s._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),s=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),a={tab:r,panel:o},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){o.html(t),n._trigger("load",i,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href"),beforeSend:function(e,s){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:s},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.0-rc.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);
n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,s=e?e.type:null;return"string"==typeof n||n.nodeType||n.jquery?this._open(e,t,n):(i=n.call(t[0],function(i){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=s),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,n){function r(t){u.of=t,o.is(":hidden")||o.position(u)}var s,o,a,l,u=t.extend({},this.options.position);if(n){if(s=this._find(i))return void s.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),o=s.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),l=t("<div>").html(o.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(r(u.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:o})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),s=this._find(r);return s?(i=s.tooltip,void(s.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),s.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),s.closing=!0,this._trigger("close",e,{tooltip:i}),s.hiding||(s.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),s=n.element;r.target=r.currentTarget=s[0],e.close(r,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var p="ui-effects-",g="ui-effects-style",m="ui-effects-animated",v=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var n=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=u(),r=n._rgba=[];return i=i.toLowerCase(),p(l,function(t,s){var o,a=s.re.exec(i),l=a&&s.parse(a),u=s.space||"rgba";return l?(o=n[u](l),n[c[u].cache]=o[c[u].cache],r=n._rgba=o._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,s.transparent),n):s[i]}function r(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=u.support={},f=t("<p>")[0],p=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,o,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(o),o=e);var h=this,d=t.type(r),f=this._rgba=[];return o!==e&&(r=[r,o,a,l],d="array"),"string"===d?this.parse(n(r)||s._default):"array"===d?(p(c.rgba.props,function(t,e){f[e.idx]=i(r[e.idx],e)}),this):"object"===d?(r instanceof u?p(c,function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}):p(c,function(e,n){var s=n.cache;p(n.props,function(t,e){if(!h[s]&&n.to){if("alpha"===t||null==r[t])return;h[s]=n.to(h._rgba)}h[s][e.idx]=i(r[t],e,!0)}),h[s]&&0>t.inArray(null,h[s].slice(0,3))&&(h[s][3]=1,n.from&&(h._rgba=n.from(h[s])))}),this):e},is:function(t){var i=u(t),n=!0,r=this;return p(c,function(t,s){var o,a=i[s.cache];return a&&(o=r[s.cache]||s.to&&s.to(r._rgba)||[],p(s.props,function(t,i){return null!=a[i.idx]?n=a[i.idx]===o[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return p(c,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=u(t),r=n._space(),s=c[r],o=0===this.alpha()?u("transparent"):this,a=o[s.cache]||s.to(o._rgba),l=a.slice();return n=n[s.cache],p(s.props,function(t,r){var s=r.idx,o=a[s],u=n[s],c=h[r.type]||{};null!==u&&(null===o?l[s]=u:(c.mod&&(u-o>c.mod/2?o+=c.mod:o-u>c.mod/2&&(o-=c.mod)),l[s]=i((u-o)*e+o,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=u(e)._rgba;return u(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,s=t[2]/255,o=t[3],a=Math.max(n,r,s),l=Math.min(n,r,s),u=a-l,c=a+l,h=.5*c;return e=l===a?0:n===a?60*(r-s)/u+360:r===a?60*(s-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=h?u/c:u/(2-c),[Math.round(e)%360,i,h,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],s=t[3],o=.5>=n?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*r(a,o,e+1/3)),Math.round(255*r(a,o,e)),Math.round(255*r(a,o,e-1/3)),s]},p(c,function(n,r){var s=r.props,o=r.cache,l=r.to,c=r.from;u.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===e)return this[o].slice();var r,a=t.type(n),h="array"===a||"object"===a?n:arguments,d=this[o].slice();return p(s,function(t,e){var n=h["object"===a?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),c?(r=u(c(d)),r[o]=d,r):u(d)},p(s,function(e,i){u.fn[e]||(u.fn[e]=function(r){var s,o=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":n,u=this[l](),c=u[i.idx];return"undefined"===o?c:("function"===o&&(r=r.call(this,c),o=t.type(r)),null==r&&i.empty?this:("string"===o&&(s=a.exec(r),s&&(r=c+parseFloat(s[2])*("+"===s[1]?1:-1))),u[i.idx]=r,this[l](u)))})})}),u.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,r){var s,o,a="";if("transparent"!==r&&("string"!==t.type(r)||(s=n(r)))){if(r=u(s||r),!d.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&o&&o.style;)try{a=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=u(e.elem,i),e.end=u(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},s=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(v),function(){function e(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(s[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(s[i]=r[i]);return s}function i(e,i){var n,s,o={};for(n in i)s=i[n],e[n]!==s&&(r[n]||(t.fx.step[n]||!isNaN(parseFloat(s)))&&(o[n]=s));return o}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(v.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,s,o,a){var l=t.speed(s,o,a);return this.queue(function(){var s,o=t(this),a=o.attr("class")||"",u=l.children?o.find("*").addBack():o;u=u.map(function(){var i=t(this);return{el:i,start:e(this)}}),s=function(){t.each(n,function(t,e){r[e]&&o[e+"Class"](r[e])})},s(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",a),u=u.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,u.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,s){return n?t.effects.animateClass.call(this,{add:i},n,r,s):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,s){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,s):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,s,o){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,s,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,s)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,s){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,s)}})}(),function(){function e(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==("undefined"==typeof e?"undefined":n(e))&&!e.effect))}function r(t,e){var i=e.outerWidth(),n=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,s=r.exec(t)||["",0,i,n,0];return{top:parseFloat(s[1])||0,right:"auto"===s[2]?i:parseFloat(s[2]),bottom:"auto"===s[3]?n:parseFloat(s[3]),left:parseFloat(s[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(m)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,n=e.length;n>i;i++)null!==e[i]&&t.data(p+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,r=e.length;r>n;n++)null!==e[n]&&(i=t.data(p+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return e.wrap(n),(e[0]===s||t.contains(e[0],s))&&t(s).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.0-rc.2",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,r="vertical"!==i?(e||100)/100:1;return{height:t.height()*r,width:t.width()*n,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(g,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(g)||"",t.removeData(g)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(e){var i,n=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(p+"placeholder",i)),e.css({position:n,left:r.left,top:r.top}),i},removePlaceholder:function(t){var e=p+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var s=e.cssUnit(i);s[0]>0&&(r[i]=s[0]*n+s[1])}),r}}),t.fn.extend({effect:function(){function i(e){function i(){a.removeData(m),t.effects.cleanUp(a),"hide"===n.mode&&a.hide(),o()}function o(){t.isFunction(l)&&l.call(a[0]),t.isFunction(e)&&e()}var a=t(this);n.mode=c.shift(),t.uiBackCompat===!1||s?"none"===n.mode?(a[u](),o()):r.call(a[0],n,i):(a.is(":hidden")?"hide"===u:"show"===u)?(a[u](),o()):r.call(a[0],n,o)}var n=e.apply(this,arguments),r=t.effects.effect[n.effect],s=r.mode,o=n.queue,a=o||"fx",l=n.complete,u=n.mode,c=[],h=function(e){var i=t(this),n=t.effects.mode(i,u)||s;i.data(m,!0),c.push(n),s&&("show"===n||n===s&&"hide"===n)&&i.show(),s&&"none"===n||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!r?u?this[u](n.duration,l):this.each(function(){l&&l.call(this)}):o===!1?this.each(h).each(i):this.queue(a,h).queue(a,i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):r(this.css("clip"),this)},transfer:function(e,i){var n=t(this),r=t(e.to),s="fixed"===r.css("position"),o=t("body"),a=s?o.scrollTop():0,l=s?o.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},h=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=r(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var y=t.effects;t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),s=e.direction||"up",o=r.cssClip(),a={clip:t.extend({},o)},l=t.effects.createPlaceholder(r);a.clip[n[s][0]]=a.clip[n[s][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=o),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var n,r,s,o=t(this),a=e.mode,l="hide"===a,u="show"===a,c=e.direction||"up",h=e.distance,d=e.times||5,f=2*d+(u||l?1:0),p=e.duration/f,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,_=o.queue().length;for(t.effects.createPlaceholder(o),s=o.css(m),h||(h=o["top"===m?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[m]=s,o.css("opacity",0).css(m,v?2*-h:2*h).animate(r,p,g)),l&&(h/=Math.pow(2,d-1)),r={},r[m]=s;d>y;y++)n={},n[m]=(v?"-=":"+=")+h,o.animate(n,p,g).animate(r,p,g),h=l?2*h:h/2;l&&(n={opacity:0},n[m]=(v?"-=":"+=")+h,o.animate(n,p,g)),o.queue(i),t.effects.unshift(o,_,f+1)}),t.effects.define("clip","hide",function(e,i){var n,r={},s=t(this),o=e.direction||"vertical",a="both"===o,l=a||"horizontal"===o,u=a||"vertical"===o;n=s.cssClip(),r.clip={top:u?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:u?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(s),"show"===e.mode&&(s.cssClip(r.clip),r.clip=n),s.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var n,r=t(this),s=e.mode,o="show"===s,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a?"-=":"+=",c="+="===u?"-=":"+=",h={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,h[l]=u+n,o&&(r.css(h),h[l]=c+n,h.opacity=1),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function n(){_.push(this),_.length===h*d&&r()}function r(){f.css({visibility:"visible"}),t(_).remove(),i()}var s,o,a,l,u,c,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,f=t(this),p=e.mode,g="show"===p,m=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/d),y=Math.ceil(f.outerHeight()/h),_=[];for(s=0;h>s;s++)for(l=m.top+s*y,c=s-(h-1)/2,o=0;d>o;o++)a=m.left+o*v,u=o-(d-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?u*v:0),top:l+(g?c*y:0),opacity:g?0:1}).animate({left:a+(g?0:u*v),top:l+(g?0:c*y),opacity:g?1:0},e.duration||500,e.easing,n)}),t.effects.define("fade","toggle",function(e,i){var n="show"===e.mode;t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var n=t(this),r=e.mode,s="show"===r,o="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),u=!!e.horizFirst,c=u?["right","bottom"]:["bottom","right"],h=e.duration/2,d=t.effects.createPlaceholder(n),f=n.cssClip(),p={clip:t.extend({},f)},g={clip:t.extend({},f)},m=[f[c[0]],f[c[1]]],v=n.queue().length;l&&(a=parseInt(l[1],10)/100*m[o?0:1]),p.clip[c[0]]=a,g.clip[c[0]]=a,g.clip[c[1]]=0,s&&(n.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=f),n.queue(function(i){d&&d.animate(t.effects.clipToBox(p),h,e.easing).animate(t.effects.clipToBox(g),h,e.easing),i()}).animate(p,h,e.easing).animate(g,h,e.easing).queue(i),t.effects.unshift(n,v,4)}),t.effects.define("highlight","show",function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var n,r,s,o=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,h="effect"!==c,d=e.scale||"both",f=e.origin||["middle","center"],p=o.css("position"),g=o.position(),m=t.effects.scaledDimensions(o),v=e.from||m,y=e.to||t.effects.scaledDimensions(o,0);t.effects.createPlaceholder(o),"show"===c&&(s=v,v=y,y=s),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},("box"===d||"both"===d)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(o,l,r.from.y,v),y=t.effects.setTransition(o,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(o,u,r.from.x,v),y=t.effects.setTransition(o,u,r.to.x,y))),("content"===d||"both"===d)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(o,a,r.from.y,v),y=t.effects.setTransition(o,a,r.to.y,y)),f&&(n=t.effects.getBaseline(f,m),v.top=(m.outerHeight-v.outerHeight)*n.y+g.top,v.left=(m.outerWidth-v.outerWidth)*n.x+g.left,y.top=(m.outerHeight-y.outerHeight)*n.y+g.top,y.left=(m.outerWidth-y.outerWidth)*n.x+g.left),o.css(v),("content"===d||"both"===d)&&(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),o.find("*[width]").each(function(){var i=t(this),n=t.effects.scaledDimensions(i),s={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},o={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x};r.from.y!==r.to.y&&(s=t.effects.setTransition(i,l,r.from.y,s),o=t.effects.setTransition(i,l,r.to.y,o)),r.from.x!==r.to.x&&(s=t.effects.setTransition(i,u,r.from.x,s),o=t.effects.setTransition(i,u,r.to.x,o)),h&&t.effects.saveStyle(i),i.css(s),i.animate(o,e.duration,e.easing,function(){h&&t.effects.restoreStyle(i)})})),o.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=o.offset();0===y.opacity&&o.css("opacity",v.opacity),h||(o.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(o)),i()}})}),t.effects.define("scale",function(e,i){var n=t(this),r=e.mode,s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),o=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,s,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),t.effects.effect.size.call(this,o,i)}),t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)}),t.effects.define("pulsate","show",function(e,i){var n=t(this),r=e.mode,s="show"===r,o="hide"===r,a=s||o,l=2*(e.times||5)+(a?1:0),u=e.duration/l,c=0,h=1,d=n.queue().length;for((s||!n.is(":visible"))&&(n.css("opacity",0).show(),c=1);l>h;h++)n.animate({opacity:c},u,e.easing),c=1-c;n.animate({opacity:c},u,e.easing),n.queue(i),t.effects.unshift(n,d,l+1)}),t.effects.define("shake",function(e,i){var n=1,r=t(this),s=e.direction||"left",o=e.distance||20,a=e.times||3,l=2*a+1,u=Math.round(e.duration/l),c="up"===s||"down"===s?"top":"left",h="up"===s||"left"===s,d={},f={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[c]=(h?"-=":"+=")+o,f[c]=(h?"+=":"-=")+2*o,p[c]=(h?"-=":"+=")+2*o,r.animate(d,u,e.easing);a>n;n++)r.animate(f,u,e.easing).animate(p,u,e.easing);r.animate(f,u,e.easing).animate(d,u/2,e.easing).queue(i),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,i){var n,r,s=t(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h=e.distance||s["top"===u?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(s),n=s.cssClip(),r=s.position()[u],d[u]=(c?-1:1)*h+r,d.clip=s.cssClip(),d.clip[o[l][1]]=d.clip[o[l][0]],"show"===a&&(s.cssClip(d.clip),s.css(u,d[u]),d.clip=n,d[u]=r),s.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var y;t.uiBackCompat!==!1&&(y=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}))})},{}],4:[function(t,e,i){function n(t,e){return f.isUndefined(e)?""+e:f.isNumber(e)&&!isFinite(e)?e.toString():f.isFunction(e)||f.isRegExp(e)?e.toString():e}function r(t,e){return f.isString(t)?t.length<e?t:t.slice(0,e):t}function s(t){return r(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+r(JSON.stringify(t.expected,n),128)}function o(t,e,i,n,r){throw new m.AssertionError({message:i,actual:t,expected:e,operator:n,stackStartFunction:r})}function a(t,e){t||o(t,!0,e,"==",m.ok)}function l(t,e){if(t===e)return!0;if(f.isBuffer(t)&&f.isBuffer(e)){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}return f.isDate(t)&&f.isDate(e)?t.getTime()===e.getTime():f.isRegExp(t)&&f.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:f.isObject(t)||f.isObject(e)?c(t,e):t==e}function u(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function c(t,e){if(f.isNullOrUndefined(t)||f.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(f.isPrimitive(t)||f.isPrimitive(e))return t===e;var i=u(t),n=u(e);if(i&&!n||!i&&n)return!1;if(i)return t=p.call(t),e=p.call(e),l(t,e);var r,s,o=v(t),a=v(e);if(o.length!=a.length)return!1;for(o.sort(),a.sort(),s=o.length-1;s>=0;s--)if(o[s]!=a[s])return!1;for(s=o.length-1;s>=0;s--)if(r=o[s],!l(t[r],e[r]))return!1;return!0}function h(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function d(t,e,i,n){var r;f.isString(i)&&(n=i,i=null);try{e()}catch(s){r=s}if(n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),t&&!r&&o(r,i,"Missing expected exception"+n),!t&&h(r,i)&&o(r,i,"Got unwanted exception"+n),
t&&r&&i&&!h(r,i)||!t&&r)throw r}var f=t("util/"),p=Array.prototype.slice,g=Object.prototype.hasOwnProperty,m=e.exports=a;m.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=s(this),this.generatedMessage=!0);var e=t.stackStartFunction||o;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var i=new Error;if(i.stack){var n=i.stack,r=e.name,a=n.indexOf("\n"+r);if(a>=0){var l=n.indexOf("\n",a+1);n=n.substring(l+1)}this.stack=n}}},f.inherits(m.AssertionError,Error),m.fail=o,m.ok=a,m.equal=function(t,e,i){t!=e&&o(t,e,i,"==",m.equal)},m.notEqual=function(t,e,i){t==e&&o(t,e,i,"!=",m.notEqual)},m.deepEqual=function(t,e,i){l(t,e)||o(t,e,i,"deepEqual",m.deepEqual)},m.notDeepEqual=function(t,e,i){l(t,e)&&o(t,e,i,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(t,e,i){t!==e&&o(t,e,i,"===",m.strictEqual)},m.notStrictEqual=function(t,e,i){t===e&&o(t,e,i,"!==",m.notStrictEqual)},m["throws"]=function(t,e,i){d.apply(this,[!0].concat(p.call(arguments)))},m.doesNotThrow=function(t,e){d.apply(this,[!1].concat(p.call(arguments)))},m.ifError=function(t){if(t)throw t};var v=Object.keys||function(t){var e=[];for(var i in t)g.call(t,i)&&e.push(i);return e}},{"util/":201}],5:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],6:[function(t,e,i){var n=t("./$.is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./$.is-object":35}],7:[function(t,e,i){var n=t("./$.to-iobject"),r=t("./$.to-length"),s=t("./$.to-index");e.exports=function(t){return function(e,i,o){var a,l=n(e),u=r(l.length),c=s(o,u);if(t&&i!=i){for(;u>c;)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c;return!t&&-1}}},{"./$.to-index":65,"./$.to-iobject":67,"./$.to-length":68}],8:[function(t,e,i){var n=t("./$.ctx"),r=t("./$.iobject"),s=t("./$.to-object"),o=t("./$.to-length");e.exports=function(t){var e=1==t,i=2==t,a=3==t,l=4==t,u=6==t,c=5==t||u;return function(h,d,f){for(var p,g,m=s(h),v=r(m),y=n(d,f,3),_=o(v.length),b=0,w=e?Array(_):i?[]:void 0;_>b;b++)if((c||b in v)&&(p=v[b],g=y(p,b,m),t))if(e)w[b]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return b;case 2:w.push(p)}else if(l)return!1;return u?-1:a||l?l:w}}},{"./$.ctx":16,"./$.iobject":32,"./$.to-length":68,"./$.to-object":69}],9:[function(t,e,i){var n=t("./$.to-object"),r=t("./$.iobject"),s=t("./$.enum-keys");e.exports=Object.assign||function(t,e){for(var i=n(t),o=arguments.length,a=1;o>a;)for(var l,u=r(arguments[a++]),c=s(u),h=c.length,d=0;h>d;)i[l=c[d++]]=u[l];return i}},{"./$.enum-keys":20,"./$.iobject":32,"./$.to-object":69}],10:[function(t,e,i){var n=t("./$.cof"),r=t("./$.wks")("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=(e=Object(t))[r])?i:s?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},{"./$.cof":11,"./$.wks":72}],11:[function(t,e,i){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],12:[function(t,e,i){"use strict";var n=t("./$"),r=t("./$.hide"),s=t("./$.ctx"),o=t("./$.species"),a=t("./$.strict-new"),l=t("./$.defined"),u=t("./$.for-of"),c=t("./$.iter-step"),h=t("./$.uid")("id"),d=t("./$.has"),f=t("./$.is-object"),p=Object.isExtensible||f,g=t("./$.support-desc"),m=g?"_s":"size",v=0,y=function(t,e){if(!f(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!d(t,h)){if(!p(t))return"F";if(!e)return"E";r(t,h,++v)}return"O"+t[h]},_=function(t,e){var i,n=y(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};e.exports={getConstructor:function(e,i,r,o){var c=e(function(t,e){a(t,c,i),t._i=n.create(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=e&&u(e,r,t[o],t)});return t("./$.mix")(c.prototype,{clear:function(){for(var t=this,e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[m]=0},"delete":function(t){var e=this,i=_(e,t);if(i){var n=i.n,r=i.p;delete e._i[i.i],i.r=!0,r&&(r.n=n),n&&(n.p=r),e._f==i&&(e._f=n),e._l==i&&(e._l=r),e[m]--}return!!i},forEach:function(t){for(var e,i=s(t,arguments[1],3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!_(this,t)}}),g&&n.setDesc(c.prototype,"size",{get:function(){return l(this[m])}}),c},def:function(t,e,i){var n,r,s=_(t,e);return s?s.v=i:(t._l=s={i:r=y(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=s),n&&(n.n=s),t[m]++,"F"!==r&&(t._i[r]=s)),t},getEntry:_,setStrong:function(e,i,n){t("./$.iter-define")(e,i,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?c(0,i.k):"values"==e?c(0,i.v):c(0,[i.k,i.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),o(e),o(t("./$.core")[i])}}},{"./$":43,"./$.core":15,"./$.ctx":16,"./$.defined":18,"./$.for-of":25,"./$.has":28,"./$.hide":29,"./$.is-object":35,"./$.iter-define":39,"./$.iter-step":41,"./$.mix":47,"./$.species":56,"./$.strict-new":57,"./$.support-desc":62,"./$.uid":70}],13:[function(t,e,i){"use strict";var n=t("./$.hide"),r=t("./$.an-object"),s=t("./$.strict-new"),o=t("./$.for-of"),a=t("./$.array-methods"),l=t("./$.uid")("weak"),u=t("./$.is-object"),c=t("./$.has"),h=Object.isExtensible||u,d=a(5),f=a(6),p=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return d(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},"delete":function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,i,n,r){var a=e(function(t,e){s(t,a,i),t._i=p++,t._l=void 0,void 0!=e&&o(e,n,t[r],t)});return t("./$.mix")(a.prototype,{"delete":function(t){return!!u(t)&&(h(t)?c(t,l)&&c(t[l],this._i)&&delete t[l][this._i]:g(this)["delete"](t))},has:function(t){return!!u(t)&&(h(t)?c(t,l)&&c(t[l],this._i):g(this).has(t))}}),a},def:function(t,e,i){return h(r(e))?(c(e,l)||n(e,l,{}),e[l][t._i]=i):g(t).set(e,i),t},frozenStore:g,WEAK:l}},{"./$.an-object":6,"./$.array-methods":8,"./$.for-of":25,"./$.has":28,"./$.hide":29,"./$.is-object":35,"./$.mix":47,"./$.strict-new":57,"./$.uid":70}],14:[function(t,e,i){"use strict";var n=t("./$.global"),r=t("./$.def"),s=t("./$.iter-buggy"),o=t("./$.for-of"),a=t("./$.strict-new");e.exports=function(e,i,l,u,c,h){var d=n[e],f=d,p=c?"set":"add",g=f&&f.prototype,m={},v=function(e){var i=g[e];t("./$.redef")(g,e,"delete"==e?function(t){return i.call(this,0===t?0:t)}:"has"==e?function(t){return i.call(this,0===t?0:t)}:"get"==e?function(t){return i.call(this,0===t?0:t)}:"add"==e?function(t){return i.call(this,0===t?0:t),this}:function(t,e){return i.call(this,0===t?0:t,e),this})};if("function"==typeof f&&(h||!s&&g.forEach&&g.entries)){var y,_=new f,b=_[p](h?{}:-0,1);t("./$.iter-detect")(function(t){new f(t)})||(f=i(function(t,i){a(t,f,e);var n=new d;return void 0!=i&&o(i,c,n[p],n),n}),f.prototype=g,g.constructor=f),h||_.forEach(function(t,e){y=1/e===-(1/0)}),y&&(v("delete"),v("has"),c&&v("get")),(y||b!==_)&&v(p),h&&g.clear&&delete g.clear}else f=u.getConstructor(i,e,c,p),t("./$.mix")(f.prototype,l);return t("./$.tag")(f,e),m[e]=f,r(r.G+r.W+r.F*(f!=d),m),h||u.setStrong(f,e,c),f}},{"./$.def":17,"./$.for-of":25,"./$.global":27,"./$.iter-buggy":36,"./$.iter-detect":40,"./$.mix":47,"./$.redef":51,"./$.strict-new":57,"./$.tag":63}],15:[function(t,e,i){var n=e.exports={};"number"==typeof __e&&(__e=n)},{}],16:[function(t,e,i){var n=t("./$.a-function");e.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},{"./$.a-function":5}],17:[function(t,e,i){var n=t("./$.global"),r=t("./$.core"),s=t("./$.hide"),o=t("./$.redef"),a="prototype",l=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e,i){var c,h,d,f,p=t&u.G,g=t&u.P,m=p?n:t&u.S?n[e]||(n[e]={}):(n[e]||{})[a],v=p?r:r[e]||(r[e]={});p&&(i=e);for(c in i)h=!(t&u.F)&&m&&c in m,d=(h?m:i)[c],f=t&u.B&&h?l(d,n):g&&"function"==typeof d?l(Function.call,d):d,m&&!h&&o(m,c,d),v[c]!=d&&s(v,c,f),g&&((v[a]||(v[a]={}))[c]=d)};n.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,e.exports=u},{"./$.core":15,"./$.global":27,"./$.hide":29,"./$.redef":51}],18:[function(t,e,i){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],19:[function(t,e,i){var n=t("./$.is-object"),r=t("./$.global").document,s=n(r)&&n(r.createElement);e.exports=function(t){return s?r.createElement(t):{}}},{"./$.global":27,"./$.is-object":35}],20:[function(t,e,i){var n=t("./$");e.exports=function(t){var e=n.getKeys(t),i=n.getSymbols;if(i)for(var r,s=i(t),o=n.isEnum,a=0;s.length>a;)o.call(t,r=s[a++])&&e.push(r);return e}},{"./$":43}],21:[function(t,e,i){e.exports=Math.expm1||function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}},{}],22:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],23:[function(t,e,i){"use strict";e.exports=function(e,i,n){var r=t("./$.defined"),s=t("./$.wks")(e),o=""[e];t("./$.fails")(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(t("./$.redef")(String.prototype,e,n(r,s,o)),t("./$.hide")(RegExp.prototype,s,2==i?function(t,e){return o.call(t,this,e)}:function(t){return o.call(t,this)}))}},{"./$.defined":18,"./$.fails":22,"./$.hide":29,"./$.redef":51,"./$.wks":72}],24:[function(t,e,i){"use strict";var n=t("./$.an-object");e.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"./$.an-object":6}],25:[function(t,e,i){var n=t("./$.ctx"),r=t("./$.iter-call"),s=t("./$.is-array-iter"),o=t("./$.an-object"),a=t("./$.to-length"),l=t("./core.get-iterator-method");e.exports=function(t,e,i,u){var c,h,d,f=l(t),p=n(i,u,e?2:1),g=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(s(f))for(c=a(t.length);c>g;g++)e?p(o(h=t[g])[0],h[1]):p(t[g]);else for(d=f.call(t);!(h=d.next()).done;)r(d,p,h.value,e)}},{"./$.an-object":6,"./$.ctx":16,"./$.is-array-iter":33,"./$.iter-call":37,"./$.to-length":68,"./core.get-iterator-method":73}],26:[function(t,e,i){var n={}.toString,r=t("./$.to-iobject"),s=t("./$").getNames,o="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return s(t)}catch(e){return o.slice()}};e.exports.get=function(t){return o&&"[object Window]"==n.call(t)?a(t):s(r(t))}},{"./$":43,"./$.to-iobject":67}],27:[function(t,e,i){var n="undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.exports=n,"number"==typeof __g&&(__g=n)},{}],28:[function(t,e,i){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],29:[function(t,e,i){var n=t("./$"),r=t("./$.property-desc");e.exports=t("./$.support-desc")?function(t,e,i){return n.setDesc(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},{"./$":43,"./$.property-desc":50,"./$.support-desc":62}],30:[function(t,e,i){e.exports=t("./$.global").document&&document.documentElement},{"./$.global":27}],31:[function(t,e,i){e.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],32:[function(t,e,i){var n=t("./$.cof");e.exports=0 in Object("z")?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{"./$.cof":11}],33:[function(t,e,i){var n=t("./$.iterators"),r=t("./$.wks")("iterator");e.exports=function(t){return(n.Array||Array.prototype[r])===t}},{"./$.iterators":42,"./$.wks":72}],34:[function(t,e,i){var n=t("./$.is-object"),r=Math.floor;e.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},{"./$.is-object":35}],35:[function(t,e,i){e.exports=function(t){return null!==t&&("object"==typeof t||"function"==typeof t)}},{}],36:[function(t,e,i){e.exports="keys"in[]&&!("next"in[].keys())},{}],37:[function(t,e,i){var n=t("./$.an-object");e.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(s){var o=t["return"];throw void 0!==o&&n(o.call(t)),s}}},{"./$.an-object":6}],38:[function(t,e,i){"use strict";var n=t("./$"),r={};t("./$.hide")(r,t("./$.wks")("iterator"),function(){return this}),e.exports=function(e,i,s){e.prototype=n.create(r,{next:t("./$.property-desc")(1,s)}),t("./$.tag")(e,i+" Iterator")}},{"./$":43,"./$.hide":29,"./$.property-desc":50,"./$.tag":63,"./$.wks":72}],39:[function(t,e,i){"use strict";var n=t("./$.library"),r=t("./$.def"),s=t("./$.redef"),o=t("./$.hide"),a=t("./$.has"),l=t("./$.wks")("iterator"),u=t("./$.iterators"),c="@@iterator",h="keys",d="values",f=function(){return this};e.exports=function(e,i,p,g,m,v,y){t("./$.iter-create")(p,i,g);var _,b,w=function(t){switch(t){case h:return function(){return new p(this,t)};case d:return function(){return new p(this,t)}}return function(){return new p(this,t)}},x=i+" Iterator",k=e.prototype,T=k[l]||k[c]||m&&k[m],C=T||w(m);if(T){var D=t("./$").getProto(C.call(new e));t("./$.tag")(D,x,!0),!n&&a(k,c)&&o(D,l,f)}if(n&&!y||o(k,l,C),u[i]=C,u[x]=f,m)if(_={keys:v?C:w(h),values:m==d?C:w(d),entries:m!=d?C:w("entries")},y)for(b in _)b in k||s(k,b,_[b]);else r(r.P+r.F*t("./$.iter-buggy"),i,_)}},{"./$":43,"./$.def":17,"./$.has":28,"./$.hide":29,"./$.iter-buggy":36,"./$.iter-create":38,"./$.iterators":42,"./$.library":45,"./$.redef":51,"./$.tag":63,"./$.wks":72}],40:[function(t,e,i){var n=t("./$.wks")("iterator"),r=!1;try{var s=[7][n]();s["return"]=function(){r=!0},Array.from(s,function(){throw 2})}catch(o){}e.exports=function(t){if(!r)return!1;var e=!1;try{var i=[7],s=i[n]();s.next=function(){e=!0},i[n]=function(){return s},t(i)}catch(o){}return e}},{"./$.wks":72}],41:[function(t,e,i){e.exports=function(t,e){return{value:e,done:!!t}}},{}],42:[function(t,e,i){e.exports={}},{}],43:[function(t,e,i){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],44:[function(t,e,i){var n=t("./$"),r=t("./$.to-iobject");e.exports=function(t,e){for(var i,s=r(t),o=n.getKeys(s),a=o.length,l=0;a>l;)if(s[i=o[l++]]===e)return i}},{"./$":43,"./$.to-iobject":67}],45:[function(t,e,i){e.exports=!1},{}],46:[function(t,e,i){e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],47:[function(t,e,i){var n=t("./$.redef");e.exports=function(t,e){for(var i in e)n(t,i,e[i]);return t}},{"./$.redef":51}],48:[function(t,e,i){e.exports=function(e,i){var n=t("./$.def"),r=(t("./$.core").Object||{})[e]||Object[e],s={};s[e]=i(r),n(n.S+n.F*t("./$.fails")(function(){r(1)}),"Object",s)}},{"./$.core":15,"./$.def":17,"./$.fails":22}],49:[function(t,e,i){var n=t("./$"),r=t("./$.an-object");e.exports=function(t){var e=n.getNames(r(t)),i=n.getSymbols;return i?e.concat(i(t)):e}},{"./$":43,"./$.an-object":6}],50:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],51:[function(t,e,i){var n=t("./$.global"),r=t("./$.hide"),s=t("./$.uid")("src"),o="toString",a=Function[o],l=(""+a).split(o);t("./$.core").inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,i,o){"function"==typeof i&&(r(i,s,t[e]?""+t[e]:l.join(String(e))),"name"in i||(i.name=e)),t===n?t[e]=i:(o||delete t[e],r(t,e,i))})(Function.prototype,o,function(){return"function"==typeof this&&this[s]||a.call(this)})},{"./$.core":15,"./$.global":27,"./$.hide":29,"./$.uid":70}],52:[function(t,e,i){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},{}],53:[function(t,e,i){var n=t("./$").getDesc,r=t("./$.is-object"),s=t("./$.an-object"),o=function(t,e){if(s(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i){try{i=t("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),i({},[])}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}():void 0),check:o}},{"./$":43,"./$.an-object":6,"./$.ctx":16,"./$.is-object":35}],54:[function(t,e,i){var n=t("./$.global"),r="__core-js_shared__",s=n[r]||(n[r]={});e.exports=function(t){return s[t]||(s[t]={})}},{"./$.global":27}],55:[function(t,e,i){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],56:[function(t,e,i){"use strict";var n=t("./$"),r=t("./$.wks")("species");e.exports=function(e){!t("./$.support-desc")||r in e||n.setDesc(e,r,{configurable:!0,get:function(){return this}})}},{"./$":43,"./$.support-desc":62,"./$.wks":72}],57:[function(t,e,i){e.exports=function(t,e,i){if(!(t instanceof e))throw TypeError(i+": use the 'new' operator!");return t}},{}],58:[function(t,e,i){var n=t("./$.to-integer"),r=t("./$.defined");e.exports=function(t){return function(e,i){var s,o,a=String(r(e)),l=n(i),u=a.length;return l<0||l>=u?t?"":void 0:(s=a.charCodeAt(l),s<55296||s>56319||l+1===u||(o=a.charCodeAt(l+1))<56320||o>57343?t?a.charAt(l):s:t?a.slice(l,l+2):(s-55296<<10)+(o-56320)+65536)}}},{"./$.defined":18,"./$.to-integer":66}],59:[function(t,e,i){var n=t("./$.defined"),r=t("./$.cof");e.exports=function(t,e,i){if("RegExp"==r(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(t))}},{"./$.cof":11,"./$.defined":18}],60:[function(t,e,i){"use strict";var n=t("./$.to-integer"),r=t("./$.defined");e.exports=function(t){var e=String(r(this)),i="",s=n(t);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},{"./$.defined":18,"./$.to-integer":66}],61:[function(t,e,i){var n=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t},r=t("./$.def"),s=t("./$.defined"),o="\t\n\x0B\f\r \u2028\u2029\ufeff",a="["+o+"]",l="",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$");e.exports=function(e,i){var s={};s[e]=i(n),r(r.P+r.F*t("./$.fails")(function(){return!!o[e]()||l[e]()!=l}),"String",s)}},{"./$.def":17,"./$.defined":18,"./$.fails":22}],62:[function(t,e,i){e.exports=!t("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":22}],63:[function(t,e,i){var n=t("./$.has"),r=t("./$.hide"),s=t("./$.wks")("toStringTag");e.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,s)&&r(t,s,e)}},{"./$.has":28,"./$.hide":29,"./$.wks":72}],64:[function(t,e,i){"use strict";var n,r,s,o=t("./$.ctx"),a=t("./$.invoke"),l=t("./$.html"),u=t("./$.dom-create"),c=t("./$.global"),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,g=0,m={},v="onreadystatechange",y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){y.call(t.data)};d&&f||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},n(g),g},f=function(t){delete m[t]},"process"==t("./$.cof")(h)?n=function(t){h.nextTick(o(y,t,1))}:p?(r=new p,s=r.port2,r.port1.onmessage=_,n=o(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScript?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):n=v in u("script")?function(t){l.appendChild(u("script"))[v]=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),e.exports={set:d,clear:f}},{"./$.cof":11,"./$.ctx":16,"./$.dom-create":19,"./$.global":27,"./$.html":30,"./$.invoke":31}],65:[function(t,e,i){var n=t("./$.to-integer"),r=Math.max,s=Math.min;e.exports=function(t,e){return t=n(t),t<0?r(t+e,0):s(t,e)}},{"./$.to-integer":66}],66:[function(t,e,i){var n=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},{}],67:[function(t,e,i){var n=t("./$.iobject"),r=t("./$.defined");e.exports=function(t){return n(r(t))}},{"./$.defined":18,"./$.iobject":32}],68:[function(t,e,i){var n=t("./$.to-integer"),r=Math.min;e.exports=function(t){return t>0?r(n(t),9007199254740991):0}},{"./$.to-integer":66}],69:[function(t,e,i){var n=t("./$.defined");e.exports=function(t){return Object(n(t))}},{"./$.defined":18}],70:[function(t,e,i){var n=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},{}],71:[function(t,e,i){var n=t("./$.wks")("unscopables");n in[]||t("./$.hide")(Array.prototype,n,{}),e.exports=function(t){[][n][t]=!0}},{"./$.hide":29,"./$.wks":72}],72:[function(t,e,i){var n=t("./$.shared")("wks"),r=t("./$.global").Symbol;e.exports=function(e){return n[e]||(n[e]=r&&r[e]||(r||t("./$.uid"))("Symbol."+e))}},{"./$.global":27,"./$.shared":54,"./$.uid":70}],73:[function(t,e,i){var n=t("./$.classof"),r=t("./$.wks")("iterator"),s=t("./$.iterators");e.exports=t("./$.core").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||s[n(t)]}},{"./$.classof":10,"./$.core":15,"./$.iterators":42,"./$.wks":72}],74:[function(t,e,i){"use strict";var n,r=t("./$"),s=t("./$.support-desc"),o=t("./$.property-desc"),a=t("./$.html"),l=t("./$.dom-create"),u=t("./$.has"),c=t("./$.cof"),h=t("./$.def"),d=t("./$.invoke"),f=t("./$.array-methods"),p=t("./$.uid")("__proto__"),g=t("./$.is-object"),m=t("./$.an-object"),v=t("./$.a-function"),y=t("./$.to-object"),_=t("./$.to-iobject"),b=t("./$.to-integer"),w=t("./$.to-index"),x=t("./$.to-length"),k=t("./$.iobject"),T=t("./$.fails"),C=Object.prototype,D=[],S=D.slice,E=D.join,O=r.setDesc,A=r.getDesc,M=r.setDescs,P=t("./$.array-includes")(!1),j={};s||(n=!T(function(){return 7!=O(l("div"),"a",{get:function(){return 7}}).a}),r.setDesc=function(t,e,i){if(n)try{return O(t,e,i)}catch(r){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(m(t)[e]=i.value),t},r.getDesc=function(t,e){if(n)try{return A(t,e)}catch(i){}if(u(t,e))return o(!C.propertyIsEnumerable.call(t,e),t[e])},r.setDescs=M=function(t,e){m(t);for(var i,n=r.getKeys(e),s=n.length,o=0;s>o;)r.setDesc(t,i=n[o++],e[i]);return t}),h(h.S+h.F*!s,"Object",{getOwnPropertyDescriptor:r.getDesc,defineProperty:r.setDesc,defineProperties:M});var $="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),I=$.concat("length","prototype"),N=$.length,L=function(){var t,e=l("iframe"),i=N,n=">";for(e.style.display="none",a.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object</script"+n),t.close(),L=t.F;i--;)delete L.prototype[$[i]];return L()},R=function(t,e){return function(i){var n,r=_(i),s=0,o=[];for(n in r)n!=p&&u(r,n)&&o.push(n);for(;e>s;)u(r,n=t[s++])&&(~P(o,n)||o.push(n));return o}},F=function(){};h(h.S,"Object",{getPrototypeOf:r.getProto=r.getProto||function(t){return t=y(t),u(t,p)?t[p]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?C:null},getOwnPropertyNames:r.getNames=r.getNames||R(I,I.length,!0),create:r.create=r.create||function(t,e){var i;return null!==t?(F.prototype=m(t),i=new F,F.prototype=null,i[p]=t):i=L(),void 0===e?i:M(i,e)},keys:r.getKeys=r.getKeys||R($,N,!1)});var H=function(t,e,i){if(!(e in j)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";j[e]=Function("F,a","return new F("+n.join(",")+")")}return j[e](t,i)};h(h.P,"Function",{bind:function(t){var e=v(this),i=S.call(arguments,1),n=function(){var r=i.concat(S.call(arguments));return this instanceof n?H(e,r.length,r):d(e,r,t)};return g(e.prototype)&&(n.prototype=e.prototype),n}});var z=T(function(){a&&S.call(a)});h(h.P+h.F*z,"Array",{slice:function(t,e){var i=x(this.length),n=c(this);if(e=void 0===e?i:e,"Array"==n)return S.call(this,t,e);for(var r=w(t,i),s=w(e,i),o=x(s-r),a=Array(o),l=0;l<o;l++)a[l]="String"==n?this.charAt(r+l):this[r+l];return a}}),h(h.P+h.F*(k!=Object),"Array",{join:function(){return E.apply(k(this),arguments)}}),h(h.S,"Array",{isArray:function(t){return"Array"==c(t)}});var W=function(t){return function(e,i){v(e);var n=k(this),r=x(n.length),s=t?r-1:0,o=t?-1:1;if(arguments.length<2)for(;;){if(s in n){i=n[s],s+=o;break}if(s+=o,t?s<0:r<=s)throw TypeError("Reduce of empty array with no initial value")}for(;t?s>=0:r>s;s+=o)s in n&&(i=e(i,n[s],s,this));return i}},Y=function(t){return function(e){return t(this,e,arguments[1])}};h(h.P,"Array",{forEach:r.each=r.each||Y(f(0)),map:Y(f(1)),filter:Y(f(2)),some:Y(f(3)),every:Y(f(4)),reduce:W(!1),reduceRight:W(!0),indexOf:Y(P),lastIndexOf:function(t,e){var i=_(this),n=x(i.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,b(e))),r<0&&(r=x(n+r));r>=0;r--)if(r in i&&i[r]===t)return r;return-1}}),h(h.S,"Date",{now:function(){return+new Date}});var B=function(t){return t>9?t:"0"+t},U=new Date(-5e13-1),G=!(U.toISOString&&"0385-07-25T07:06:39.999Z"==U.toISOString()&&T(function(){new Date(NaN).toISOString()}));h(h.P+h.F*G,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+B(t.getUTCMonth()+1)+"-"+B(t.getUTCDate())+"T"+B(t.getUTCHours())+":"+B(t.getUTCMinutes())+":"+B(t.getUTCSeconds())+"."+(i>99?i:"0"+B(i))+"Z"}})},{"./$":43,"./$.a-function":5,"./$.an-object":6,"./$.array-includes":7,"./$.array-methods":8,"./$.cof":11,"./$.def":17,"./$.dom-create":19,"./$.fails":22,"./$.has":28,"./$.html":30,"./$.invoke":31,"./$.iobject":32,"./$.is-object":35,"./$.property-desc":50,"./$.support-desc":62,"./$.to-index":65,"./$.to-integer":66,"./$.to-iobject":67,"./$.to-length":68,"./$.to-object":69,"./$.uid":70}],75:[function(t,e,i){"use strict";var n=t("./$.def"),r=t("./$.to-object"),s=t("./$.to-index"),o=t("./$.to-length");n(n.P,"Array",{copyWithin:function(t,e){var i=r(this),n=o(i.length),a=s(t,n),l=s(e,n),u=arguments[2],c=void 0===u?n:s(u,n),h=Math.min(c-l,n-a),d=1;for(l<a&&a<l+h&&(d=-1,l=l+h-1,a=a+h-1);h-- >0;)l in i?i[a]=i[l]:delete i[a],a+=d,l+=d;return i}}),t("./$.unscope")("copyWithin")},{"./$.def":17,"./$.to-index":65,"./$.to-length":68,"./$.to-object":69,"./$.unscope":71}],76:[function(t,e,i){"use strict";var n=t("./$.def"),r=t("./$.to-object"),s=t("./$.to-index"),o=t("./$.to-length");n(n.P,"Array",{fill:function(t){for(var e=r(this,!0),i=o(e.length),n=s(arguments[1],i),a=arguments[2],l=void 0===a?i:s(a,i);l>n;)e[n++]=t;return e}}),t("./$.unscope")("fill")},{"./$.def":17,"./$.to-index":65,"./$.to-length":68,"./$.to-object":69,"./$.unscope":71}],77:[function(t,e,i){"use strict";var n="findIndex",r=t("./$.def"),s=!0,o=t("./$.array-methods")(6);n in[]&&Array(1)[n](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t){return o(this,t,arguments[1])}}),t("./$.unscope")(n)},{"./$.array-methods":8,"./$.def":17,"./$.unscope":71}],78:[function(t,e,i){"use strict";var n="find",r=t("./$.def"),s=!0,o=t("./$.array-methods")(5);n in[]&&Array(1)[n](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return o(this,t,arguments[1])}}),t("./$.unscope")(n)},{"./$.array-methods":8,"./$.def":17,"./$.unscope":71}],79:[function(t,e,i){"use strict";var n=t("./$.ctx"),r=t("./$.def"),s=t("./$.to-object"),o=t("./$.iter-call"),a=t("./$.is-array-iter"),l=t("./$.to-length"),u=t("./core.get-iterator-method");r(r.S+r.F*!t("./$.iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,c,h=s(t),d="function"==typeof this?this:Array,f=arguments[1],p=void 0!==f,g=0,m=u(h);if(p&&(f=n(f,arguments[2],2)),void 0==m||d==Array&&a(m))for(i=new d(e=l(h.length));e>g;g++)i[g]=p?f(h[g],g):h[g];else for(c=m.call(h),i=new d;!(r=c.next()).done;g++)i[g]=p?o(c,f,[r.value,g],!0):r.value;return i.length=g,i}})},{"./$.ctx":16,"./$.def":17,"./$.is-array-iter":33,"./$.iter-call":37,"./$.iter-detect":40,"./$.to-length":68,"./$.to-object":69,"./core.get-iterator-method":73}],80:[function(t,e,i){"use strict";var n=t("./$.unscope"),r=t("./$.iter-step"),s=t("./$.iterators"),o=t("./$.to-iobject");t("./$.iter-define")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"./$.iter-define":39,"./$.iter-step":41,"./$.iterators":42,"./$.to-iobject":67,"./$.unscope":71}],81:[function(t,e,i){"use strict";var n=t("./$.def");n(n.S,"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)i[t]=arguments[t++];return i.length=e,i}})},{"./$.def":17}],82:[function(t,e,i){t("./$.species")(Array)},{"./$.species":56}],83:[function(t,e,i){"use strict";var n=t("./$"),r=t("./$.is-object"),s=t("./$.wks")("hasInstance"),o=Function.prototype;s in o||n.setDesc(o,s,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=n.getProto(t);)if(this.prototype===t)return!0;return!1}})},{"./$":43,"./$.is-object":35,"./$.wks":72}],84:[function(t,e,i){var n=t("./$").setDesc,r=t("./$.property-desc"),s=t("./$.has"),o=Function.prototype,a=/^\s*function ([^ (]*)/,l="name";l in o||t("./$.support-desc")&&n(o,l,{configurable:!0,get:function(){var t=(""+this).match(a),e=t?t[1]:"";return s(this,l)||n(this,l,r(5,e)),e}})},{"./$":43,"./$.has":28,"./$.property-desc":50,"./$.support-desc":62}],85:[function(t,e,i){"use strict";var n=t("./$.collection-strong");t("./$.collection")("Map",function(t){return function(){return t(this,arguments[0])}},{get:function(t){var e=n.getEntry(this,t);return e&&e.v},set:function(t,e){return n.def(this,0===t?0:t,e)}},n,!0)},{"./$.collection":14,"./$.collection-strong":12}],86:[function(t,e,i){var n=t("./$.def"),r=t("./$.log1p"),s=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+s(t-1)*s(t+1))}})},{"./$.def":17,"./$.log1p":46}],87:[function(t,e,i){function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=t("./$.def");r(r.S,"Math",{asinh:n})},{"./$.def":17}],88:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{"./$.def":17}],89:[function(t,e,i){var n=t("./$.def"),r=t("./$.sign");n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{"./$.def":17,"./$.sign":55}],90:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{"./$.def":17}],91:[function(t,e,i){var n=t("./$.def"),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{"./$.def":17}],92:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{expm1:t("./$.expm1")})},{"./$.def":17,"./$.expm1":21}],93:[function(t,e,i){var n=t("./$.def"),r=t("./$.sign"),s=Math.pow,o=s(2,-52),a=s(2,-23),l=s(2,127)*(2-a),u=s(2,-126),c=function(t){return t+1/o-1/o};n(n.S,"Math",{fround:function(t){var e,i,n=Math.abs(t),s=r(t);return n<u?s*c(n/u/a)*u*a:(e=(1+a/o)*n,i=e-(e-n),i>l||i!=i?s*(1/0):s*i)}})},{"./$.def":17,"./$.sign":55}],94:[function(t,e,i){var n=t("./$.def"),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,s=0,o=0,a=arguments.length,l=0;o<a;)i=r(arguments[o++]),l<i?(n=l/i,s=s*n*n+1,l=i):i>0?(n=i/l,s+=n*n):s+=i;return l===1/0?1/0:l*Math.sqrt(s)}})},{"./$.def":17}],95:[function(t,e,i){var n=t("./$.def");n(n.S+n.F*t("./$.fails")(function(){return Math.imul(4294967295,5)!=-5}),"Math",{imul:function(t,e){var i=65535,n=+t,r=+e,s=i&n,o=i&r;return 0|s*o+((i&n>>>16)*o+s*(i&r>>>16)<<16>>>0)}})},{"./$.def":17,"./$.fails":22}],96:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{log10:function(t){
return Math.log(t)/Math.LN10}})},{"./$.def":17}],97:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{log1p:t("./$.log1p")})},{"./$.def":17,"./$.log1p":46}],98:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{"./$.def":17}],99:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{sign:t("./$.sign")})},{"./$.def":17,"./$.sign":55}],100:[function(t,e,i){var n=t("./$.def"),r=t("./$.expm1"),s=Math.exp;n(n.S,"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(s(t-1)-s(-t-1))*(Math.E/2)}})},{"./$.def":17,"./$.expm1":21}],101:[function(t,e,i){var n=t("./$.def"),r=t("./$.expm1"),s=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(s(t)+s(-t))}})},{"./$.def":17,"./$.expm1":21}],102:[function(t,e,i){var n=t("./$.def");n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{"./$.def":17}],103:[function(t,e,i){"use strict";var n=t("./$"),r=t("./$.global"),s=t("./$.has"),o=t("./$.cof"),a=t("./$.is-object"),l=t("./$.fails"),u="Number",c=r[u],h=c,d=c.prototype,f=o(n.create(d))==u,p=function(t){var e,i;if("function"==typeof(e=t.valueOf)&&!a(i=e.call(t)))return i;if("function"==typeof(e=t.toString)&&!a(i=e.call(t)))return i;throw TypeError("Can't convert object to number")},g=function(t){if(a(t)&&(t=p(t)),"string"==typeof t&&t.length>2&&48==t.charCodeAt(0)){var e=!1;switch(t.charCodeAt(1)){case 66:case 98:e=!0;case 79:case 111:return parseInt(t.slice(2),e?2:8)}}return+t};c("0o1")&&c("0b1")||(c=function(t){var e=this;return e instanceof c&&(f?l(function(){d.valueOf.call(e)}):o(e)!=u)?new h(g(t)):g(t)},n.each.call(t("./$.support-desc")?n.getNames(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(t){s(h,t)&&!s(c,t)&&n.setDesc(c,t,n.getDesc(h,t))}),c.prototype=d,d.constructor=c,t("./$.redef")(r,u,c))},{"./$":43,"./$.cof":11,"./$.fails":22,"./$.global":27,"./$.has":28,"./$.is-object":35,"./$.redef":51,"./$.support-desc":62}],104:[function(t,e,i){var n=t("./$.def");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./$.def":17}],105:[function(t,e,i){var n=t("./$.def"),r=t("./$.global").isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{"./$.def":17,"./$.global":27}],106:[function(t,e,i){var n=t("./$.def");n(n.S,"Number",{isInteger:t("./$.is-integer")})},{"./$.def":17,"./$.is-integer":34}],107:[function(t,e,i){var n=t("./$.def");n(n.S,"Number",{isNaN:function(t){return t!=t}})},{"./$.def":17}],108:[function(t,e,i){var n=t("./$.def"),r=t("./$.is-integer"),s=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&s(t)<=9007199254740991}})},{"./$.def":17,"./$.is-integer":34}],109:[function(t,e,i){var n=t("./$.def");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./$.def":17}],110:[function(t,e,i){var n=t("./$.def");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./$.def":17}],111:[function(t,e,i){var n=t("./$.def");n(n.S,"Number",{parseFloat:parseFloat})},{"./$.def":17}],112:[function(t,e,i){var n=t("./$.def");n(n.S,"Number",{parseInt:parseInt})},{"./$.def":17}],113:[function(t,e,i){var n=t("./$.def");n(n.S,"Object",{assign:t("./$.assign")})},{"./$.assign":9,"./$.def":17}],114:[function(t,e,i){var n=t("./$.is-object");t("./$.object-sap")("freeze",function(t){return function(e){return t&&n(e)?t(e):e}})},{"./$.is-object":35,"./$.object-sap":48}],115:[function(t,e,i){var n=t("./$.to-iobject");t("./$.object-sap")("getOwnPropertyDescriptor",function(t){return function(e,i){return t(n(e),i)}})},{"./$.object-sap":48,"./$.to-iobject":67}],116:[function(t,e,i){t("./$.object-sap")("getOwnPropertyNames",function(){return t("./$.get-names").get})},{"./$.get-names":26,"./$.object-sap":48}],117:[function(t,e,i){var n=t("./$.to-object");t("./$.object-sap")("getPrototypeOf",function(t){return function(e){return t(n(e))}})},{"./$.object-sap":48,"./$.to-object":69}],118:[function(t,e,i){var n=t("./$.is-object");t("./$.object-sap")("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},{"./$.is-object":35,"./$.object-sap":48}],119:[function(t,e,i){var n=t("./$.is-object");t("./$.object-sap")("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./$.is-object":35,"./$.object-sap":48}],120:[function(t,e,i){var n=t("./$.is-object");t("./$.object-sap")("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./$.is-object":35,"./$.object-sap":48}],121:[function(t,e,i){var n=t("./$.def");n(n.S,"Object",{is:t("./$.same")})},{"./$.def":17,"./$.same":52}],122:[function(t,e,i){var n=t("./$.to-object");t("./$.object-sap")("keys",function(t){return function(e){return t(n(e))}})},{"./$.object-sap":48,"./$.to-object":69}],123:[function(t,e,i){var n=t("./$.is-object");t("./$.object-sap")("preventExtensions",function(t){return function(e){return t&&n(e)?t(e):e}})},{"./$.is-object":35,"./$.object-sap":48}],124:[function(t,e,i){var n=t("./$.is-object");t("./$.object-sap")("seal",function(t){return function(e){return t&&n(e)?t(e):e}})},{"./$.is-object":35,"./$.object-sap":48}],125:[function(t,e,i){var n=t("./$.def");n(n.S,"Object",{setPrototypeOf:t("./$.set-proto").set})},{"./$.def":17,"./$.set-proto":53}],126:[function(t,e,i){"use strict";var n=t("./$.classof"),r={};r[t("./$.wks")("toStringTag")]="z",r+""!="[object z]"&&t("./$.redef")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{"./$.classof":10,"./$.redef":51,"./$.wks":72}],127:[function(t,e,i){"use strict";var n,r=t("./$"),s=t("./$.library"),o=t("./$.global"),a=t("./$.ctx"),l=t("./$.classof"),u=t("./$.def"),c=t("./$.is-object"),h=t("./$.an-object"),d=t("./$.a-function"),f=t("./$.strict-new"),p=t("./$.for-of"),g=t("./$.set-proto").set,m=t("./$.same"),v=t("./$.species"),y=t("./$.wks")("species"),_=t("./$.uid")("record"),b="Promise",w=o.process,x="process"==l(w),k=w&&w.nextTick||t("./$.task").set,T=o[b],C=function(t){var e=new T(function(){});return t&&(e.constructor=Object),T.resolve(e)===e},D=function(){function e(t){var i=new T(t);return g(i,e.prototype),i}var i=!1;try{if(i=T&&T.resolve&&C(),g(e,T),e.prototype=r.create(T.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(i=!1),i&&t("./$.support-desc")){var n=!1;T.resolve(r.setDesc({},"then",{get:function(){n=!0}})),i=n}}catch(s){i=!1}return i}(),S=function(t){return c(t)&&(D?"Promise"==l(t):_ in t)},E=function(t,e){return!(!s||t!==T||e!==n)||m(t,e)},O=function(t){var e=h(t)[y];return void 0!=e?e:t},A=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t.n){t.n=!0;var i=t.c;k.call(o,function(){for(var n=t.v,r=1==t.s,s=0,a=function(e){var i,s,o=r?e.ok:e.fail;try{o?(r||(t.h=!0),i=o===!0?n:o(n),i===e.P?e.rej(TypeError("Promise-chain cycle")):(s=A(i))?s.call(i,e.res,e.rej):e.res(i)):e.rej(n)}catch(a){e.rej(a)}};i.length>s;)a(i[s++]);i.length=0,t.n=!1,e&&setTimeout(function(){k.call(o,function(){P(t.p)&&(x?w.emit("unhandledRejection",n,t.p):o.console&&console.error&&console.error("Unhandled promise rejection",n)),t.a=void 0})},1)})}},P=function(t){var e,i=t[_],n=i.a||i.c,r=0;if(i.h)return!1;for(;n.length>r;)if(e=n[r++],e.fail||!P(e.P))return!1;return!0},j=function(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,e.a=e.c.slice(),M(e,!0))},$=function(t){var e,i=this;if(!i.d){i.d=!0,i=i.r||i;try{(e=A(t))?k.call(o,function(){var n={r:i,d:!1};try{e.call(t,a($,n,1),a(j,n,1))}catch(r){j.call(n,r)}}):(i.v=t,i.s=1,M(i,!1))}catch(n){j.call({r:i,d:!1},n)}}};D||(T=function(t){d(t);var e={p:f(this,T,b),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[_]=e;try{t(a($,e,1),a(j,e,1))}catch(i){j.call(e,i)}},t("./$.mix")(T.prototype,{then:function(t,e){var i=h(h(this).constructor)[y],n={ok:"function"!=typeof t||t,fail:"function"==typeof e&&e},r=n.P=new(void 0!=i?i:T)(function(t,e){n.res=d(t),n.rej=d(e)}),s=this[_];return s.c.push(n),s.a&&s.a.push(n),s.s&&M(s,!1),r},"catch":function(t){return this.then(void 0,t)}})),u(u.G+u.W+u.F*!D,{Promise:T}),t("./$.tag")(T,b),v(T),v(n=t("./$.core")[b]),u(u.S+u.F*!D,b,{reject:function(t){return new this(function(e,i){i(t)})}}),u(u.S+u.F*(!D||C(!0)),b,{resolve:function(t){return S(t)&&E(t.constructor,this)?t:new this(function(e){e(t)})}}),u(u.S+u.F*!(D&&t("./$.iter-detect")(function(t){T.all(t)["catch"](function(){})})),b,{all:function(t){var e=O(this),i=[];return new e(function(n,s){p(t,!1,i.push,i);var o=i.length,a=Array(o);o?r.each.call(i,function(t,i){e.resolve(t).then(function(t){a[i]=t,--o||n(a)},s)}):n(a)})},race:function(t){var e=O(this);return new e(function(i,n){p(t,!1,function(t){e.resolve(t).then(i,n)})})}})},{"./$":43,"./$.a-function":5,"./$.an-object":6,"./$.classof":10,"./$.core":15,"./$.ctx":16,"./$.def":17,"./$.for-of":25,"./$.global":27,"./$.is-object":35,"./$.iter-detect":40,"./$.library":45,"./$.mix":47,"./$.same":52,"./$.set-proto":53,"./$.species":56,"./$.strict-new":57,"./$.support-desc":62,"./$.tag":63,"./$.task":64,"./$.uid":70,"./$.wks":72}],128:[function(t,e,i){var n=t("./$.def"),r=Function.apply;n(n.S,"Reflect",{apply:function(t,e,i){return r.call(t,e,i)}})},{"./$.def":17}],129:[function(t,e,i){var n=t("./$"),r=t("./$.def"),s=t("./$.a-function"),o=t("./$.an-object"),a=t("./$.is-object"),l=Function.bind||t("./$.core").Function.prototype.bind;r(r.S,"Reflect",{construct:function(t,e){if(s(t),arguments.length<3){if(void 0!=e)switch(o(e).length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var r=s(arguments[2]).prototype,u=n.create(a(r)?r:Object.prototype),c=Function.apply.call(t,u,e);return a(c)?c:u}})},{"./$":43,"./$.a-function":5,"./$.an-object":6,"./$.core":15,"./$.def":17,"./$.is-object":35}],130:[function(t,e,i){var n=t("./$"),r=t("./$.def"),s=t("./$.an-object");r(r.S+r.F*t("./$.fails")(function(){Reflect.defineProperty(n.setDesc({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){s(t);try{return n.setDesc(t,e,i),!0}catch(r){return!1}}})},{"./$":43,"./$.an-object":6,"./$.def":17,"./$.fails":22}],131:[function(t,e,i){var n=t("./$.def"),r=t("./$").getDesc,s=t("./$.an-object");n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(s(t),e);return!(i&&!i.configurable)&&delete t[e]}})},{"./$":43,"./$.an-object":6,"./$.def":17}],132:[function(t,e,i){"use strict";var n=t("./$.def"),r=t("./$.an-object"),s=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};t("./$.iter-create")(s,"Object",function(){var t,e=this,i=e._k;do if(e._i>=i.length)return{value:void 0,done:!0};while(!((t=i[e._i++])in e._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new s(t)}})},{"./$.an-object":6,"./$.def":17,"./$.iter-create":38}],133:[function(t,e,i){var n=t("./$"),r=t("./$.def"),s=t("./$.an-object");r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.getDesc(s(t),e)}})},{"./$":43,"./$.an-object":6,"./$.def":17}],134:[function(t,e,i){var n=t("./$.def"),r=t("./$").getProto,s=t("./$.an-object");n(n.S,"Reflect",{getPrototypeOf:function(t){return r(s(t))}})},{"./$":43,"./$.an-object":6,"./$.def":17}],135:[function(t,e,i){function n(t,e){var i,o,u=arguments.length<3?t:arguments[2];return l(t)===u?t[e]:(i=r.getDesc(t,e))?s(i,"value")?i.value:void 0!==i.get?i.get.call(u):void 0:a(o=r.getProto(t))?n(o,e,u):void 0}var r=t("./$"),s=t("./$.has"),o=t("./$.def"),a=t("./$.is-object"),l=t("./$.an-object");o(o.S,"Reflect",{get:n})},{"./$":43,"./$.an-object":6,"./$.def":17,"./$.has":28,"./$.is-object":35}],136:[function(t,e,i){var n=t("./$.def");n(n.S,"Reflect",{has:function(t,e){return e in t}})},{"./$.def":17}],137:[function(t,e,i){var n=t("./$.def"),r=t("./$.an-object"),s=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!s||s(t)}})},{"./$.an-object":6,"./$.def":17}],138:[function(t,e,i){var n=t("./$.def");n(n.S,"Reflect",{ownKeys:t("./$.own-keys")})},{"./$.def":17,"./$.own-keys":49}],139:[function(t,e,i){var n=t("./$.def"),r=t("./$.an-object"),s=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return s&&s(t),!0}catch(e){return!1}}})},{"./$.an-object":6,"./$.def":17}],140:[function(t,e,i){var n=t("./$.def"),r=t("./$.set-proto");r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(i){return!1}}})},{"./$.def":17,"./$.set-proto":53}],141:[function(t,e,i){function n(t,e,i){var o,c,h=arguments.length<4?t:arguments[3],d=r.getDesc(l(t),e);if(!d){if(u(c=r.getProto(t)))return n(c,e,i,h);d=a(0)}return s(d,"value")?!(d.writable===!1||!u(h))&&(o=r.getDesc(h,e)||a(0),o.value=i,r.setDesc(h,e,o),!0):void 0!==d.set&&(d.set.call(h,i),!0)}var r=t("./$"),s=t("./$.has"),o=t("./$.def"),a=t("./$.property-desc"),l=t("./$.an-object"),u=t("./$.is-object");o(o.S,"Reflect",{set:n})},{"./$":43,"./$.an-object":6,"./$.def":17,"./$.has":28,"./$.is-object":35,"./$.property-desc":50}],142:[function(t,e,i){var n=t("./$"),r=t("./$.global"),s=t("./$.cof"),o=t("./$.flags"),a=r.RegExp,l=a,u=a.prototype,c=/a/g,h=new a(c)!==c,d=function(){try{return"/a/i"==a(c,"i")}catch(t){}}();t("./$.support-desc")&&(h&&d||(a=function(t,e){var i="RegExp"==s(t),n=void 0===e;return this instanceof a||!i||!n?h?new l(i&&!n?t.source:t,e):new l(i?t.source:t,i&&n?o.call(t):e):t},n.each.call(n.getNames(l),function(t){t in a||n.setDesc(a,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}),u.constructor=a,a.prototype=u,t("./$.redef")(r,"RegExp",a))),t("./$.species")(a)},{"./$":43,"./$.cof":11,"./$.flags":24,"./$.global":27,"./$.redef":51,"./$.species":56,"./$.support-desc":62}],143:[function(t,e,i){var n=t("./$");t("./$.support-desc")&&"g"!=/./g.flags&&n.setDesc(RegExp.prototype,"flags",{configurable:!0,get:t("./$.flags")})},{"./$":43,"./$.flags":24,"./$.support-desc":62}],144:[function(t,e,i){t("./$.fix-re-wks")("match",1,function(t,e){return function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))}})},{"./$.fix-re-wks":23}],145:[function(t,e,i){t("./$.fix-re-wks")("replace",2,function(t,e,i){return function(n,r){"use strict";var s=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,s,r):i.call(String(s),n,r)}})},{"./$.fix-re-wks":23}],146:[function(t,e,i){t("./$.fix-re-wks")("search",1,function(t,e){return function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))}})},{"./$.fix-re-wks":23}],147:[function(t,e,i){t("./$.fix-re-wks")("split",2,function(t,e,i){return function(n,r){"use strict";var s=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,s,r):i.call(String(s),n,r)}})},{"./$.fix-re-wks":23}],148:[function(t,e,i){"use strict";var n=t("./$.collection-strong");t("./$.collection")("Set",function(t){return function(){return t(this,arguments[0])}},{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},{"./$.collection":14,"./$.collection-strong":12}],149:[function(t,e,i){"use strict";var n=t("./$.def"),r=t("./$.string-at")(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},{"./$.def":17,"./$.string-at":58}],150:[function(t,e,i){"use strict";var n=t("./$.def"),r=t("./$.to-length"),s=t("./$.string-context");n(n.P+n.F*!t("./$.fails")(function(){"q".endsWith(/./)}),"String",{endsWith:function(t){var e=s(this,t,"endsWith"),i=arguments[1],n=r(e.length),o=void 0===i?n:Math.min(r(i),n),a=String(t);return e.slice(o-a.length,o)===a}})},{"./$.def":17,"./$.fails":22,"./$.string-context":59,"./$.to-length":68}],151:[function(t,e,i){var n=t("./$.def"),r=t("./$.to-index"),s=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?s(e):s(((e-=65536)>>10)+55296,e%1024+56320))}return i.join("")}})},{"./$.def":17,"./$.to-index":65}],152:[function(t,e,i){"use strict";var n=t("./$.def"),r=t("./$.string-context");n(n.P,"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments[1])}})},{"./$.def":17,"./$.string-context":59}],153:[function(t,e,i){"use strict";var n=t("./$.string-at")(!0);t("./$.iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},{"./$.iter-define":39,"./$.string-at":58}],154:[function(t,e,i){var n=t("./$.def"),r=t("./$.to-iobject"),s=t("./$.to-length");n(n.S,"String",{raw:function(t){for(var e=r(t.raw),i=s(e.length),n=arguments.length,o=[],a=0;i>a;)o.push(String(e[a++])),a<n&&o.push(String(arguments[a]));return o.join("")}})},{"./$.def":17,"./$.to-iobject":67,"./$.to-length":68}],155:[function(t,e,i){var n=t("./$.def");n(n.P,"String",{repeat:t("./$.string-repeat")})},{"./$.def":17,"./$.string-repeat":60}],156:[function(t,e,i){"use strict";var n=t("./$.def"),r=t("./$.to-length"),s=t("./$.string-context");n(n.P+n.F*!t("./$.fails")(function(){"q".startsWith(/./)}),"String",{startsWith:function(t){var e=s(this,t,"startsWith"),i=r(Math.min(arguments[1],e.length)),n=String(t);return e.slice(i,i+n.length)===n}})},{"./$.def":17,"./$.fails":22,"./$.string-context":59,"./$.to-length":68}],157:[function(t,e,i){"use strict";t("./$.string-trim")("trim",function(t){return function(){return t(this,3)}})},{"./$.string-trim":61}],158:[function(t,e,i){"use strict";function n(t,e,i){return i&&d(I,e)?(i.enumerable?(d(t,P)&&t[P][e]&&(t[P][e]=!1),i=E(i,{enumerable:C(0,!1)})):(d(t,P)||S(t,P,C(1,{})),t[P][e]=!0),R(t,e,i)):S(t,e,i)}function r(t,e){k(t);for(var i,r=x(e=T(e)),s=0,o=r.length;o>s;)n(t,i=r[s++],e[i]);return t}function s(t,e){return void 0===e?E(t):r(E(t),e)}function o(t){var e=j.call(this,t);return!(e||!d(this,t)||!d(I,t)||d(this,P)&&this[P][t])||e}function a(t,e){var i=D(t=T(t),e);return!i||!d(I,e)||d(t,P)&&t[P][e]||(i.enumerable=!0),i}function l(t){for(var e,i=O(T(t)),n=[],r=0;i.length>r;)d(I,e=i[r++])||e==P||n.push(e);return n}function u(t){for(var e,i=O(T(t)),n=[],r=0;i.length>r;)d(I,e=i[r++])&&n.push(I[e]);return n}var c=t("./$"),h=t("./$.global"),d=t("./$.has"),f=t("./$.support-desc"),p=t("./$.def"),g=t("./$.redef"),m=t("./$.shared"),v=t("./$.tag"),y=t("./$.uid"),_=t("./$.wks"),b=t("./$.keyof"),w=t("./$.get-names"),x=t("./$.enum-keys"),k=t("./$.an-object"),T=t("./$.to-iobject"),C=t("./$.property-desc"),D=c.getDesc,S=c.setDesc,E=c.create,O=w.get,A=h.Symbol,M=!1,P=_("_hidden"),j=c.isEnum,$=m("symbol-registry"),I=m("symbols"),N="function"==typeof A,L=Object.prototype,R=f?function(){try{return E(S({},P,{get:function(){return S(this,P,{value:!1})[P]}}))[P]||S}catch(t){return function(t,e,i){var n=D(L,e);n&&delete L[e],S(t,e,i),n&&t!==L&&S(L,e,n)}}}():S,F=function(t){var e=I[t]=E(A.prototype);return e._k=t,f&&M&&R(L,t,{configurable:!0,set:function(e){d(this,P)&&d(this[P],t)&&(this[P][t]=!1),R(this,t,C(1,e))}}),e};N||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor");return F(y(arguments[0]))},g(A.prototype,"toString",function(){return this._k}),c.create=s,c.isEnum=o,c.getDesc=a,c.setDesc=n,c.setDescs=r,c.getNames=w.get=l,c.getSymbols=u,f&&!t("./$.library")&&g(L,"propertyIsEnumerable",o,!0));var H={"for":function(t){return d($,t+="")?$[t]:$[t]=A(t)},keyFor:function(t){return b($,t)},useSetter:function(){M=!0},useSimple:function(){M=!1}};c.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=_(t);H[t]=N?e:F(e)}),M=!0,p(p.G+p.W,{Symbol:A}),p(p.S,"Symbol",H),p(p.S+p.F*!N,"Object",{create:s,defineProperty:n,defineProperties:r,getOwnPropertyDescriptor:a,getOwnPropertyNames:l,getOwnPropertySymbols:u}),v(A,"Symbol"),v(Math,"Math",!0),v(h.JSON,"JSON",!0)},{"./$":43,"./$.an-object":6,"./$.def":17,"./$.enum-keys":20,"./$.get-names":26,"./$.global":27,"./$.has":28,"./$.keyof":44,"./$.library":45,"./$.property-desc":50,"./$.redef":51,"./$.shared":54,"./$.support-desc":62,"./$.tag":63,"./$.to-iobject":67,"./$.uid":70,"./$.wks":72}],159:[function(t,e,i){"use strict";var n=t("./$"),r=t("./$.collection-weak"),s=t("./$.is-object"),o=t("./$.has"),a=r.frozenStore,l=r.WEAK,u=Object.isExtensible||s,c={},h=t("./$.collection")("WeakMap",function(t){return function(){return t(this,arguments[0])}},{get:function(t){if(s(t)){if(!u(t))return a(this).get(t);if(o(t,l))return t[l][this._i]}},set:function(t,e){return r.def(this,t,e)}},r,!0,!0);7!=(new h).set((Object.freeze||Object)(c),7).get(c)&&n.each.call(["delete","has","get","set"],function(e){var i=h.prototype,n=i[e];t("./$.redef")(i,e,function(t,i){if(s(t)&&!u(t)){var r=a(this)[e](t,i);return"set"==e?this:r}return n.call(this,t,i)})})},{"./$":43,"./$.collection":14,"./$.collection-weak":13,"./$.has":28,"./$.is-object":35,"./$.redef":51}],160:[function(t,e,i){"use strict";var n=t("./$.collection-weak");t("./$.collection")("WeakSet",function(t){return function(){return t(this,arguments[0])}},{add:function(t){return n.def(this,t,!0)}},n,!1,!0)},{"./$.collection":14,"./$.collection-weak":13}],161:[function(t,e,i){(function(e){"use strict";if(t("./shim.js"),t("regenerator/runtime"),e._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");e._babelPolyfill=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./shim.js":162,"regenerator/runtime":194}],162:[function(t,e,i){t("core-js/modules/es5"),t("core-js/modules/es6.symbol"),t("core-js/modules/es6.object.assign"),t("core-js/modules/es6.object.is"),t("core-js/modules/es6.object.set-prototype-of"),t("core-js/modules/es6.object.to-string"),t("core-js/modules/es6.object.freeze"),t("core-js/modules/es6.object.seal"),t("core-js/modules/es6.object.prevent-extensions"),t("core-js/modules/es6.object.is-frozen"),t("core-js/modules/es6.object.is-sealed"),t("core-js/modules/es6.object.is-extensible"),t("core-js/modules/es6.object.get-own-property-descriptor"),t("core-js/modules/es6.object.get-prototype-of"),t("core-js/modules/es6.object.keys"),t("core-js/modules/es6.object.get-own-property-names"),t("core-js/modules/es6.function.name"),t("core-js/modules/es6.function.has-instance"),t("core-js/modules/es6.number.constructor"),t("core-js/modules/es6.number.epsilon"),t("core-js/modules/es6.number.is-finite"),t("core-js/modules/es6.number.is-integer"),t("core-js/modules/es6.number.is-nan"),t("core-js/modules/es6.number.is-safe-integer"),t("core-js/modules/es6.number.max-safe-integer"),t("core-js/modules/es6.number.min-safe-integer"),t("core-js/modules/es6.number.parse-float"),t("core-js/modules/es6.number.parse-int"),t("core-js/modules/es6.math.acosh"),t("core-js/modules/es6.math.asinh"),t("core-js/modules/es6.math.atanh"),t("core-js/modules/es6.math.cbrt"),t("core-js/modules/es6.math.clz32"),t("core-js/modules/es6.math.cosh"),t("core-js/modules/es6.math.expm1"),t("core-js/modules/es6.math.fround"),t("core-js/modules/es6.math.hypot"),t("core-js/modules/es6.math.imul"),t("core-js/modules/es6.math.log10"),t("core-js/modules/es6.math.log1p"),t("core-js/modules/es6.math.log2"),t("core-js/modules/es6.math.sign"),t("core-js/modules/es6.math.sinh"),t("core-js/modules/es6.math.tanh"),t("core-js/modules/es6.math.trunc"),t("core-js/modules/es6.string.from-code-point"),t("core-js/modules/es6.string.raw"),t("core-js/modules/es6.string.trim"),t("core-js/modules/es6.string.iterator"),t("core-js/modules/es6.string.code-point-at"),t("core-js/modules/es6.string.ends-with"),t("core-js/modules/es6.string.includes"),t("core-js/modules/es6.string.repeat"),t("core-js/modules/es6.string.starts-with"),t("core-js/modules/es6.array.from"),t("core-js/modules/es6.array.of"),t("core-js/modules/es6.array.iterator"),t("core-js/modules/es6.array.species"),t("core-js/modules/es6.array.copy-within"),t("core-js/modules/es6.array.fill"),t("core-js/modules/es6.array.find"),t("core-js/modules/es6.array.find-index"),t("core-js/modules/es6.regexp.constructor"),t("core-js/modules/es6.regexp.flags"),t("core-js/modules/es6.regexp.match"),t("core-js/modules/es6.regexp.replace"),t("core-js/modules/es6.regexp.search"),t("core-js/modules/es6.regexp.split"),t("core-js/modules/es6.promise"),t("core-js/modules/es6.map"),t("core-js/modules/es6.set"),t("core-js/modules/es6.weak-map"),t("core-js/modules/es6.weak-set"),t("core-js/modules/es6.reflect.apply"),t("core-js/modules/es6.reflect.construct"),t("core-js/modules/es6.reflect.define-property"),t("core-js/modules/es6.reflect.delete-property"),t("core-js/modules/es6.reflect.enumerate"),t("core-js/modules/es6.reflect.get"),t("core-js/modules/es6.reflect.get-own-property-descriptor"),t("core-js/modules/es6.reflect.get-prototype-of"),t("core-js/modules/es6.reflect.has"),t("core-js/modules/es6.reflect.is-extensible"),t("core-js/modules/es6.reflect.own-keys"),t("core-js/modules/es6.reflect.prevent-extensions"),t("core-js/modules/es6.reflect.set"),t("core-js/modules/es6.reflect.set-prototype-of"),e.exports=t("core-js/modules/$.core")},{"core-js/modules/$.core":15,"core-js/modules/es5":74,"core-js/modules/es6.array.copy-within":75,"core-js/modules/es6.array.fill":76,"core-js/modules/es6.array.find":78,"core-js/modules/es6.array.find-index":77,"core-js/modules/es6.array.from":79,"core-js/modules/es6.array.iterator":80,"core-js/modules/es6.array.of":81,"core-js/modules/es6.array.species":82,"core-js/modules/es6.function.has-instance":83,"core-js/modules/es6.function.name":84,"core-js/modules/es6.map":85,"core-js/modules/es6.math.acosh":86,"core-js/modules/es6.math.asinh":87,"core-js/modules/es6.math.atanh":88,"core-js/modules/es6.math.cbrt":89,"core-js/modules/es6.math.clz32":90,"core-js/modules/es6.math.cosh":91,"core-js/modules/es6.math.expm1":92,"core-js/modules/es6.math.fround":93,"core-js/modules/es6.math.hypot":94,"core-js/modules/es6.math.imul":95,"core-js/modules/es6.math.log10":96,"core-js/modules/es6.math.log1p":97,"core-js/modules/es6.math.log2":98,"core-js/modules/es6.math.sign":99,"core-js/modules/es6.math.sinh":100,"core-js/modules/es6.math.tanh":101,"core-js/modules/es6.math.trunc":102,"core-js/modules/es6.number.constructor":103,"core-js/modules/es6.number.epsilon":104,"core-js/modules/es6.number.is-finite":105,"core-js/modules/es6.number.is-integer":106,"core-js/modules/es6.number.is-nan":107,"core-js/modules/es6.number.is-safe-integer":108,"core-js/modules/es6.number.max-safe-integer":109,"core-js/modules/es6.number.min-safe-integer":110,"core-js/modules/es6.number.parse-float":111,"core-js/modules/es6.number.parse-int":112,"core-js/modules/es6.object.assign":113,"core-js/modules/es6.object.freeze":114,"core-js/modules/es6.object.get-own-property-descriptor":115,"core-js/modules/es6.object.get-own-property-names":116,"core-js/modules/es6.object.get-prototype-of":117,"core-js/modules/es6.object.is":121,"core-js/modules/es6.object.is-extensible":118,"core-js/modules/es6.object.is-frozen":119,"core-js/modules/es6.object.is-sealed":120,"core-js/modules/es6.object.keys":122,"core-js/modules/es6.object.prevent-extensions":123,"core-js/modules/es6.object.seal":124,"core-js/modules/es6.object.set-prototype-of":125,"core-js/modules/es6.object.to-string":126,"core-js/modules/es6.promise":127,"core-js/modules/es6.reflect.apply":128,"core-js/modules/es6.reflect.construct":129,"core-js/modules/es6.reflect.define-property":130,"core-js/modules/es6.reflect.delete-property":131,"core-js/modules/es6.reflect.enumerate":132,"core-js/modules/es6.reflect.get":135,"core-js/modules/es6.reflect.get-own-property-descriptor":133,"core-js/modules/es6.reflect.get-prototype-of":134,"core-js/modules/es6.reflect.has":136,"core-js/modules/es6.reflect.is-extensible":137,"core-js/modules/es6.reflect.own-keys":138,"core-js/modules/es6.reflect.prevent-extensions":139,"core-js/modules/es6.reflect.set":141,"core-js/modules/es6.reflect.set-prototype-of":140,"core-js/modules/es6.regexp.constructor":142,"core-js/modules/es6.regexp.flags":143,"core-js/modules/es6.regexp.match":144,"core-js/modules/es6.regexp.replace":145,"core-js/modules/es6.regexp.search":146,"core-js/modules/es6.regexp.split":147,"core-js/modules/es6.set":148,"core-js/modules/es6.string.code-point-at":149,"core-js/modules/es6.string.ends-with":150,"core-js/modules/es6.string.from-code-point":151,"core-js/modules/es6.string.includes":152,"core-js/modules/es6.string.iterator":153,"core-js/modules/es6.string.raw":154,"core-js/modules/es6.string.repeat":155,"core-js/modules/es6.string.starts-with":156,"core-js/modules/es6.string.trim":157,"core-js/modules/es6.symbol":158,"core-js/modules/es6.weak-map":159,"core-js/modules/es6.weak-set":160}],163:[function(t,e,i){"use strict";function n(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,i=t.length;e<i;++e)l[e]=t[e],u[t.charCodeAt(e)]=e;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function r(t){var e,i,n,r,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===t[a-2]?2:"="===t[a-1]?1:0,o=new c(3*a/4-s),n=s>0?a-4:a;var l=0;for(e=0,i=0;e<n;e+=4,i+=3)r=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],o[l++]=r>>16&255,o[l++]=r>>8&255,o[l++]=255&r;return 2===s?(r=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,o[l++]=255&r):1===s&&(r=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,o[l++]=r>>8&255,o[l++]=255&r),o}function s(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function o(t,e,i){for(var n,r=[],o=e;o<i;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],r.push(s(n));return r.join("")}function a(t){for(var e,i=t.length,n=i%3,r="",s=[],a=16383,u=0,c=i-n;u<c;u+=a)s.push(o(t,u,u+a>c?c:u+a));return 1===n?(e=t[i-1],r+=l[e>>2],r+=l[e<<4&63],r+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],r+=l[e>>10],r+=l[e>>4&63],r+=l[e<<2&63],r+="="),s.push(r),s.join("")}i.toByteArray=r,i.fromByteArray=a;var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},{}],164:[function(t,e,i){},{}],165:[function(t,e,i){arguments[4][164][0].apply(i,arguments)},{dup:164}],166:[function(t,e,i){(function(e){"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,i){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,i)}function a(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,i,n):"string"==typeof e?h(t,e,i):p(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number')}function u(t,e,i,n){return l(e),e<=0?s(t,e):void 0!==i?"string"==typeof n?s(t,e).fill(i,n):s(t,e).fill(i):s(t,e)}function c(t,e){if(l(e),t=s(t,e<0?0:0|g(e)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function h(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(e,i);return t=s(t,n),t.write(e,i),t}function d(t,e){var i=0|g(e.length);t=s(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),o.TYPED_ARRAY_SUPPORT?(t=e,
t.__proto__=o.prototype):t=d(t,e),t}function p(t,e){if(o.isBuffer(e)){var i=0|g(e.length);return t=s(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||q(e.length)?s(t,0):d(t,e);if("Buffer"===e.type&&J(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),o.alloc(+t)}function v(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,i);case"utf8":case"utf-8":return E(this,e,i);case"ascii":return A(this,e,i);case"binary":return M(this,e,i);case"base64":return S(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function b(t,e,i,n){function r(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,o=t.length,a=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,i/=2}for(var l=-1,u=i;u<o;++u)if(r(t,u)===r(e,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*s}else l!==-1&&(u-=u-l),l=-1;return-1}function w(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var s=e.length;if(s%2!==0)throw new Error("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function x(t,e,i,n){return X(B(e,t.length-i),t,i,n)}function k(t,e,i,n){return X(U(e),t,i,n)}function T(t,e,i,n){return k(t,e,i,n)}function C(t,e,i,n){return X(V(e),t,i,n)}function D(t,e,i,n){return X(G(e,t.length-i),t,i,n)}function S(t,e,i){return 0===e&&i===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,i))}function E(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s=t[r],o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a<=i){var l,u,c,h;switch(a){case 1:s<128&&(o=s);break;case 2:l=t[r+1],128===(192&l)&&(h=(31&s)<<6|63&l,h>127&&(o=h));break;case 3:l=t[r+1],u=t[r+2],128===(192&l)&&128===(192&u)&&(h=(15&s)<<12|(63&l)<<6|63&u,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:l=t[r+1],u=t[r+2],c=t[r+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(h=(15&s)<<18|(63&l)<<12|(63&u)<<6|63&c,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=a}return O(n)}function O(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=Q));return i}function A(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function M(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function P(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=Y(t[s]);return r}function j(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function $(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,i,n,r,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function N(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function L(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function R(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(t,e,i,n,r){return r||R(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,i,n,23,4),i+4}function H(t,e,i,n,r){return r||R(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,i,n,52,8),i+8}function z(t){if(t=W(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){e=e||1/0;for(var i,n=t.length,r=null,s=[],o=0;o<n;++o){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function U(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function G(t,e){for(var i,n,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n);return s}function V(t){return K.toByteArray(z(t))}function X(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function q(t){return t!==t}var K=t("base64-js"),Z=t("ieee754"),J=t("isarray");i.Buffer=o,i.SlowBuffer=m,i.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),i.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,i){return a(null,t,e,i)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,i){return u(null,t,e,i)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=o.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):y.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,i,n,r){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var s=r-n,a=i-e,l=Math.min(s,a),u=this.slice(n,r),c=t.slice(e,i),h=0;h<l;++h)if(u[h]!==c[h]){s=u[h],a=c[h];break}return s<a?-1:a<s?1:0},o.prototype.indexOf=function(t,e,i){if("string"==typeof e?(i=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:b(this,t,e,i);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):b(this,[t],e,i);throw new TypeError("val must be string, number or Buffer")},o.prototype.includes=function(t,e,i){return this.indexOf(t,e,i)!==-1},o.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(i)?(i=0|i,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return w(this,t,e,i);case"utf8":case"utf-8":return x(this,t,e,i);case"ascii":return k(this,t,e,i);case"binary":return T(this,t,e,i);case"base64":return C(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=o.prototype;else{var r=e-t;n=new o(r,(void 0));for(var s=0;s<r;++s)n[s]=this[s+t]}return n},o.prototype.readUIntLE=function(t,e,i){t=0|t,e=0|e,i||$(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},o.prototype.readUIntBE=function(t,e,i){t=0|t,e=0|e,i||$(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},o.prototype.readUInt8=function(t,e){return e||$(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||$(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||$(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||$(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||$(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,i){t=0|t,e=0|e,i||$(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,i){t=0|t,e=0|e,i||$(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},o.prototype.readInt8=function(t,e){return e||$(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},o.prototype.readInt16LE=function(t,e){e||$(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,e){e||$(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,e){return e||$(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||$(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||$(t,4,this.length),Z.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||$(t,4,this.length),Z.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||$(t,8,this.length),Z.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||$(t,8,this.length),Z.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e=0|e,i=0|i,!n){var r=Math.pow(2,8*i)-1;I(this,t,e,i,r,0)}var s=1,o=0;for(this[e]=255&t;++o<i&&(s*=256);)this[e+o]=t/s&255;return e+i},o.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e=0|e,i=0|i,!n){var r=Math.pow(2,8*i)-1;I(this,t,e,i,r,0)}var s=i-1,o=1;for(this[e+s]=255&t;--s>=0&&(o*=256);)this[e+s]=t/o&255;return e+i},o.prototype.writeUInt8=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);I(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},o.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);I(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},o.prototype.writeInt8=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,i){return t=+t,e=0|e,i||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,i){return F(this,t,e,!0,i)},o.prototype.writeFloatBE=function(t,e,i){return F(this,t,e,!1,i)},o.prototype.writeDoubleLE=function(t,e,i){return H(this,t,e,!0,i)},o.prototype.writeDoubleBE=function(t,e,i){return H(this,t,e,!1,i)},o.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,s=n-i;if(this===t&&i<e&&e<n)for(r=s-1;r>=0;--r)t[r+e]=this[r+i];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},o.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t=255&t);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var a=o.isBuffer(t)?t:B(new o(t,n).toString()),l=a.length;for(s=0;s<i-e;++s)this[s+e]=a[s%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":163,ieee754:173,isarray:167}],167:[function(t,e,i){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],168:[function(t,e,i){(function(i,n){function r(t){if(null==t)return t;if(Array.isArray(t))return t.slice();if("object"==typeof t){var e={};return Object.keys(t).forEach(function(i){e[i]=t[i]}),e}return t}function s(){if(void 0!==this){var t={},e=Error.stackTraceLimit,i=Error.prepareStackTrace;return Error.stackTraceLimit=3,Error.captureStackTrace(this,s),Error.prepareStackTrace=function(e,i){var n=i[2];M&&(n=M.wrapCallSite(n)),t.file=n.getFileName(),t.line=n.getLineNumber();var r=n.getFunctionName();r&&(t.func=r)},this.stack,Error.stackTraceLimit=e,Error.prepareStackTrace=i,t}}function o(t,e){e||(e="    ");var i=t.split(/\r?\n/g);return e+i.join("\n"+e)}function a(t,e){if(D.ok(t),e){if(N[e])return;N[e]=!0}n.stderr.write(t+"\n")}function l(t){return N[t]}function u(){}function c(t){var e,i=typeof t;if("string"===i){if(e=Y[t.toLowerCase()],!e)throw new Error(j('unknown level name: "%s"',t))}else{if("number"!==i)throw new TypeError(j("cannot resolve level: invalid arg (%s):",i,t));if(t<0||Math.floor(t)!==t)throw new TypeError(j("level is not a positive integer: %s",t));e=t}return e}function h(t){return t instanceof E.Writable||"function"==typeof t.write}function d(t,e,i){if(b("Logger start:",t),!(this instanceof d))return new d(t,e);var s;if(void 0!==e&&(s=t,t=e,!(s instanceof d)))throw new TypeError("invalid Logger creation: do not pass a second arg");if(!t)throw new TypeError("options (object) is required");if(s){if(t.name)throw new TypeError("invalid options.name: child cannot set logger name")}else if(!t.name)throw new TypeError("options.name (string) is required");if(t.stream&&t.streams)throw new TypeError('cannot mix "streams" and "stream" options');if(t.streams&&!Array.isArray(t.streams))throw new TypeError("invalid options.streams: must be an array");if(t.serializers&&("object"!=typeof t.serializers||Array.isArray(t.serializers)))throw new TypeError("invalid options.serializers: must be an object");if(S.call(this),s&&i){this._isSimpleChild=!0,this._level=s._level,this.streams=s.streams,this.serializers=s.serializers,this.src=s.src;for(var o=this.fields={},a=Object.keys(s.fields),l=0;l<a.length;l++){var c=a[l];o[c]=s.fields[c]}for(var h=Object.keys(t),l=0;l<h.length;l++){var c=h[l];o[c]=t[c]}}else{var f=this;if(s){this._level=s._level,this.streams=[];for(var l=0;l<s.streams.length;l++){var p=r(s.streams[l]);p.closeOnExit=!1,this.streams.push(p)}this.serializers=r(s.serializers),this.src=s.src,this.fields=r(s.fields),t.level&&this.level(t.level)}else this._level=Number.POSITIVE_INFINITY,this.streams=[],this.serializers=null,this.src=!1,this.fields={};if(!U&&k){U=k.createDTraceProvider("bunyan");for(var g in Y){var m;G[Y[g]]=m=U.addProbe("log-"+g,"char *"),m.dtp=U}U.enable()}t.stream?f.addStream({type:"stream",stream:t.stream,closeOnExit:!1,level:t.level}):t.streams?t.streams.forEach(function(e){f.addStream(e,t.level)}):s&&t.level?this.level(t.level):s||("browser"===v?f.addStream({type:"raw",stream:new u,closeOnExit:!1,level:t.level}):f.addStream({type:"stream",stream:n.stdout,closeOnExit:!1,level:t.level})),t.serializers&&f.addSerializers(t.serializers),t.src&&(this.src=!0),b("Logger: ",f);var o=r(t);delete o.stream,delete o.level,delete o.streams,delete o.serializers,delete o.src,this.serializers&&this._applySerializers(o),o.hostname||f.fields.hostname||(o.hostname=w.hostname()),o.pid||(o.pid=n.pid),Object.keys(o).forEach(function(t){f.fields[t]=o[t]})}}function f(t){return function(){function e(e){var a;e[0]instanceof Error?(o={err:n.serializers&&n.serializers.err?n.serializers.err(e[0]):d.stdSerializers.err(e[0])},a={err:!0},u=1===e.length?[o.err.message]:Array.prototype.slice.call(e,1)):"object"!=typeof e[0]&&null!==e[0]||Array.isArray(e[0])?(o=null,u=Array.prototype.slice.call(e)):i.isBuffer(e[0])?(o=null,u=Array.prototype.slice.call(e),u[0]=C.inspect(u[0])):(o=e[0],u=Array.prototype.slice.call(e,1));var l=r(n.fields),c=(l.level=t,o?r(o):null);return c&&(n.serializers&&n._applySerializers(c,a),Object.keys(c).forEach(function(t){l[t]=c[t]})),l.msg=j.apply(n,u),l.time||(l.time=new Date),n.src&&!l.src&&(l.src=s()),l.v=_,l}var n=this,o=null,u=arguments,c=null,h=null;if(this._emit){if(0===arguments.length)return this._level<=t;this._level>t||(h=e(u),c=this._emit(h)),G&&G[t].fire(function(){return[c||h&&n._emit(h,!0)||n._emit(e(u),!0)]})}else{var f="unbound";if(!l[f]){var p=s();a(j("bunyan usage error: %s:%s: attempt to log with an unbound log method: `this` is: %s",p.file,p.line,C.inspect(this)),f)}}}}function p(t){var e=t.stack||t.toString();if(t.cause&&"function"==typeof t.cause){var i=t.cause();i&&(e+="\nCaused by: "+p(i))}return e}function g(){var t=[];return function(e,i){return i&&"object"==typeof i?t.indexOf(i)!==-1?"[Circular]":(t.push(i),i):i}}function m(t){this.limit=t&&t.limit?t.limit:100,this.writable=!0,this.records=[],S.call(this)}var v,y="1.8.1",_=0,b=function(t){var e=["XXX: "+t].concat(Array.prototype.slice.call(arguments,1));console.error.apply(this,e)},b=function(){};if("undefined"!=typeof n&&n.versions&&(n.versions.nw?v="nw":n.versions.node&&(v="node")),v||"undefined"==typeof window||window.window!==window||(v="browser"),!v)throw new Error("unknown runtime environment");var w,x,k;if("browser"===v)w={hostname:function(){return window.location.host}},x={},k=null;else{w=t("os"),x=t("fs");try{k=t("dtrace-provider")}catch(T){k=null}}var C=t("util"),D=t("assert"),S=t("events").EventEmitter,E=t("stream");try{var O=t("safe-json-stringify")}catch(T){O=null}n.env.BUNYAN_TEST_NO_SAFE_JSON_STRINGIFY&&(O=null);try{var A=t("mv")}catch(T){A=null}try{var M=t("source-map-support")}catch(P){M=null}var j=C.format;if(!j){var $=C.inspect,I=/%[sdj%]/g;j=function(t){if("string"!=typeof t){for(var e=[],i=0;i<arguments.length;i++)e.push($(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,r=n.length,s=String(t).replace(I,function(t){if(i>=r)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":return JSON.stringify(n[i++],g());case"%%":return"%";default:return t}}),o=n[i];i<r;o=n[++i])s+=null===o||"object"!=typeof o?" "+o:" "+$(o);return s}}var N={};u.prototype.write=function(t){t.level<F?console.log(t):t.level<H?console.info(t):t.level<z?console.warn(t):console.error(t)};var L=10,R=20,F=30,H=40,z=50,W=60,Y={trace:L,debug:R,info:F,warn:H,error:z,fatal:W},B={};Object.keys(Y).forEach(function(t){B[Y[t]]=t});var U=void 0,G=k&&{};C.inherits(d,S),d.prototype.addStream=function(t,e){var i=this;switch(null!==e&&void 0!==e||(e=F),t=r(t),t.type||(t.stream?t.type="stream":t.path&&(t.type="file")),t.raw="raw"===t.type,void 0!==t.level?t.level=c(t.level):t.level=c(e),t.level<i._level&&(i._level=t.level),t.type){case"stream":D.ok(h(t.stream),'"stream" stream is not writable: '+C.inspect(t.stream)),t.closeOnExit||(t.closeOnExit=!1);break;case"file":void 0===t.reemitErrorEvents&&(t.reemitErrorEvents=!0),t.stream?t.closeOnExit||(t.closeOnExit=!1):(t.stream=x.createWriteStream(t.path,{flags:"a",encoding:"utf8"}),t.closeOnExit||(t.closeOnExit=!0));break;case"rotating-file":D.ok(!t.stream,'"rotating-file" stream should not give a "stream"'),D.ok(t.path),D.ok(A,'"rotating-file" stream type is not supported: missing "mv" module'),t.stream=new V(t),t.closeOnExit||(t.closeOnExit=!0);break;case"raw":t.closeOnExit||(t.closeOnExit=!1);break;default:throw new TypeError('unknown stream type "'+t.type+'"')}t.reemitErrorEvents&&"function"==typeof t.stream.on&&t.stream.on("error",function(e){i.emit("error",e,t)}),i.streams.push(t),delete i.haveNonRawStreams},d.prototype.addSerializers=function(t){var e=this;e.serializers||(e.serializers={}),Object.keys(t).forEach(function(i){var n=t[i];if("function"!=typeof n)throw new TypeError(j('invalid serializer for "%s" field: must be a function',i));e.serializers[i]=n})},d.prototype.child=function(t,e){return new this.constructor(this,t||{},e)},d.prototype.reopenFileStreams=function(){var t=this;t.streams.forEach(function(e){"file"===e.type&&(e.stream&&(e.stream.end(),e.stream.destroySoon(),delete e.stream),e.stream=x.createWriteStream(e.path,{flags:"a",encoding:"utf8"}),e.stream.on("error",function(i){t.emit("error",i,e)}))})},d.prototype.level=function(t){if(void 0===t)return this._level;for(var e=c(t),i=this.streams.length,n=0;n<i;n++)this.streams[n].level=e;this._level=e},d.prototype.levels=function(t,e){if(void 0===t)return D.equal(e,void 0),this.streams.map(function(t){return t.level});var i;if("number"==typeof t){if(i=this.streams[t],void 0===i)throw new Error("invalid stream index: "+t)}else{for(var n=this.streams.length,r=0;r<n;r++){var s=this.streams[r];if(s.name===t){i=s;break}}if(!i)throw new Error(j('no stream with name "%s"',t))}if(void 0===e)return i.level;var o=c(e);i.level=o,o<this._level&&(this._level=o)},d.prototype._applySerializers=function(t,e){var i=this;b("_applySerializers: excludeFields",e),Object.keys(this.serializers).forEach(function(n){if(!(void 0===t[n]||e&&e[n])){b('_applySerializers; apply to "%s" key',n);try{t[n]=i.serializers[n](t[n])}catch(r){a(j('bunyan: ERROR: Exception thrown from the "%s" Bunyan serializer. This should never happen. This is a bugin that serializer function.\n%s',n,r.stack||r)),t[n]=j('(Error in Bunyan log "%s" serializer broke field. See stderr for details.)',n)}}})},d.prototype._emit=function(t,e){var i;if(void 0===this.haveNonRawStreams)for(this.haveNonRawStreams=!1,i=0;i<this.streams.length;i++)if(!this.streams[i].raw){this.haveNonRawStreams=!0;break}var n;if(e||this.haveNonRawStreams)try{n=JSON.stringify(t,g())+"\n"}catch(r){if(O)n=O(t)+"\n";else{var s=r.stack.split(/\n/g,2).join("\n");a('bunyan: ERROR: Exception in `JSON.stringify(rec)`. You can install the "safe-json-stringify" module to have Bunyan fallback to safer stringification. Record:\n'+o(j("%s\n%s",C.inspect(t),r.stack)),s),n=j("(Exception in JSON.stringify(rec): %j. See stderr for details.)\n",r.message)}}if(e)return n;var l=t.level;for(i=0;i<this.streams.length;i++){var u=this.streams[i];u.level<=l&&(b('writing log rec "%s" to "%s" stream (%d <= %d): %j',t.msg,u.type,u.level,l,t),u.stream.write(u.raw?t:n))}return n},d.prototype.trace=f(L),d.prototype.debug=f(R),d.prototype.info=f(F),d.prototype.warn=f(H),d.prototype.error=f(z),d.prototype.fatal=f(W),d.stdSerializers={},d.stdSerializers.req=function X(X){return X&&X.connection?{method:X.method,url:X.url,headers:X.headers,remoteAddress:X.connection.remoteAddress,remotePort:X.connection.remotePort}:X},d.stdSerializers.res=function q(q){return q&&q.statusCode?{statusCode:q.statusCode,header:q._header}:q};var V=(d.stdSerializers.err=function K(K){if(!K||!K.stack)return K;var t={message:K.message,name:K.name,stack:p(K),code:K.code,signal:K.signal};return t},null);A&&(V=function(t){if(this.path=t.path,this.count=null==t.count?10:t.count,D.equal(typeof this.count,"number",j('rotating-file stream "count" is not a number: %j (%s) in %j',this.count,typeof this.count,this)),D.ok(this.count>=0,j('rotating-file stream "count" is not >= 0: %j in %j',this.count,this)),t.period){var e={hourly:"1h",daily:"1d",weekly:"1w",monthly:"1m",yearly:"1y"}[t.period]||t.period,i=/^([1-9][0-9]*)([hdwmy]|ms)$/.exec(e);if(!i)throw new Error(j('invalid period: "%s"',t.period));this.periodNum=Number(i[1]),this.periodScope=i[2]}else this.periodNum=1,this.periodScope="d";var n=null;try{var r=x.statSync(this.path);n=r.mtime.getTime()}catch(s){}var o=!1;if(n){var a=this._calcRotTime(0);n<a&&(o=!0)}this.stream=x.createWriteStream(this.path,{flags:"a",encoding:"utf8"}),this.rotQueue=[],this.rotating=!1,o?(this._debug("rotateAfterOpen -> call rotate()"),this.rotate()):this._setupNextRot()},C.inherits(V,S),V.prototype._debug=function(){return!1},V.prototype._setupNextRot=function(){this.rotAt=this._calcRotTime(1),this._setRotationTimer()},V.prototype._setRotationTimer=function(){var t=this,e=this.rotAt-Date.now(),i=2147483647;e>i&&(e=i),this.timeout=setTimeout(function(){t._debug("_setRotationTimer timeout -> call rotate()"),t.rotate()},e),"function"==typeof this.timeout.unref&&this.timeout.unref()},V.prototype._calcRotTime=function(t){this._debug("_calcRotTime: %s%s",this.periodNum,this.periodScope);var e=new Date;this._debug("  now local: %s",e),this._debug("    now utc: %s",e.toISOString());var i;switch(this.periodScope){case"ms":i=this.rotAt?this.rotAt+this.periodNum*t:Date.now()+this.periodNum*t;break;case"h":i=this.rotAt?this.rotAt+60*this.periodNum*60*1e3*t:Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()+t);break;case"d":i=this.rotAt?this.rotAt+24*this.periodNum*60*60*1e3*t:Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+t);break;case"w":if(this.rotAt)i=this.rotAt+7*this.periodNum*24*60*60*1e3*t;else{var n=7-e.getUTCDay();t<1&&(n=-e.getUTCDay()),(t>1||t<-1)&&(n+=7*t),i=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+n)}break;case"m":i=this.rotAt?Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+this.periodNum*t,1):Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t,1);break;case"y":i=this.rotAt?Date.UTC(e.getUTCFullYear()+this.periodNum*t,0,1):Date.UTC(e.getUTCFullYear()+t,0,1);break;default:D.fail(j('invalid period scope: "%s"',this.periodScope))}if(this._debug()){this._debug("  **rotAt**: %s (utc: %s)",i,new Date(i).toUTCString());var r=Date.now();this._debug("        now: %s (%sms == %smin == %sh to go)",r,i-r,(i-r)/1e3/60,(i-r)/1e3/60/60)}return i},V.prototype.rotate=function(){function t(){var t=n.path+"."+String(r-1);0===r&&(t=n.path),r-=1,n._debug("  rm %s",t),x.unlink(t,function(t){e()})}function e(){if(0===n.count||r<0)return i();var t=n.path,s=n.path+"."+String(r);r>0&&(t+="."+String(r-1)),r-=1,x.exists(t,function(r){r?(n._debug("  mv %s %s",t,s),A(t,s,function(t){t?(n.emit("error",t),i()):e()})):e()})}function i(){n._debug("  open %s",n.path),n.stream=x.createWriteStream(n.path,{flags:"a",encoding:"utf8"});for(var t=n.rotQueue,e=t.length,i=0;i<e;i++)n.stream.write(t[i]);n.rotQueue=[],n.rotating=!1,n.emit("drain"),n._setupNextRot()}var n=this;if(n.rotAt&&n.rotAt>Date.now())return n._setRotationTimer();if(this._debug("rotate"),n.rotating)throw new TypeError("cannot start a rotation when already rotating");n.rotating=!0,n.stream.end();var r=this.count;t()},V.prototype.write=function(t){return this.rotating?(this.rotQueue.push(t),!1):this.stream.write(t)},V.prototype.end=function(t){this.stream.end()},V.prototype.destroy=function(t){this.stream.destroy()},V.prototype.destroySoon=function(t){
this.stream.destroySoon()}),C.inherits(m,S),m.prototype.write=function(t){if(!this.writable)throw new Error("RingBuffer has been ended already");return this.records.push(t),this.records.length>this.limit&&this.records.shift(),!0},m.prototype.end=function(){arguments.length>0&&this.write.apply(this,Array.prototype.slice.call(arguments)),this.writable=!1},m.prototype.destroy=function(){this.writable=!1,this.emit("close")},m.prototype.destroySoon=function(){this.destroy()},e.exports=d,e.exports.TRACE=L,e.exports.DEBUG=R,e.exports.INFO=F,e.exports.WARN=H,e.exports.ERROR=z,e.exports.FATAL=W,e.exports.resolveLevel=c,e.exports.levelFromName=Y,e.exports.nameFromLevel=B,e.exports.VERSION=y,e.exports.LOG_VERSION=_,e.exports.createLogger=function(t){return new d(t)},e.exports.RingBuffer=m,e.exports.RotatingFileStream=V,e.exports.safeCycles=g}).call(this,{isBuffer:t("../../is-buffer/index.js")},t("_process"))},{"../../is-buffer/index.js":175,_process:183,assert:4,events:172,fs:165,os:181,"safe-json-stringify":195,stream:196,util:201}],169:[function(t,e,i){(function(t){function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function n(t){return"boolean"==typeof t}function r(t){return null===t}function s(t){return null==t}function o(t){return"number"==typeof t}function a(t){return"string"==typeof t}function l(t){return"symbol"==typeof t}function u(t){return void 0===t}function c(t){return"[object RegExp]"===m(t)}function h(t){return"object"==typeof t&&null!==t}function d(t){return"[object Date]"===m(t)}function f(t){return"[object Error]"===m(t)||t instanceof Error}function p(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function m(t){return Object.prototype.toString.call(t)}i.isArray=e,i.isBoolean=n,i.isNull=r,i.isNullOrUndefined=s,i.isNumber=o,i.isString=a,i.isSymbol=l,i.isUndefined=u,i.isRegExp=c,i.isObject=h,i.isDate=d,i.isError=f,i.isFunction=p,i.isPrimitive=g,i.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":175}],170:[function(t,e,i){!function(t){"use strict";for(var e,i,n={},r=function(){},s="memory".split(","),o="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=s.pop();)t[e]=t[e]||n;for(;i=o.pop();)t[i]=t[i]||r}(this.console=this.console||{}),function(){"use strict";CanvasRenderingContext2D.prototype.installPattern=function(t){if("undefined"!=typeof this.isPatternInstalled)throw"Must un-install old line pattern before installing a new one.";this.isPatternInstalled=!0;var e=[0,0],i=[],n=this.beginPath,r=this.lineTo,s=this.moveTo,o=this.stroke;this.uninstallPattern=function(){this.beginPath=n,this.lineTo=r,this.moveTo=s,this.stroke=o,this.uninstallPattern=void 0,this.isPatternInstalled=void 0},this.beginPath=function(){i=[],n.call(this)},this.moveTo=function(t,e){i.push([[t,e]]),s.call(this,t,e)},this.lineTo=function(t,e){var n=i[i.length-1];n.push([t,e])},this.stroke=function(){if(0===i.length)return void o.call(this);for(var n=0;n<i.length;n++)for(var a=i[n],l=a[0][0],u=a[0][1],c=1;c<a.length;c++){var h=a[c][0],d=a[c][1];this.save();var f=h-l,p=d-u,g=Math.sqrt(f*f+p*p),m=Math.atan2(p,f);this.translate(l,u),s.call(this,0,0),this.rotate(m);for(var v=e[0],y=0;g>y;){var _=t[v];y+=e[1]?e[1]:_,y>g?(e=[v,y-g],y=g):e=[(v+1)%t.length,0],v%2===0?r.call(this,y,0):s.call(this,y,0),v=(v+1)%t.length}this.restore(),l=h,u=d}o.call(this),i=[]}},CanvasRenderingContext2D.prototype.uninstallPattern=function(){throw"Must install a line pattern before uninstalling it."}}();var n=function(){return"undefined"==typeof DEBUG&&(DEBUG=!0),function(){"use strict";var t=function(t){this.dygraph_=t,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()};if(t.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},t.axisToIndex_=function(e){if("string"==typeof e){if(t.AXIS_STRING_MAPPINGS_.hasOwnProperty(e))return t.AXIS_STRING_MAPPINGS_[e];throw"Unknown axis : "+e}if("number"==typeof e){if(0===e||1===e)return e;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(e)throw"Unknown axis : "+e;return 0},t.prototype.reparseSeries=function(){var e=this.get("labels");if(e){this.labels_=e.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};var i=!this.user_.series;if(i){for(var n=0,r=0;r<this.labels_.length;r++){var s=this.labels_[r],a=this.user_[s]||{},l=0,u=a.axis;"object"==typeof u&&(l=++n,this.yAxes_[l]={series:[s],options:u}),u||this.yAxes_[0].series.push(s),this.series_[s]={idx:r,yAxis:l,options:a}}for(var r=0;r<this.labels_.length;r++){var s=this.labels_[r],a=this.series_[s].options,u=a.axis;if("string"==typeof u){if(!this.series_.hasOwnProperty(u))return void console.error("Series "+s+" wants to share a y-axis with series "+u+", which does not define its own axis.");var l=this.series_[u].yAxis;this.series_[s].yAxis=l,this.yAxes_[l].series.push(s)}}}else for(var r=0;r<this.labels_.length;r++){var s=this.labels_[r],a=this.user_.series[s]||{},l=t.axisToIndex_(a.axis);this.series_[s]={idx:r,yAxis:l,options:a},this.yAxes_[l]?this.yAxes_[l].series.push(s):this.yAxes_[l]={series:[s],options:{}}}var c=this.user_.axes||{};o.update(this.yAxes_[0].options,c.y||{}),this.yAxes_.length>1&&o.update(this.yAxes_[1].options,c.y2||{}),o.update(this.xAxis_.options,c.x||{}),DEBUG&&this.validateOptions_()}},t.prototype.get=function(t){var e=this.getGlobalUser_(t);return null!==e?e:this.getGlobalDefault_(t)},t.prototype.getGlobalUser_=function(t){return this.user_.hasOwnProperty(t)?this.user_[t]:null},t.prototype.getGlobalDefault_=function(t){return this.global_.hasOwnProperty(t)?this.global_[t]:o.DEFAULT_ATTRS.hasOwnProperty(t)?o.DEFAULT_ATTRS[t]:null},t.prototype.getForAxis=function(t,e){var i,n;if("number"==typeof e)i=e,n=0===i?"y":"y2";else{if("y1"==e&&(e="y"),"y"==e)i=0;else if("y2"==e)i=1;else{if("x"!=e)throw"Unknown axis "+e;i=-1}n=e}var r=i==-1?this.xAxis_:this.yAxes_[i];if(r){var s=r.options;if(s.hasOwnProperty(t))return s[t]}if("x"!==e||"logscale"!==t){var a=this.getGlobalUser_(t);if(null!==a)return a}var l=o.DEFAULT_ATTRS.axes[n];return l.hasOwnProperty(t)?l[t]:this.getGlobalDefault_(t)},t.prototype.getForSeries=function(t,e){if(e===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(t))return this.highlightSeries_[t];if(!this.series_.hasOwnProperty(e))throw"Unknown series: "+e;var i=this.series_[e],n=i.options;return n.hasOwnProperty(t)?n[t]:this.getForAxis(t,i.yAxis)},t.prototype.numAxes=function(){return this.yAxes_.length},t.prototype.axisForSeries=function(t){return this.series_[t].yAxis},t.prototype.axisOptions=function(t){return this.yAxes_[t].options},t.prototype.seriesForAxis=function(t){return this.yAxes_[t].series},t.prototype.seriesNames=function(){return this.labels_},DEBUG){t.prototype.validateOptions_=function(){if("undefined"==typeof o.OPTIONS_REFERENCE)throw"Called validateOptions_ in prod build.";for(var t=this,e=function(e){o.OPTIONS_REFERENCE[e]||t.warnInvalidOption_(e)},i=[this.xAxis_.options,this.yAxes_[0].options,this.yAxes_[1]&&this.yAxes_[1].options,this.global_,this.user_,this.highlightSeries_],n=this.seriesNames(),r=0;r<n.length;r++){var s=n[r];this.series_.hasOwnProperty(s)&&i.push(this.series_[s].options)}for(var r=0;r<i.length;r++){var a=i[r];if(a)for(var l in a)a.hasOwnProperty(l)&&e(l)}};var e={};t.prototype.warnInvalidOption_=function(t){if(!e[t]){e[t]=!0;var i=this.labels_.indexOf(t)>=0;if(!i)throw console.warn("Unknown option "+t+" (full list of options at dygraphs.com/options.html"),"invalid option "+t;console.warn("Use new-style per-series options (saw "+t+" as top-level options key). See http://bit.ly/1tceaJs")}},t.resetWarnings_=function(){e={}}}return t}()}(),r=function(){"use strict";var t=function(t){this.dygraph_=t,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};return t.prototype.addDataset=function(t,e){this.points.push(e),this.setNames.push(t)},t.prototype.getPlotArea=function(){return this.area_},t.prototype.computePlotArea=function(){var t={x:0,y:0};t.w=this.dygraph_.width_-t.x-this.dygraph_.getOption("rightGap"),t.h=this.dygraph_.height_;var e={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(e){var i={x:t.x,y:t.y,w:e,h:t.h};return t.x+=e,t.w-=e,i},reserveSpaceRight:function(e){var i={x:t.x+t.w-e,y:t.y,w:e,h:t.h};return t.w-=e,i},reserveSpaceTop:function(e){var i={x:t.x,y:t.y,w:t.w,h:e};return t.y+=e,t.h-=e,i},reserveSpaceBottom:function(e){var i={x:t.x,y:t.y+t.h-e,w:t.w,h:e};return t.h-=e,i},chartRect:function(){return{x:t.x,y:t.y,w:t.w,h:t.h}}};this.dygraph_.cascadeEvents_("layout",e),this.area_=t},t.prototype.setAnnotations=function(t){this.annotations=[];for(var e=this.dygraph_.getOption("xValueParser")||function(t){return t},i=0;i<t.length;i++){var n={};if(!t[i].xval&&void 0===t[i].x)return void console.error("Annotations must have an 'x' property");if(t[i].icon&&(!t[i].hasOwnProperty("width")||!t[i].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");o.update(n,t[i]),n.xval||(n.xval=e(n.x)),this.annotations.push(n)}},t.prototype.setXTicks=function(t){this.xTicks_=t},t.prototype.setYAxes=function(t){this.yAxes_=t},t.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},t.prototype._evaluateLimits=function(){var t=this.dygraph_.xAxisRange();this._xAxis.minval=t[0],this._xAxis.maxval=t[1];var e=t[1]-t[0];this._xAxis.scale=0!==e?1/e:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=o.log10(this._xAxis.maxval)-o.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var i=0;i<this.yAxes_.length;i++){var n=this.yAxes_[i];n.minyval=n.computedValueRange[0],n.maxyval=n.computedValueRange[1],n.yrange=n.maxyval-n.minyval,n.yscale=0!==n.yrange?1/n.yrange:1,this.dygraph_.getOption("logscale")&&(n.ylogrange=o.log10(n.maxyval)-o.log10(n.minyval),n.ylogscale=0!==n.ylogrange?1/n.ylogrange:1,isFinite(n.ylogrange)&&!isNaN(n.ylogrange)||console.error("axis "+i+" of graph at "+n.g+" can't be displayed in log scale for range ["+n.minyval+" - "+n.maxyval+"]"))}},t.calcXNormal_=function(t,e,i){return i?(o.log10(t)-o.log10(e.minval))*e.xlogscale:(t-e.minval)*e.scale},t.calcYNormal_=function(t,e,i){if(i){var n=1-(o.log10(e)-o.log10(t.minyval))*t.ylogscale;return isFinite(n)?n:NaN}return 1-(e-t.minyval)*t.yscale},t.prototype._evaluateLineCharts=function(){for(var e=this.dygraph_.getOption("stackedGraph"),i=this.dygraph_.getOptionForAxis("logscale","x"),n=0;n<this.points.length;n++){for(var r=this.points[n],s=this.setNames[n],o=this.dygraph_.getOption("connectSeparatedPoints",s),a=this.dygraph_.axisPropertiesForSeries(s),l=this.dygraph_.attributes_.getForSeries("logscale",s),u=0;u<r.length;u++){var c=r[u];c.x=t.calcXNormal_(c.xval,this._xAxis,i);var h=c.yval;e&&(c.y_stacked=t.calcYNormal_(a,c.yval_stacked,l),null===h||isNaN(h)||(h=c.yval_stacked)),null===h&&(h=NaN,o||(c.yval=NaN)),c.y=t.calcYNormal_(a,h,l)}this.dygraph_.dataHandler_.onLineEvaluated(r,a,l)}},t.prototype._evaluateLineTicks=function(){var t,e,i,n;for(this.xticks=[],t=0;t<this.xTicks_.length;t++)e=this.xTicks_[t],i=e.label,n=this.dygraph_.toPercentXCoord(e.v),n>=0&&n<1&&this.xticks.push([n,i]);for(this.yticks=[],t=0;t<this.yAxes_.length;t++)for(var r=this.yAxes_[t],s=0;s<r.ticks.length;s++)e=r.ticks[s],i=e.label,n=this.dygraph_.toPercentYCoord(e.v,t),n>0&&n<=1&&this.yticks.push([t,n,i])},t.prototype._evaluateAnnotations=function(){var t,e={};for(t=0;t<this.annotations.length;t++){var i=this.annotations[t];e[i.xval+","+i.series]=i}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(var n=0;n<this.points.length;n++){var r=this.points[n];for(t=0;t<r.length;t++){var s=r[t],o=s.xval+","+s.name;o in e&&(s.annotation=e[o],this.annotated_points.push(s))}}},t.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},t}(),s=function(){"use strict";var t=function(t,e,i,n){if(this.dygraph_=t,this.layout=n,this.element=e,this.elementContext=i,this.height=t.height_,this.width=t.width_,!this.isIE&&!o.isCanvasSupported(this.element))throw"Canvas is not supported.";if(this.area=n.getPlotArea(),this.dygraph_.isUsingExcanvas_)this._createIEClipArea();else if(!o.isAndroid()){var r=this.dygraph_.canvas_ctx_;r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip(),r=this.dygraph_.hidden_ctx_,r.beginPath(),r.rect(this.area.x,this.area.y,this.area.w,this.area.h),r.clip()}};return t.prototype.clear=function(){var t;if(this.isIE)try{this.clearDelay&&(this.clearDelay.cancel(),this.clearDelay=null),t=this.elementContext}catch(e){return}t=this.elementContext,t.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){this._updatePoints(),this._renderLineChart()},t.prototype._createIEClipArea=function(){function t(t){if(0!==t.w&&0!==t.h){var n=document.createElement("div");n.className=e,n.style.backgroundColor=r,n.style.position="absolute",n.style.left=t.x+"px",n.style.top=t.y+"px",n.style.width=t.w+"px",n.style.height=t.h+"px",i.appendChild(n)}}for(var e="dygraph-clip-div",i=this.dygraph_.graphDiv,n=i.childNodes.length-1;n>=0;n--)i.childNodes[n].className==e&&i.removeChild(i.childNodes[n]);for(var r=document.bgColor,s=this.dygraph_.graphDiv;s!=document;){var o=s.currentStyle.backgroundColor;if(o&&"transparent"!=o){r=o;break}s=s.parentNode}var a=this.area;t({x:0,y:0,w:a.x,h:this.height}),t({x:a.x,y:0,w:this.width-a.x,h:a.y}),t({x:a.x+a.w,y:0,w:this.width-a.x-a.w,h:this.height}),t({x:a.x,y:a.y+a.h,w:this.width-a.x,h:this.height-a.h-a.y})},t._getIteratorPredicate=function(e){return e?t._predicateThatSkipsEmptyPoints:null},t._predicateThatSkipsEmptyPoints=function(t,e){return null!==t[e].yval},t._drawStyledLine=function(e,i,n,r,s,a,l){var u=e.dygraph,c=u.getBooleanOption("stepPlot",e.setName);o.isArrayLike(r)||(r=null);var h=u.getBooleanOption("drawGapEdgePoints",e.setName),d=e.points,f=e.setName,p=o.createIterator(d,0,d.length,t._getIteratorPredicate(u.getBooleanOption("connectSeparatedPoints",f))),g=r&&r.length>=2,m=e.drawingContext;m.save(),g&&m.installPattern(r);var v=t._drawSeries(e,p,n,l,s,h,c,i);t._drawPointsOnLine(e,v,a,i,l),g&&m.uninstallPattern(),m.restore()},t._drawSeries=function(t,e,i,n,r,s,o,a){var l,u,c=null,h=null,d=null,f=[],p=!0,g=t.drawingContext;g.beginPath(),g.strokeStyle=a,g.lineWidth=i;for(var m=e.array_,v=e.end_,y=e.predicate_,_=e.start_;_<v;_++){if(u=m[_],y){for(;_<v&&!y(m,_);)_++;if(_==v)break;u=m[_]}if(null===u.canvasy||u.canvasy!=u.canvasy)o&&null!==c&&(g.moveTo(c,h),g.lineTo(u.canvasx,h)),c=h=null;else{if(l=!1,s||!c){e.nextIdx_=_,e.next(),d=e.hasNext?e.peek.canvasy:null;var b=null===d||d!=d;l=!c&&b,s&&(!p&&!c||e.hasNext&&b)&&(l=!0)}null!==c?i&&(o&&(g.moveTo(c,h),g.lineTo(u.canvasx,h)),g.lineTo(u.canvasx,u.canvasy)):g.moveTo(u.canvasx,u.canvasy),(r||l)&&f.push([u.canvasx,u.canvasy,u.idx]),c=u.canvasx,h=u.canvasy}p=!1}return g.stroke(),f},t._drawPointsOnLine=function(t,e,i,n,r){for(var s=t.drawingContext,o=0;o<e.length;o++){var a=e[o];s.save(),i.call(t.dygraph,t.dygraph,t.setName,s,a[0],a[1],n,r,a[2]),s.restore()}},t.prototype._updatePoints=function(){for(var t=this.layout.points,e=t.length;e--;)for(var i=t[e],n=i.length;n--;){var r=i[n];r.canvasx=this.area.w*r.x+this.area.x,r.canvasy=this.area.h*r.y+this.area.y}},t.prototype._renderLineChart=function(t,e){var i,n,r=e||this.elementContext,s=this.layout.points,a=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),u=l;o.isArrayLike(u)||(u=[u]);var c={};for(i=0;i<a.length;i++){n=a[i];var h=this.dygraph_.getOption("plotter",n);h!=l&&(c[n]=h)}for(i=0;i<u.length;i++)for(var d=u[i],f=i==u.length-1,p=0;p<s.length;p++)if(n=a[p],!t||n==t){var g=s[p],m=d;if(n in c){if(!f)continue;m=c[n]}var v=this.colors[n],y=this.dygraph_.getOption("strokeWidth",n);r.save(),r.strokeStyle=v,r.lineWidth=y,m({points:g,setName:n,drawingContext:r,color:v,strokeWidth:y,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(n),plotArea:this.area,seriesIndex:p,seriesCount:s.length,singleSeriesName:t,allSeriesPoints:s}),r.restore()}},t._Plotters={linePlotter:function(e){t._linePlotter(e)},fillPlotter:function(e){t._fillPlotter(e)},errorPlotter:function(e){t._errorPlotter(e)}},t._linePlotter=function(e){var i=e.dygraph,n=e.setName,r=e.strokeWidth,s=i.getNumericOption("strokeBorderWidth",n),a=i.getOption("drawPointCallback",n)||o.Circles.DEFAULT,l=i.getOption("strokePattern",n),u=i.getBooleanOption("drawPoints",n),c=i.getNumericOption("pointSize",n);s&&r&&t._drawStyledLine(e,i.getOption("strokeBorderColor",n),r+2*s,l,u,a,c),t._drawStyledLine(e,e.color,r,l,u,a,c)},t._errorPlotter=function(e){var i=e.dygraph,n=e.setName,r=i.getBooleanOption("errorBars")||i.getBooleanOption("customBars");if(r){var s=i.getBooleanOption("fillGraph",n);s&&console.warn("Can't use fillGraph option with error bars");var a,l=e.drawingContext,u=e.color,c=i.getNumericOption("fillAlpha",n),h=i.getBooleanOption("stepPlot",n),d=e.points,f=o.createIterator(d,0,d.length,t._getIteratorPredicate(i.getBooleanOption("connectSeparatedPoints",n))),p=NaN,g=NaN,m=[-1,-1],v=o.toRGB_(u),y="rgba("+v.r+","+v.g+","+v.b+","+c+")";l.fillStyle=y,l.beginPath();for(var _=function(t){return null===t||void 0===t||isNaN(t)};f.hasNext;){var b=f.next();!h&&_(b.y)||h&&!isNaN(g)&&_(g)?p=NaN:(a=[b.y_bottom,b.y_top],h&&(g=b.y),isNaN(a[0])&&(a[0]=b.y),isNaN(a[1])&&(a[1]=b.y),a[0]=e.plotArea.h*a[0]+e.plotArea.y,a[1]=e.plotArea.h*a[1]+e.plotArea.y,isNaN(p)||(h?(l.moveTo(p,m[0]),l.lineTo(b.canvasx,m[0]),l.lineTo(b.canvasx,m[1])):(l.moveTo(p,m[0]),l.lineTo(b.canvasx,a[0]),l.lineTo(b.canvasx,a[1])),l.lineTo(p,m[1]),l.closePath()),m=a,p=b.canvasx)}l.fill()}},t._fastCanvasProxy=function(t){var e=[],i=null,n=null,r=1,s=2,o=0,a=function(t){if(!(e.length<=1)){for(var i=e.length-1;i>0;i--){var n=e[i];if(n[0]==s){var o=e[i-1];o[1]==n[1]&&o[2]==n[2]&&e.splice(i,1)}}for(var i=0;i<e.length-1;){var n=e[i];n[0]==s&&e[i+1][0]==s?e.splice(i,1):i++}if(e.length>2&&!t){var a=0;e[0][0]==s&&a++;for(var l=null,u=null,i=a;i<e.length;i++){var n=e[i];if(n[0]==r)if(null===l&&null===u)l=i,u=i;else{var c=n[2];c<e[l][2]?l=i:c>e[u][2]&&(u=i)}}var h=e[l],d=e[u];e.splice(a,e.length-a),l<u?(e.push(h),e.push(d)):l>u?(e.push(d),e.push(h)):e.push(h)}}},l=function(i){a(i);for(var l=0,u=e.length;l<u;l++){var c=e[l];c[0]==r?t.lineTo(c[1],c[2]):c[0]==s&&t.moveTo(c[1],c[2])}e.length&&(n=e[e.length-1][1]),o+=e.length,e=[]},u=function(t,r,s){var o=Math.round(r);if(null===i||o!=i){var a=i-n>1,u=o-i>1,c=a||u;l(c),i=o}e.push([t,r,s])};return{moveTo:function(t,e){u(s,t,e)},lineTo:function(t,e){u(r,t,e)},stroke:function(){l(!0),t.stroke()},fill:function(){l(!0),t.fill()},beginPath:function(){l(!0),t.beginPath()},closePath:function(){l(!0),t.closePath()},_count:function(){return o}}},t._fillPlotter=function(e){if(!e.singleSeriesName&&0===e.seriesIndex){for(var i=e.dygraph,n=i.getLabels().slice(1),r=n.length;r>=0;r--)i.visibility()[r]||n.splice(r,1);var s=function(){for(var t=0;t<n.length;t++)if(i.getBooleanOption("fillGraph",n[t]))return!0;return!1}();if(s)for(var a,l,u=e.plotArea,c=e.allSeriesPoints,h=c.length,d=i.getNumericOption("fillAlpha"),f=i.getBooleanOption("stackedGraph"),p=i.getColors(),g={},m=function(t,e,i,n){if(t.lineTo(e,i),f)for(var r=n.length-1;r>=0;r--){var s=n[r];t.lineTo(s[0],s[1])}},v=h-1;v>=0;v--){var y=e.drawingContext,_=n[v];if(i.getBooleanOption("fillGraph",_)){var b=i.getBooleanOption("stepPlot",_),w=p[v],x=i.axisPropertiesForSeries(_),k=1+x.minyval*x.yscale;k<0?k=0:k>1&&(k=1),k=u.h*k+u.y;var T,C=c[v],D=o.createIterator(C,0,C.length,t._getIteratorPredicate(i.getBooleanOption("connectSeparatedPoints",_))),S=NaN,E=[-1,-1],O=o.toRGB_(w),A="rgba("+O.r+","+O.g+","+O.b+","+d+")";y.fillStyle=A,y.beginPath();var M,P=!0;(C.length>2*i.width_||o.FORCE_FAST_PROXY)&&(y=t._fastCanvasProxy(y));for(var j,$=[];D.hasNext;)if(j=D.next(),o.isOK(j.y)||b){if(f){if(!P&&M==j.xval)continue;P=!1,M=j.xval,a=g[j.canvasx];var I;I=void 0===a?k:l?a[0]:a,T=[j.canvasy,I],b?E[0]===-1?g[j.canvasx]=[j.canvasy,k]:g[j.canvasx]=[j.canvasy,E[0]]:g[j.canvasx]=j.canvasy}else T=isNaN(j.canvasy)&&b?[u.y+u.h,k]:[j.canvasy,k];isNaN(S)?(y.moveTo(j.canvasx,T[1]),y.lineTo(j.canvasx,T[0])):(b?(y.lineTo(j.canvasx,E[0]),y.lineTo(j.canvasx,T[0])):y.lineTo(j.canvasx,T[0]),f&&($.push([S,E[1]]),l&&a?$.push([j.canvasx,a[1]]):$.push([j.canvasx,T[1]]))),E=T,S=j.canvasx}else m(y,S,E[1],$),$=[],S=NaN,null===j.y_stacked||isNaN(j.y_stacked)||(g[j.canvasx]=u.h*j.y_stacked+u.y);l=b,T&&j&&(m(y,j.canvasx,T[1],$),$=[]),y.fill()}}}},t}();"undefined"==typeof DEBUG&&(DEBUG=!0);var o=function(){"use strict";var t=function(t,e,i,n){this.is_initial_draw_=!0,this.readyFns_=[],void 0!==n?(console.warn("Using deprecated four-argument dygraph constructor"),this.__old_init__(t,e,i,n)):this.__init__(t,e,i)};return t.NAME="Dygraph",t.VERSION="1.1.1",t.__repr__=function(){return"["+t.NAME+" "+t.VERSION+"]"},t.toString=function(){return t.__repr__()},t.DEFAULT_ROLL_PERIOD=1,t.DEFAULT_WIDTH=480,t.DEFAULT_HEIGHT=320,t.ANIMATION_STEPS=12,t.ANIMATION_DURATION=200,t.KMB_LABELS=["K","M","B","T","Q"],t.KMG2_BIG_LABELS=["k","M","G","T","P","E","Z","Y"],t.KMG2_SMALL_LABELS=["m","u","n","p","f","a","z","y"],t.numberValueFormatter=function(e,i){var n=i("sigFigs");if(null!==n)return t.floatFormat(e,n);var r,s=i("digitsAfterDecimal"),o=i("maxNumberWidth"),a=i("labelsKMB"),l=i("labelsKMG2");if(r=0!==e&&(Math.abs(e)>=Math.pow(10,o)||Math.abs(e)<Math.pow(10,-s))?e.toExponential(s):""+t.round_(e,s),a||l){var u,c=[],h=[];a&&(u=1e3,c=t.KMB_LABELS),l&&(a&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),u=1024,c=t.KMG2_BIG_LABELS,h=t.KMG2_SMALL_LABELS);for(var d=Math.abs(e),f=t.pow(u,c.length),p=c.length-1;p>=0;p--,f/=u)if(d>=f){r=t.round_(e/f,s)+c[p];break}if(l){var g=String(e.toExponential()).split("e-");2===g.length&&g[1]>=3&&g[1]<=24&&(r=g[1]%3>0?t.round_(g[0]/t.pow(10,g[1]%3),s):Number(g[0]).toFixed(2),r+=h[Math.floor(g[1]/3)-1])}}return r},t.numberAxisLabelFormatter=function(e,i,n){return t.numberValueFormatter.call(this,e,n)},t.SHORT_MONTH_NAMES_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.dateAxisLabelFormatter=function(e,i,n){var r=n("labelsUTC"),s=r?t.DateAccessorsUTC:t.DateAccessorsLocal,o=s.getFullYear(e),a=s.getMonth(e),l=s.getDate(e),u=s.getHours(e),c=s.getMinutes(e),h=s.getSeconds(e),d=s.getSeconds(e);if(i>=t.DECADAL)return""+o;if(i>=t.MONTHLY)return t.SHORT_MONTH_NAMES_[a]+"&#160;"+o;var f=3600*u+60*c+h+.001*d;return 0===f||i>=t.DAILY?t.zeropad(l)+"&#160;"+t.SHORT_MONTH_NAMES_[a]:t.hmsString_(u,c,h)},t.dateAxisFormatter=t.dateAxisLabelFormatter,t.dateValueFormatter=function(e,i){return t.dateString_(e,i("labelsUTC"))},t.Plotters=s._Plotters,t.DEFAULT_ATTRS={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,labelsDivWidth:250,labelsDivStyles:{},labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:t.dateParser,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,avoidMinZero:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,drawXAxis:!0,drawYAxis:!0,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelColor:"black",axisLabelWidth:50,drawYGrid:!0,drawXGrid:!0,gridLineColor:"rgb(128,128,128)",interactionModel:null,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillColor:"#A7B1C4",showInRangeSelector:null,plotter:[t.Plotters.fillPlotter,t.Plotters.errorPlotter,t.Plotters.linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:t.dateAxisLabelFormatter,valueFormatter:t.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:null},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:t.numberValueFormatter,axisLabelFormatter:t.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:null},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:t.numberValueFormatter,axisLabelFormatter:t.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:null}}},t.HORIZONTAL=1,t.VERTICAL=2,t.PLUGINS=[],t.addedAnnotationCSS=!1,t.prototype.__old_init__=function(e,i,n,r){if(null!==n){for(var s=["Date"],o=0;o<n.length;o++)s.push(n[o]);t.update(r,{labels:s})}this.__init__(e,i,r)},t.prototype.__init__=function(e,i,r){if(/MSIE/.test(navigator.userAgent)&&!window.opera&&"undefined"!=typeof G_vmlCanvasManager&&"complete"!=document.readyState){var s=this;return void setTimeout(function(){s.__init__(e,i,r)},100)}if(null!==r&&void 0!==r||(r={}),r=t.mapLegacyOptions_(r),"string"==typeof e&&(e=document.getElementById(e)),!e)return void console.error("Constructing dygraph with a non-existent div!");this.isUsingExcanvas_="undefined"!=typeof G_vmlCanvasManager,this.maindiv_=e,this.file_=i,this.rollPeriod_=r.rollPeriod||t.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=r.fractions||!1,this.dateWindow_=r.dateWindow||null,this.annotations_=[],this.zoomed_x_=!1,this.zoomed_y_=!1,e.innerHTML="",""===e.style.width&&r.width&&(e.style.width=r.width+"px"),""===e.style.height&&r.height&&(e.style.height=r.height+"px"),""===e.style.height&&0===e.clientHeight&&(e.style.height=t.DEFAULT_HEIGHT+"px",""===e.style.width&&(e.style.width=t.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth||r.width||0,this.height_=e.clientHeight||r.height||0,r.stackedGraph&&(r.fillGraph=!0),this.user_attrs_={},t.update(this.user_attrs_,r),this.attrs_={},t.updateDeep(this.attrs_,t.DEFAULT_ATTRS),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new n(this),this.createInterface_(),this.plugins_=[];for(var o=t.PLUGINS.concat(this.getOption("plugins")),a=0;a<o.length;a++){var l,u=o[a];l="undefined"!=typeof u.activate?u:new u;var c={plugin:l,events:{},options:{},pluginOptions:{}},h=l.activate(this);for(var d in h)h.hasOwnProperty(d)&&(c.events[d]=h[d]);this.plugins_.push(c)}for(var a=0;a<this.plugins_.length;a++){var f=this.plugins_[a];for(var d in f.events)if(f.events.hasOwnProperty(d)){var p=f.events[d],g=[f.plugin,p];d in this.eventListeners_?this.eventListeners_[d].push(g):this.eventListeners_[d]=[g]}}this.createDragInterface_(),this.start_()},t.prototype.cascadeEvents_=function(e,i){if(!(e in this.eventListeners_))return!1;var n={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!n.cancelable)throw"Cannot call preventDefault on non-cancelable event.";n.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){n.propagationStopped=!0}};t.update(n,i);var r=this.eventListeners_[e];if(r)for(var s=r.length-1;s>=0;s--){var o=r[s][0],a=r[s][1];if(a.call(o,n),n.propagationStopped)break}return n.defaultPrevented},t.prototype.getPluginInstance_=function(t){for(var e=0;e<this.plugins_.length;e++){var i=this.plugins_[e];if(i.plugin instanceof t)return i.plugin}return null},t.prototype.isZoomed=function(t){if(null===t||void 0===t)return this.zoomed_x_||this.zoomed_y_;if("x"===t)return this.zoomed_x_;if("y"===t)return this.zoomed_y_;throw"axis parameter is ["+t+"] must be null, 'x' or 'y'."},t.prototype.toString=function(){var t=this.maindiv_,e=t&&t.id?t.id:t;return"[Dygraph "+e+"]"},t.prototype.attr_=function(e,i){return DEBUG&&("undefined"==typeof t.OPTIONS_REFERENCE?console.error("Must include options reference JS for testing"):t.OPTIONS_REFERENCE.hasOwnProperty(e)||(console.error("Dygraphs is using property "+e+", which has no entry in the Dygraphs.OPTIONS_REFERENCE listing."),t.OPTIONS_REFERENCE[e]=!0)),i?this.attributes_.getForSeries(e,i):this.attributes_.get(e)},t.prototype.getOption=function(t,e){return this.attr_(t,e)},t.prototype.getNumericOption=function(t,e){return this.getOption(t,e)},t.prototype.getStringOption=function(t,e){return this.getOption(t,e)},t.prototype.getBooleanOption=function(t,e){return this.getOption(t,e)},t.prototype.getFunctionOption=function(t,e){return this.getOption(t,e)},t.prototype.getOptionForAxis=function(t,e){return this.attributes_.getForAxis(t,e)},t.prototype.optionsViewForAxis_=function(t){var e=this;return function(i){var n=e.user_attrs_.axes;return n&&n[t]&&n[t].hasOwnProperty(i)?n[t][i]:("x"!==t||"logscale"!==i)&&("undefined"!=typeof e.user_attrs_[i]?e.user_attrs_[i]:(n=e.attrs_.axes,n&&n[t]&&n[t].hasOwnProperty(i)?n[t][i]:"y"==t&&e.axes_[0].hasOwnProperty(i)?e.axes_[0][i]:"y2"==t&&e.axes_[1].hasOwnProperty(i)?e.axes_[1][i]:e.attr_(i)))}},t.prototype.rollPeriod=function(){return this.rollPeriod_},t.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},t.prototype.xAxisExtremes=function(){var t=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-t,1+t];var e=this.rawData_[0][0],i=this.rawData_[this.rawData_.length-1][0];if(t){var n=i-e;e-=n*t,i+=n*t}return[e,i]},t.prototype.yAxisRange=function(t){if("undefined"==typeof t&&(t=0),t<0||t>=this.axes_.length)return null;var e=this.axes_[t];return[e.computedValueRange[0],e.computedValueRange[1]]},t.prototype.yAxisRanges=function(){for(var t=[],e=0;e<this.axes_.length;e++)t.push(this.yAxisRange(e));return t},t.prototype.toDomCoords=function(t,e,i){return[this.toDomXCoord(t),this.toDomYCoord(e,i)]},t.prototype.toDomXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,i=this.xAxisRange();return e.x+(t-i[0])/(i[1]-i[0])*e.w},t.prototype.toDomYCoord=function(t,e){var i=this.toPercentYCoord(t,e);if(null===i)return null;var n=this.plotter_.area;return n.y+i*n.h},t.prototype.toDataCoords=function(t,e,i){return[this.toDataXCoord(t),this.toDataYCoord(e,i)]},t.prototype.toDataXCoord=function(e){if(null===e)return null;var i=this.plotter_.area,n=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var r=(e-i.x)/i.w,s=t.log10(n[0]),o=t.log10(n[1]),a=s+r*(o-s),l=Math.pow(t.LOG_SCALE,a);return l}return n[0]+(e-i.x)/i.w*(n[1]-n[0])},t.prototype.toDataYCoord=function(e,i){if(null===e)return null;var n=this.plotter_.area,r=this.yAxisRange(i);if("undefined"==typeof i&&(i=0),this.attributes_.getForAxis("logscale",i)){var s=(e-n.y)/n.h,o=t.log10(r[0]),a=t.log10(r[1]),l=a-s*(a-o),u=Math.pow(t.LOG_SCALE,l);return u}return r[0]+(n.y+n.h-e)/n.h*(r[1]-r[0])},t.prototype.toPercentYCoord=function(e,i){if(null===e)return null;"undefined"==typeof i&&(i=0);var n,r=this.yAxisRange(i),s=this.attributes_.getForAxis("logscale",i);if(s){var o=t.log10(r[0]),a=t.log10(r[1]);n=(a-t.log10(e))/(a-o)}else n=(r[1]-e)/(r[1]-r[0]);return n},t.prototype.toPercentXCoord=function(e){if(null===e)return null;var i,n=this.xAxisRange(),r=this.attributes_.getForAxis("logscale","x");if(r===!0){var s=t.log10(n[0]),o=t.log10(n[1]);i=(t.log10(e)-s)/(o-s)}else i=(e-n[0])/(n[1]-n[0]);return i},t.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},t.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},t.prototype.getValue=function(t,e){
return t<0||t>this.rawData_.length?null:e<0||e>this.rawData_[t].length?null:this.rawData_[t][e]},t.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",e.appendChild(this.graphDiv),this.canvas_=t.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=t.getContext(this.canvas_),this.hidden_ctx_=t.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new r(this);var i=this;this.mouseMoveHandler_=function(t){i.mouseMove_(t)},this.mouseOutHandler_=function(e){var n=e.target||e.fromElement,r=e.relatedTarget||e.toElement;t.isNodeContainedBy(n,i.graphDiv)&&!t.isNodeContainedBy(r,i.graphDiv)&&i.mouseOut_(e)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(t){i.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},t.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var e=t.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*e,this.canvas_.height=this.height_*e,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==e&&this.canvas_ctx_.scale(e,e);var i=t.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*i,this.hidden_.height=this.height_*i,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==i&&this.hidden_ctx_.scale(i,i)},t.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var e=this.plugins_.length-1;e>=0;e--){var i=this.plugins_.pop();i.plugin.destroy&&i.plugin.destroy()}var n=function(t){for(;t.hasChildNodes();)n(t.firstChild),t.removeChild(t.firstChild)};this.removeTrackedEvents_(),t.removeEvent(window,"mouseout",this.mouseOutHandler_),t.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),t.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,n(this.maindiv_);var r=function(t){for(var e in t)"object"==typeof t[e]&&(t[e]=null)};r(this.layout_),r(this.plotter_),r(this)},t.prototype.createPlotKitCanvas_=function(e){var i=t.createCanvas();return i.style.position="absolute",i.style.top=e.style.top,i.style.left=e.style.left,i.width=this.width_,i.height=this.height_,i.style.width=this.width_+"px",i.style.height=this.height_+"px",i},t.prototype.createMouseEventElement_=function(){if(this.isUsingExcanvas_){var t=document.createElement("div");return t.style.position="absolute",t.style.backgroundColor="white",t.style.filter="alpha(opacity=0)",t.style.width=this.width_+"px",t.style.height=this.height_+"px",this.graphDiv.appendChild(t),t}return this.canvas_},t.prototype.setColors_=function(){var e=this.getLabels(),i=e.length-1;this.colors_=[],this.colorsMap_={};for(var n=this.getNumericOption("colorSaturation")||1,r=this.getNumericOption("colorValue")||.5,s=Math.ceil(i/2),o=this.getOption("colors"),a=this.visibility(),l=0;l<i;l++)if(a[l]){var u=e[l+1],c=this.attributes_.getForSeries("color",u);if(!c)if(o)c=o[l%o.length];else{var h=l%2?s+(l+1)/2:Math.ceil((l+1)/2),d=1*h/(1+i);c=t.hsvToRGB(d,n,r)}this.colors_.push(c),this.colorsMap_[u]=c}},t.prototype.getColors=function(){return this.colors_},t.prototype.getPropertiesForSeries=function(t){for(var e=-1,i=this.getLabels(),n=1;n<i.length;n++)if(i[n]==t){e=n;break}return e==-1?null:{name:t,column:e,visible:this.visibility()[e-1],color:this.colorsMap_[t],axis:1+this.attributes_.axisForSeries(t)}},t.prototype.createRollInterface_=function(){this.roller_||(this.roller_=document.createElement("input"),this.roller_.type="text",this.roller_.style.display="none",this.graphDiv.appendChild(this.roller_));var t=this.getBooleanOption("showRoller")?"block":"none",e=this.plotter_.area,i={position:"absolute",zIndex:10,top:e.y+e.h-25+"px",left:e.x+1+"px",display:t};this.roller_.size="2",this.roller_.value=this.rollPeriod_;for(var n in i)i.hasOwnProperty(n)&&(this.roller_.style[n]=i[n]);var r=this;this.roller_.onchange=function(){r.adjustRoll(r.roller_.value)}},t.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new t.IFrameTarp,initializeMouseDown:function(e,i,n){e.preventDefault?e.preventDefault():(e.returnValue=!1,e.cancelBubble=!0);var r=t.findPos(i.canvas_);n.px=r.x,n.py=r.y,n.dragStartX=t.dragGetX_(e,n),n.dragStartY=t.dragGetY_(e,n),n.cancelNextDblclick=!1,n.tarp.cover()},destroy:function(){var t=this;if((t.isZooming||t.isPanning)&&(t.isZooming=!1,t.dragStartX=null,t.dragStartY=null),t.isPanning){t.isPanning=!1,t.draggingDate=null,t.dateRange=null;for(var e=0;e<n.axes_.length;e++)delete n.axes_[e].draggingValue,delete n.axes_[e].dragValueRange}t.tarp.uncover()}},i=this.getOption("interactionModel"),n=this,r=function(t){return function(i){t(i,n,e)}};for(var s in i)i.hasOwnProperty(s)&&this.addAndTrackEvent(this.mouseEventElement_,s,r(i[s]));if(!i.willDestroyContextMyself){var o=function(t){e.destroy()};this.addAndTrackEvent(document,"mouseup",o)}},t.prototype.drawZoomRect_=function(e,i,n,r,s,o,a,l){var u=this.canvas_ctx_;o==t.HORIZONTAL?u.clearRect(Math.min(i,a),this.layout_.getPlotArea().y,Math.abs(i-a),this.layout_.getPlotArea().h):o==t.VERTICAL&&u.clearRect(this.layout_.getPlotArea().x,Math.min(r,l),this.layout_.getPlotArea().w,Math.abs(r-l)),e==t.HORIZONTAL?n&&i&&(u.fillStyle="rgba(128,128,128,0.33)",u.fillRect(Math.min(i,n),this.layout_.getPlotArea().y,Math.abs(n-i),this.layout_.getPlotArea().h)):e==t.VERTICAL&&s&&r&&(u.fillStyle="rgba(128,128,128,0.33)",u.fillRect(this.layout_.getPlotArea().x,Math.min(r,s),this.layout_.getPlotArea().w,Math.abs(s-r))),this.isUsingExcanvas_&&(this.currentZoomRectArgs_=[e,i,n,r,s,0,0,0])},t.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},t.prototype.doZoomX_=function(t,e){this.currentZoomRectArgs_=null;var i=this.toDataXCoord(t),n=this.toDataXCoord(e);this.doZoomXDates_(i,n)},t.prototype.doZoomXDates_=function(t,e){var i=this.xAxisRange(),n=[t,e];this.zoomed_x_=!0;var r=this;this.doAnimatedZoom(i,n,null,null,function(){r.getFunctionOption("zoomCallback")&&r.getFunctionOption("zoomCallback").call(r,t,e,r.yAxisRanges())})},t.prototype.doZoomY_=function(t,e){this.currentZoomRectArgs_=null;for(var i=this.yAxisRanges(),n=[],r=0;r<this.axes_.length;r++){var s=this.toDataYCoord(t,r),o=this.toDataYCoord(e,r);n.push([o,s])}this.zoomed_y_=!0;var a=this;this.doAnimatedZoom(null,null,i,n,function(){if(a.getFunctionOption("zoomCallback")){var t=a.xAxisRange();a.getFunctionOption("zoomCallback").call(a,t[0],t[1],a.yAxisRanges())}})},t.zoomAnimationFunction=function(t,e){var i=1.5;return(1-Math.pow(i,-t))/(1-Math.pow(i,-e))},t.prototype.resetZoom=function(){var t=!1,e=!1,i=!1;null!==this.dateWindow_&&(t=!0,e=!0);for(var n=0;n<this.axes_.length;n++)"undefined"!=typeof this.axes_[n].valueWindow&&null!==this.axes_[n].valueWindow&&(t=!0,i=!0);if(this.clearSelection(),t){this.zoomed_x_=!1,this.zoomed_y_=!1;var r=this.rawData_[0][0],s=this.rawData_[this.rawData_.length-1][0];if(!this.getBooleanOption("animatedZooms")){for(this.dateWindow_=null,n=0;n<this.axes_.length;n++)null!==this.axes_[n].valueWindow&&delete this.axes_[n].valueWindow;return this.drawGraph_(),void(this.getFunctionOption("zoomCallback")&&this.getFunctionOption("zoomCallback").call(this,r,s,this.yAxisRanges()))}var o=null,a=null,l=null,u=null;if(e&&(o=this.xAxisRange(),a=[r,s]),i){l=this.yAxisRanges();var c=this.gatherDatasets_(this.rolledSeries_,null),h=c.extremes;for(this.computeYAxisRanges_(h),u=[],n=0;n<this.axes_.length;n++){var d=this.axes_[n];u.push(null!==d.valueRange&&void 0!==d.valueRange?d.valueRange:d.extremeRange)}}var f=this;this.doAnimatedZoom(o,a,l,u,function(){f.dateWindow_=null;for(var t=0;t<f.axes_.length;t++)null!==f.axes_[t].valueWindow&&delete f.axes_[t].valueWindow;f.getFunctionOption("zoomCallback")&&f.getFunctionOption("zoomCallback").call(f,r,s,f.yAxisRanges())})}},t.prototype.doAnimatedZoom=function(e,i,n,r,s){var o,a,l=this.getBooleanOption("animatedZooms")?t.ANIMATION_STEPS:1,u=[],c=[];if(null!==e&&null!==i)for(o=1;o<=l;o++)a=t.zoomAnimationFunction(o,l),u[o-1]=[e[0]*(1-a)+a*i[0],e[1]*(1-a)+a*i[1]];if(null!==n&&null!==r)for(o=1;o<=l;o++){a=t.zoomAnimationFunction(o,l);for(var h=[],d=0;d<this.axes_.length;d++)h.push([n[d][0]*(1-a)+a*r[d][0],n[d][1]*(1-a)+a*r[d][1]]);c[o-1]=h}var f=this;t.repeatAndCleanup(function(t){if(c.length)for(var e=0;e<f.axes_.length;e++){var i=c[t][e];f.axes_[e].valueWindow=[i[0],i[1]]}u.length&&(f.dateWindow_=u[t]),f.drawGraph_()},l,t.ANIMATION_DURATION/l,s)},t.prototype.getArea=function(){return this.plotter_.area},t.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY)return[e.offsetX,e.offsetY];var i=t.findPos(this.mouseEventElement_),n=t.pageX(e)-i.x,r=t.pageY(e)-i.y;return[n,r]},t.prototype.findClosestRow=function(e){for(var i=1/0,n=-1,r=this.layout_.points,s=0;s<r.length;s++)for(var o=r[s],a=o.length,l=0;l<a;l++){var u=o[l];if(t.isValidPoint(u,!0)){var c=Math.abs(u.canvasx-e);c<i&&(i=c,n=u.idx)}}return n},t.prototype.findClosestPoint=function(e,i){for(var n,r,s,o,a,l,u,c=1/0,h=this.layout_.points.length-1;h>=0;--h)for(var d=this.layout_.points[h],f=0;f<d.length;++f)o=d[f],t.isValidPoint(o)&&(r=o.canvasx-e,s=o.canvasy-i,n=r*r+s*s,n<c&&(c=n,a=o,l=h,u=o.idx));var p=this.layout_.setNames[l];return{row:u,seriesName:p,point:a}},t.prototype.findStackedPoint=function(e,i){for(var n,r,s=this.findClosestRow(e),o=0;o<this.layout_.points.length;++o){var a=this.getLeftBoundary_(o),l=s-a,u=this.layout_.points[o];if(!(l>=u.length)){var c=u[l];if(t.isValidPoint(c)){var h=c.canvasy;if(e>c.canvasx&&l+1<u.length){var d=u[l+1];if(t.isValidPoint(d)){var f=d.canvasx-c.canvasx;if(f>0){var p=(e-c.canvasx)/f;h+=p*(d.canvasy-c.canvasy)}}}else if(e<c.canvasx&&l>0){var g=u[l-1];if(t.isValidPoint(g)){var f=c.canvasx-g.canvasx;if(f>0){var p=(c.canvasx-e)/f;h+=p*(g.canvasy-c.canvasy)}}}(0===o||h<i)&&(n=c,r=o)}}}var m=this.layout_.setNames[r];return{row:s,seriesName:m,point:n}},t.prototype.mouseMove_=function(t){var e=this.layout_.points;if(void 0!==e&&null!==e){var i=this.eventToDomCoords(t),n=i[0],r=i[1],s=this.getOption("highlightSeriesOpts"),o=!1;if(s&&!this.isSeriesLocked()){var a;a=this.getBooleanOption("stackedGraph")?this.findStackedPoint(n,r):this.findClosestPoint(n,r),o=this.setSelection(a.row,a.seriesName)}else{var l=this.findClosestRow(n);o=this.setSelection(l)}var u=this.getFunctionOption("highlightCallback");u&&o&&u.call(this,t,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},t.prototype.getLeftBoundary_=function(t){if(this.boundaryIds_[t])return this.boundaryIds_[t][0];for(var e=0;e<this.boundaryIds_.length;e++)if(void 0!==this.boundaryIds_[e])return this.boundaryIds_[e][0];return 0},t.prototype.animateSelection_=function(e){var i=10,n=30;void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var r=this.fadeLevel,s=e<0?r:i-r;if(s<=0)return void(this.fadeLevel&&this.updateSelection_(1));var o=++this.animateId,a=this;t.repeatAndCleanup(function(t){a.animateId==o&&(a.fadeLevel+=e,0===a.fadeLevel?a.clearSelection():a.updateSelection_(a.fadeLevel/i))},s,n,function(){})},t.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedRow:this.lastRow_,selectedX:this.lastx_,selectedPoints:this.selPoints_});var i,n=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){n.clearRect(0,0,this.width_,this.height_);var r=1-this.getNumericOption("highlightSeriesBackgroundAlpha");if(r){var s=!0;if(s){if(void 0===e)return void this.animateSelection_(1);r*=e}n.fillStyle="rgba(255,255,255,"+r+")",n.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,n)}else if(this.previousVerticalX_>=0){var o=0,a=this.attr_("labels");for(i=1;i<a.length;i++){var l=this.getNumericOption("highlightCircleSize",a[i]);l>o&&(o=l)}var u=this.previousVerticalX_;n.clearRect(u-o-1,0,2*o+2,this.height_)}if(this.isUsingExcanvas_&&this.currentZoomRectArgs_&&t.prototype.drawZoomRect_.apply(this,this.currentZoomRectArgs_),this.selPoints_.length>0){var c=this.selPoints_[0].canvasx;for(n.save(),i=0;i<this.selPoints_.length;i++){var h=this.selPoints_[i];if(t.isOK(h.canvasy)){var d=this.getNumericOption("highlightCircleSize",h.name),f=this.getFunctionOption("drawHighlightPointCallback",h.name),p=this.plotter_.colors[h.name];f||(f=t.Circles.DEFAULT),n.lineWidth=this.getNumericOption("strokeWidth",h.name),n.strokeStyle=p,n.fillStyle=p,f.call(this,this,h.name,n,c,h.canvasy,p,d,h.idx)}}n.restore(),this.previousVerticalX_=c}},t.prototype.setSelection=function(t,e,i){this.selPoints_=[];var n=!1;if(t!==!1&&t>=0){t!=this.lastRow_&&(n=!0),this.lastRow_=t;for(var r=0;r<this.layout_.points.length;++r){var s=this.layout_.points[r],o=t-this.getLeftBoundary_(r);if(o<s.length&&s[o].idx==t){var a=s[o];null!==a.yval&&this.selPoints_.push(a)}else for(var l=0;l<s.length;++l){var a=s[l];if(a.idx==t){null!==a.yval&&this.selPoints_.push(a);break}}}}else this.lastRow_>=0&&(n=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==e&&(this.highlightSet_!==e&&(n=!0),this.highlightSet_=e),void 0!==i&&(this.lockedSet_=i),n&&this.updateSelection_(void 0),n},t.prototype.mouseOut_=function(t){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,t),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},t.prototype.clearSelection=function(){return this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?void this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,void(this.highlightSet_=null))},t.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var t=0;t<this.layout_.points.length;t++)for(var e=this.layout_.points[t],i=0;i<e.length;i++)if(e[i].x==this.selPoints_[0].x)return e[i].idx;return-1},t.prototype.getHighlightSeries=function(){return this.highlightSet_},t.prototype.isSeriesLocked=function(){return this.lockedSet_},t.prototype.loadedEvent_=function(t){this.rawData_=this.parseCSV_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_()},t.prototype.addXTicks_=function(){var t;t=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var e=this.optionsViewForAxis_("x"),i=e("ticker")(t[0],t[1],this.plotter_.area.w,e,this);this.layout_.setXTicks(i)},t.prototype.getHandlerClass_=function(){var e;return e=this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?t.DataHandlers.FractionsBarsHandler:t.DataHandlers.DefaultFractionHandler:this.getBooleanOption("customBars")?t.DataHandlers.CustomBarsHandler:this.getBooleanOption("errorBars")?t.DataHandlers.ErrorBarsHandler:t.DataHandlers.DefaultHandler},t.prototype.predraw_=function(){var t=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new s(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var e=1;e<this.numColumns();e++){var i=this.dataHandler_.extractSeries(this.rawData_,e,this.attributes_);this.rollPeriod_>1&&(i=this.dataHandler_.rollingAverage(i,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(i)}this.drawGraph_();var n=new Date;this.drawingTimeMs_=n-t},t.PointType=void 0,t.stackPoints_=function(t,e,i,n){for(var r=null,s=null,o=null,a=-1,l=function(e){if(!(a>=e))for(var i=e;i<t.length;++i)if(o=null,!isNaN(t[i].yval)&&null!==t[i].yval){a=i,o=t[i];break}},u=0;u<t.length;++u){var c=t[u],h=c.xval;void 0===e[h]&&(e[h]=0);var d=c.yval;isNaN(d)||null===d?"none"==n?d=0:(l(u),d=s&&o&&"none"!=n?s.yval+(o.yval-s.yval)*((h-s.xval)/(o.xval-s.xval)):s&&"all"==n?s.yval:o&&"all"==n?o.yval:0):s=c;var f=e[h];r!=h&&(f+=d,e[h]=f),r=h,c.yval_stacked=f,f>i[1]&&(i[1]=f),f<i[0]&&(i[0]=f)}},t.prototype.gatherDatasets_=function(e,i){var n,r,s,o,a,l,u=[],c=[],h=[],d={},f=e.length-1;for(n=f;n>=1;n--)if(this.visibility()[n-1]){if(i){l=e[n];var p=i[0],g=i[1];for(s=null,o=null,r=0;r<l.length;r++)l[r][0]>=p&&null===s&&(s=r),l[r][0]<=g&&(o=r);null===s&&(s=0);for(var m=s,v=!0;v&&m>0;)m--,v=null===l[m][1];null===o&&(o=l.length-1);var y=o;for(v=!0;v&&y<l.length-1;)y++,v=null===l[y][1];m!==s&&(s=m),y!==o&&(o=y),u[n-1]=[s,o],l=l.slice(s,o+1)}else l=e[n],u[n-1]=[0,l.length-1];var _=this.attr_("labels")[n],b=this.dataHandler_.getExtremeYValues(l,i,this.getBooleanOption("stepPlot",_)),w=this.dataHandler_.seriesToPoints(l,_,u[n-1][0]);this.getBooleanOption("stackedGraph")&&(a=this.attributes_.axisForSeries(_),void 0===h[a]&&(h[a]=[]),t.stackPoints_(w,h[a],b,this.getBooleanOption("stackedGraphNaNFill"))),d[_]=b,c[n]=w}return{points:c,extremes:d,boundaryIds:u}},t.prototype.drawGraph_=function(){var t=new Date,e=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var i=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),n=i.points,r=i.extremes;this.boundaryIds_=i.boundaryIds,this.setIndexByName_={};var s=this.attr_("labels");s.length>0&&(this.setIndexByName_[s[0]]=0);for(var o=0,a=1;a<n.length;a++)this.setIndexByName_[s[a]]=a,this.visibility()[a-1]&&(this.layout_.addDataset(s[a],n[a]),this.datasetIndex_[a]=o++);this.computeYAxisRanges_(r),this.layout_.setYAxes(this.axes_),this.addXTicks_();var l=this.zoomed_x_;if(this.zoomed_x_=l,this.layout_.evaluate(),this.renderGraph_(e),this.getStringOption("timingName")){var u=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(u-t)+"ms")}},t.prototype.renderGraph_=function(t){this.cascadeEvents_("clearChart"),this.plotter_.clear(),this.getFunctionOption("underlayCallback")&&this.getFunctionOption("underlayCallback").call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var e={canvas:this.hidden_,drawingContext:this.hidden_ctx_};if(this.cascadeEvents_("willDrawChart",e),this.plotter_.render(),this.cascadeEvents_("didDrawChart",e),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_),null!==this.getFunctionOption("drawCallback")&&this.getFunctionOption("drawCallback").call(this,this,t),t)for(this.readyFired_=!0;this.readyFns_.length>0;){var i=this.readyFns_.pop();i(this)}},t.prototype.computeYAxes_=function(){var e,i,n,r,s;if(void 0!==this.axes_&&this.user_attrs_.hasOwnProperty("valueRange")===!1)for(e=[],n=0;n<this.axes_.length;n++)e.push(this.axes_[n].valueWindow);for(this.axes_=[],i=0;i<this.attributes_.numAxes();i++)r={g:this},t.update(r,this.attributes_.axisOptions(i)),this.axes_[i]=r;if(s=this.attr_("valueRange"),s&&(this.axes_[0].valueRange=s),void 0!==e){var o=Math.min(e.length,this.axes_.length);for(n=0;n<o;n++)this.axes_[n].valueWindow=e[n]}for(i=0;i<this.axes_.length;i++)if(0===i)r=this.optionsViewForAxis_("y"+(i?"2":"")),s=r("valueRange"),s&&(this.axes_[i].valueRange=s);else{var a=this.user_attrs_.axes;a&&a.y2&&(s=a.y2.valueRange,s&&(this.axes_[i].valueRange=s))}},t.prototype.numAxes=function(){return this.attributes_.numAxes()},t.prototype.axisPropertiesForSeries=function(t){return this.axes_[this.attributes_.axisForSeries(t)]},t.prototype.computeYAxisRanges_=function(t){for(var e,i,n,r,s,o=function(t){return isNaN(parseFloat(t))},a=this.attributes_.numAxes(),l=0;l<a;l++){var u=this.axes_[l],c=this.attributes_.getForAxis("logscale",l),h=this.attributes_.getForAxis("includeZero",l),d=this.attributes_.getForAxis("independentTicks",l);if(n=this.attributes_.seriesForAxis(l),e=!0,r=.1,null!==this.getNumericOption("yRangePad")&&(e=!1,r=this.getNumericOption("yRangePad")/this.plotter_.area.h),0===n.length)u.extremeRange=[0,1];else{for(var f,p,g=1/0,m=-(1/0),v=0;v<n.length;v++)t.hasOwnProperty(n[v])&&(f=t[n[v]][0],null!==f&&(g=Math.min(f,g)),p=t[n[v]][1],null!==p&&(m=Math.max(p,m)));h&&!c&&(g>0&&(g=0),m<0&&(m=0)),g==1/0&&(g=0),m==-(1/0)&&(m=1),i=m-g,0===i&&(0!==m?i=Math.abs(m):(m=1,i=1));var y,_;if(c)if(e)y=m+r*i,_=g;else{var b=Math.exp(Math.log(i)*r);y=m*b,_=g/b}else y=m+r*i,_=g-r*i,e&&!this.getBooleanOption("avoidMinZero")&&(_<0&&g>=0&&(_=0),y>0&&m<=0&&(y=0));u.extremeRange=[_,y]}if(u.valueWindow)u.computedValueRange=[u.valueWindow[0],u.valueWindow[1]];else if(u.valueRange){var w=o(u.valueRange[0])?u.extremeRange[0]:u.valueRange[0],x=o(u.valueRange[1])?u.extremeRange[1]:u.valueRange[1];if(!e)if(u.logscale){var b=Math.exp(Math.log(i)*r);w*=b,x/=b}else i=x-w,w-=i*r,x+=i*r;u.computedValueRange=[w,x]}else u.computedValueRange=u.extremeRange;if(d){u.independentTicks=d;var k=this.optionsViewForAxis_("y"+(l?"2":"")),T=k("ticker");u.ticks=T(u.computedValueRange[0],u.computedValueRange[1],this.plotter_.area.h,k,this),s||(s=u)}}if(void 0===s)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(var l=0;l<a;l++){var u=this.axes_[l];if(!u.independentTicks){for(var k=this.optionsViewForAxis_("y"+(l?"2":"")),T=k("ticker"),C=s.ticks,D=s.computedValueRange[1]-s.computedValueRange[0],S=u.computedValueRange[1]-u.computedValueRange[0],E=[],O=0;O<C.length;O++){var A=(C[O].v-s.computedValueRange[0])/D,M=u.computedValueRange[0]+A*S;E.push(M)}u.ticks=T(u.computedValueRange[0],u.computedValueRange[1],this.plotter_.area.h,k,this,E)}}},t.prototype.detectTypeFromString_=function(t){var e=!1,i=t.indexOf("-");i>0&&"e"!=t[i-1]&&"E"!=t[i-1]||t.indexOf("/")>=0||isNaN(parseFloat(t))?e=!0:8==t.length&&t>"19700101"&&t<"20371231"&&(e=!0),this.setXAxisOptions_(e)},t.prototype.setXAxisOptions_=function(e){e?(this.attrs_.xValueParser=t.dateParser,this.attrs_.axes.x.valueFormatter=t.dateValueFormatter,this.attrs_.axes.x.ticker=t.dateTicker,this.attrs_.axes.x.axisLabelFormatter=t.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=t.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},t.prototype.parseCSV_=function(e){var i,n,r=[],s=t.detectLineDelimiter(e),o=e.split(s||"\n"),a=this.getStringOption("delimiter");o[0].indexOf(a)==-1&&o[0].indexOf("\t")>=0&&(a="\t");var l=0;"labels"in this.user_attrs_||(l=1,this.attrs_.labels=o[0].split(a),this.attributes_.reparseSeries());for(var u,c=0,h=!1,d=this.attr_("labels").length,f=!1,p=l;p<o.length;p++){var g=o[p];if(c=p,0!==g.length&&"#"!=g[0]){var m=g.split(a);if(!(m.length<2)){var v=[];if(h||(this.detectTypeFromString_(m[0]),u=this.getFunctionOption("xValueParser"),h=!0),v[0]=u(m[0],this),this.fractions_)for(n=1;n<m.length;n++)i=m[n].split("/"),2!=i.length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+m[n]+"' on line "+(1+p)+" ('"+g+"') which is not of this form."),v[n]=[0,0]):v[n]=[t.parseFloat_(i[0],p,g),t.parseFloat_(i[1],p,g)];else if(this.getBooleanOption("errorBars"))for(m.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+p)+" has an odd number of values ("+(m.length-1)+"): '"+g+"'"),n=1;n<m.length;n+=2)v[(n+1)/2]=[t.parseFloat_(m[n],p,g),t.parseFloat_(m[n+1],p,g)];else if(this.getBooleanOption("customBars"))for(n=1;n<m.length;n++){var y=m[n];/^ *$/.test(y)?v[n]=[null,null,null]:(i=y.split(";"),3==i.length?v[n]=[t.parseFloat_(i[0],p,g),t.parseFloat_(i[1],p,g),t.parseFloat_(i[2],p,g)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+y+'" on line '+(1+p)))}else for(n=1;n<m.length;n++)v[n]=t.parseFloat_(m[n],p,g);if(r.length>0&&v[0]<r[r.length-1][0]&&(f=!0),v.length!=d&&console.error("Number of columns in line "+p+" ("+v.length+") does not agree with number of labels ("+d+") "+g),0===p&&this.attr_("labels")){var _=!0;for(n=0;_&&n<v.length;n++)v[n]&&(_=!1);if(_){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+g+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}r.push(v)}}}return f&&(console.warn("CSV is out of order; order it correctly to speed loading."),r.sort(function(t,e){return t[0]-e[0]})),r},t.prototype.parseArray_=function(e){if(0===e.length)return console.error("Can't plot empty data set"),null;if(0===e[0].length)return console.error("Data set cannot contain an empty row"),null;var i;if(null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],i=1;i<e[0].length;i++)this.attrs_.labels.push("Y"+i);this.attributes_.reparseSeries()}else{var n=this.attr_("labels");if(n.length!=e[0].length)return console.error("Mismatch between number of labels ("+n+") and number of columns in array ("+e[0].length+")"),null}if(t.isDateLike(e[0][0])){this.attrs_.axes.x.valueFormatter=t.dateValueFormatter,this.attrs_.axes.x.ticker=t.dateTicker,this.attrs_.axes.x.axisLabelFormatter=t.dateAxisLabelFormatter;var r=t.clone(e);for(i=0;i<e.length;i++){if(0===r[i].length)return console.error("Row "+(1+i)+" of data is empty"),null;if(null===r[i][0]||"function"!=typeof r[i][0].getTime||isNaN(r[i][0].getTime()))return console.error("x value in row "+(1+i)+" is not a Date"),null;r[i][0]=r[i][0].getTime()}return r}return this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=t.numericTicks,this.attrs_.axes.x.axisLabelFormatter=t.numberAxisLabelFormatter,e},t.prototype.parseDataTable_=function(e){var i=function(t){var e=String.fromCharCode(65+t%26);for(t=Math.floor(t/26);t>0;)e=String.fromCharCode(65+(t-1)%26)+e.toLowerCase(),t=Math.floor((t-1)/26);return e},n=e.getNumberOfColumns(),r=e.getNumberOfRows(),s=e.getColumnType(0);if("date"==s||"datetime"==s)this.attrs_.xValueParser=t.dateParser,this.attrs_.axes.x.valueFormatter=t.dateValueFormatter,this.attrs_.axes.x.ticker=t.dateTicker,this.attrs_.axes.x.axisLabelFormatter=t.dateAxisLabelFormatter;else{if("number"!=s)return console.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+s+"')"),null;this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=t.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var o,a,l=[],u={},c=!1;for(o=1;o<n;o++){var h=e.getColumnType(o);if("number"==h)l.push(o);else if("string"==h&&this.getBooleanOption("displayAnnotations")){var d=l[l.length-1];u.hasOwnProperty(d)?u[d].push(o):u[d]=[o],c=!0}else console.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}var f=[e.getColumnLabel(0)];for(o=0;o<l.length;o++)f.push(e.getColumnLabel(l[o])),this.getBooleanOption("errorBars")&&(o+=1);this.attrs_.labels=f,n=f.length;var p=[],g=!1,m=[];for(o=0;o<r;o++){var v=[];if("undefined"!=typeof e.getValue(o,0)&&null!==e.getValue(o,0)){if("date"==s||"datetime"==s?v.push(e.getValue(o,0).getTime()):v.push(e.getValue(o,0)),this.getBooleanOption("errorBars"))for(a=0;a<n-1;a++)v.push([e.getValue(o,1+2*a),e.getValue(o,2+2*a)]);else{for(a=0;a<l.length;a++){var y=l[a];if(v.push(e.getValue(o,y)),c&&u.hasOwnProperty(y)&&null!==e.getValue(o,u[y][0])){var _={};_.series=e.getColumnLabel(y),_.xval=v[0],_.shortText=i(m.length),_.text="";for(var b=0;b<u[y].length;b++)b&&(_.text+="\n"),_.text+=e.getValue(o,u[y][b]);m.push(_)}}for(a=0;a<v.length;a++)isFinite(v[a])||(v[a]=null)}p.length>0&&v[0]<p[p.length-1][0]&&(g=!0),p.push(v)}else console.warn("Ignoring row "+o+" of DataTable because of undefined or null first column.")}g&&(console.warn("DataTable is out of order; order it correctly to speed loading."),p.sort(function(t,e){return t[0]-e[0]})),this.rawData_=p,m.length>0&&this.setAnnotations(m,!0),this.attributes_.reparseSeries()},t.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},t.prototype.start_=function(){var e=this.file_;if("function"==typeof e&&(e=e()),t.isArrayLike(e))this.rawData_=this.parseArray_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof e&&"function"==typeof e.getColumnRange)this.parseDataTable_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof e){var i=t.detectLineDelimiter(e);if(i)this.loadedEvent_(e);else{var n;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var r=this;n.onreadystatechange=function(){4==n.readyState&&(200!==n.status&&0!==n.status||r.loadedEvent_(n.responseText))},n.open("GET",e,!0),n.send(null)}}else console.error("Unknown data format: "+typeof e)},t.prototype.updateOptions=function(e,i){"undefined"==typeof i&&(i=!1);var n=e.file,r=t.mapLegacyOptions_(e);"rollPeriod"in r&&(this.rollPeriod_=r.rollPeriod),"dateWindow"in r&&(this.dateWindow_=r.dateWindow,"isZoomedIgnoreProgrammaticZoom"in r||(this.zoomed_x_=null!==r.dateWindow)),"valueRange"in r&&!("isZoomedIgnoreProgrammaticZoom"in r)&&(this.zoomed_y_=null!==r.valueRange);var s=t.isPixelChangingOptionList(this.attr_("labels"),r);t.updateDeep(this.user_attrs_,r),this.attributes_.reparseSeries(),n?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=n,i||this.start_()):i||(s?this.predraw_():this.renderGraph_(!1))},t.mapLegacyOptions_=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&"file"!=i&&t.hasOwnProperty(i)&&(e[i]=t[i]);var n=function(t,i,n){e.axes||(e.axes={}),e.axes[t]||(e.axes[t]={}),e.axes[t][i]=n},r=function(i,r,s){"undefined"!=typeof t[i]&&(console.warn("Option "+i+" is deprecated. Use the "+s+" option for the "+r+" axis instead. (e.g. { axes : { "+r+" : { "+s+" : ... } } } (see http://dygraphs.com/per-axis.html for more information."),n(r,s,t[i]),delete e[i])};return r("xValueFormatter","x","valueFormatter"),r("pixelsPerXLabel","x","pixelsPerLabel"),r("xAxisLabelFormatter","x","axisLabelFormatter"),r("xTicker","x","ticker"),r("yValueFormatter","y","valueFormatter"),r("pixelsPerYLabel","y","pixelsPerLabel"),r("yAxisLabelFormatter","y","axisLabelFormatter"),r("yTicker","y","ticker"),r("drawXGrid","x","drawGrid"),r("drawXAxis","x","drawAxis"),r("drawYGrid","y","drawGrid"),r("drawYAxis","y","drawAxis"),r("xAxisLabelWidth","x","axisLabelWidth"),r("yAxisLabelWidth","y","axisLabelWidth"),e},t.prototype.resize=function(t,e){if(!this.resize_lock){this.resize_lock=!0,null===t!=(null===e)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),t=e=null);var i=this.width_,n=this.height_;t?(this.maindiv_.style.width=t+"px",this.maindiv_.style.height=e+"px",this.width_=t,this.height_=e):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),i==this.width_&&n==this.height_||(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},t.prototype.adjustRoll=function(t){this.rollPeriod_=t,this.predraw_()},t.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")},t.prototype.setVisibility=function(t,e){var i=this.visibility();t<0||t>=i.length?console.warn("invalid series number in setVisibility: "+t):(i[t]=e,
this.predraw_())},t.prototype.size=function(){return{width:this.width_,height:this.height_}},t.prototype.setAnnotations=function(e,i){return t.addAnnotationRule(),this.annotations_=e,this.layout_?(this.layout_.setAnnotations(this.annotations_),void(i||this.predraw_())):void console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},t.prototype.annotations=function(){return this.annotations_},t.prototype.getLabels=function(){var t=this.attr_("labels");return t?t.slice():null},t.prototype.indexFromSetName=function(t){return this.setIndexByName_[t]},t.prototype.ready=function(t){this.is_initial_draw_?this.readyFns_.push(t):t.call(this,this)},t.addAnnotationRule=function(){if(!t.addedAnnotationCSS){var e="border: 1px solid black; background-color: white; text-align: center;",i=document.createElement("style");i.type="text/css",document.getElementsByTagName("head")[0].appendChild(i);for(var n=0;n<document.styleSheets.length;n++)if(!document.styleSheets[n].disabled){var r=document.styleSheets[n];try{if(r.insertRule){var s=r.cssRules?r.cssRules.length:0;r.insertRule(".dygraphDefaultAnnotation { "+e+" }",s)}else r.addRule&&r.addRule(".dygraphDefaultAnnotation",e);return void(t.addedAnnotationCSS=!0)}catch(o){}}console.warn("Unable to add default annotation CSS rule; display may be off.")}},"object"==typeof i&&"undefined"!=typeof e&&(e.exports=t),t}();!function(){"use strict";function t(t){var e=i.exec(t);if(!e)return null;var n=parseInt(e[1],10),r=parseInt(e[2],10),s=parseInt(e[3],10);return e[4]?{r:n,g:r,b:s,a:parseFloat(e[4])}:{r:n,g:r,b:s}}o.LOG_SCALE=10,o.LN_TEN=Math.log(o.LOG_SCALE),o.log10=function(t){return Math.log(t)/o.LN_TEN},o.DOTTED_LINE=[2,2],o.DASHED_LINE=[7,3],o.DOT_DASH_LINE=[7,2,2,2],o.getContext=function(t){return t.getContext("2d")},o.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):(t[e+i]=function(){i(window.event)},t.attachEvent("on"+e,t[e+i]))},o.prototype.addAndTrackEvent=function(t,e,i){o.addEvent(t,e,i),this.registeredEvents_.push({elem:t,type:e,fn:i})},o.removeEvent=function(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else{try{t.detachEvent("on"+e,t[e+i])}catch(n){}t[e+i]=null}},o.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var t=0;t<this.registeredEvents_.length;t++){var e=this.registeredEvents_[t];o.removeEvent(e.elem,e.type,e.fn)}this.registeredEvents_=[]},o.cancelEvent=function(t){return t=t?t:window.event,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1,!1},o.hsvToRGB=function(t,e,i){var n,r,s;if(0===e)n=i,r=i,s=i;else{var o=Math.floor(6*t),a=6*t-o,l=i*(1-e),u=i*(1-e*a),c=i*(1-e*(1-a));switch(o){case 1:n=u,r=i,s=l;break;case 2:n=l,r=i,s=c;break;case 3:n=l,r=u,s=i;break;case 4:n=c,r=l,s=i;break;case 5:n=i,r=l,s=u;break;case 6:case 0:n=i,r=c,s=l}}return n=Math.floor(255*n+.5),r=Math.floor(255*r+.5),s=Math.floor(255*s+.5),"rgb("+n+","+r+","+s+")"},o.findPos=function(t){var e=0,i=0;if(t.offsetParent)for(var n=t;;){var r="0",s="0";if(window.getComputedStyle){var o=window.getComputedStyle(n,null);r=o.borderLeft||"0",s=o.borderTop||"0"}if(e+=parseInt(r,10),i+=parseInt(s,10),e+=n.offsetLeft,i+=n.offsetTop,!n.offsetParent)break;n=n.offsetParent}else t.x&&(e+=t.x),t.y&&(i+=t.y);for(;t&&t!=document.body;)e-=t.scrollLeft,i-=t.scrollTop,t=t.parentNode;return{x:e,y:i}},o.pageX=function(t){if(t.pageX)return!t.pageX||t.pageX<0?0:t.pageX;var e=document.documentElement,i=document.body;return t.clientX+(e.scrollLeft||i.scrollLeft)-(e.clientLeft||0)},o.pageY=function(t){if(t.pageY)return!t.pageY||t.pageY<0?0:t.pageY;var e=document.documentElement,i=document.body;return t.clientY+(e.scrollTop||i.scrollTop)-(e.clientTop||0)},o.dragGetX_=function(t,e){return o.pageX(t)-e.px},o.dragGetY_=function(t,e){return o.pageY(t)-e.py},o.isOK=function(t){return!!t&&!isNaN(t)},o.isValidPoint=function(t,e){return!!t&&(null!==t.yval&&(null!==t.x&&void 0!==t.x&&(null!==t.y&&void 0!==t.y&&!(isNaN(t.x)||!e&&isNaN(t.y)))))},o.floatFormat=function(t,e){var i=Math.min(Math.max(1,e||2),21);return Math.abs(t)<.001&&0!==t?t.toExponential(i-1):t.toPrecision(i)},o.zeropad=function(t){return t<10?"0"+t:""+t},o.DateAccessorsLocal={getFullYear:function(t){return t.getFullYear()},getMonth:function(t){return t.getMonth()},getDate:function(t){return t.getDate()},getHours:function(t){return t.getHours()},getMinutes:function(t){return t.getMinutes()},getSeconds:function(t){return t.getSeconds()},getMilliseconds:function(t){return t.getMilliseconds()},getDay:function(t){return t.getDay()},makeDate:function(t,e,i,n,r,s,o){return new Date(t,e,i,n,r,s,o)}},o.DateAccessorsUTC={getFullYear:function(t){return t.getUTCFullYear()},getMonth:function(t){return t.getUTCMonth()},getDate:function(t){return t.getUTCDate()},getHours:function(t){return t.getUTCHours()},getMinutes:function(t){return t.getUTCMinutes()},getSeconds:function(t){return t.getUTCSeconds()},getMilliseconds:function(t){return t.getUTCMilliseconds()},getDay:function(t){return t.getUTCDay()},makeDate:function(t,e,i,n,r,s,o){return new Date(Date.UTC(t,e,i,n,r,s,o))}},o.hmsString_=function(t,e,i){var n=o.zeropad,r=n(t)+":"+n(e);return i&&(r+=":"+n(i)),r},o.dateString_=function(t,e){var i=o.zeropad,n=e?o.DateAccessorsUTC:o.DateAccessorsLocal,r=new Date(t),s=n.getFullYear(r),a=n.getMonth(r),l=n.getDate(r),u=n.getHours(r),c=n.getMinutes(r),h=n.getSeconds(r),d=""+s,f=i(a+1),p=i(l),g=3600*u+60*c+h,m=d+"/"+f+"/"+p;return g&&(m+=" "+o.hmsString_(u,c,h)),m},o.round_=function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},o.binarySearch=function(t,e,i,n,r){if(null!==n&&void 0!==n&&null!==r&&void 0!==r||(n=0,r=e.length-1),n>r)return-1;null!==i&&void 0!==i||(i=0);var s,a=function(t){return t>=0&&t<e.length},l=parseInt((n+r)/2,10),u=e[l];return u==t?l:u>t?i>0&&(s=l-1,a(s)&&e[s]<t)?l:o.binarySearch(t,e,i,n,l-1):u<t?i<0&&(s=l+1,a(s)&&e[s]>t)?l:o.binarySearch(t,e,i,l+1,r):-1},o.dateParser=function(t){var e,i;if((t.search("-")==-1||t.search("T")!=-1||t.search("Z")!=-1)&&(i=o.dateStrToMillis(t),i&&!isNaN(i)))return i;if(t.search("-")!=-1){for(e=t.replace("-","/","g");e.search("-")!=-1;)e=e.replace("-","/");i=o.dateStrToMillis(e)}else 8==t.length?(e=t.substr(0,4)+"/"+t.substr(4,2)+"/"+t.substr(6,2),i=o.dateStrToMillis(e)):i=o.dateStrToMillis(t);return i&&!isNaN(i)||console.error("Couldn't parse "+t+" as a date"),i},o.dateStrToMillis=function(t){return new Date(t).getTime()},o.update=function(t,e){if("undefined"!=typeof e&&null!==e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},o.updateDeep=function(t,e){function i(t){return"object"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}if("undefined"!=typeof e&&null!==e)for(var n in e)e.hasOwnProperty(n)&&(null===e[n]?t[n]=null:o.isArrayLike(e[n])?t[n]=e[n].slice():i(e[n])?t[n]=e[n]:"object"==typeof e[n]?("object"==typeof t[n]&&null!==t[n]||(t[n]={}),o.updateDeep(t[n],e[n])):t[n]=e[n]);return t},o.isArrayLike=function(t){var e=typeof t;return("object"==e||"function"==e&&"function"==typeof t.item)&&null!==t&&"number"==typeof t.length&&3!==t.nodeType},o.isDateLike=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},o.clone=function(t){for(var e=[],i=0;i<t.length;i++)o.isArrayLike(t[i])?e.push(o.clone(t[i])):e.push(t[i]);return e},o.createCanvas=function(){var t=document.createElement("canvas"),e=/MSIE/.test(navigator.userAgent)&&!window.opera;return e&&"undefined"!=typeof G_vmlCanvasManager&&(t=G_vmlCanvasManager.initElement(t)),t},o.getContextPixelRatio=function(t){try{var e=window.devicePixelRatio,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return void 0!==e?e/i:1}catch(n){return 1}},o.isAndroid=function(){return/Android/.test(navigator.userAgent)},o.Iterator=function(t,e,i,n){e=e||0,i=i||t.length,this.hasNext=!0,this.peek=null,this.start_=e,this.array_=t,this.predicate_=n,this.end_=Math.min(t.length,e+i),this.nextIdx_=e-1,this.next()},o.Iterator.prototype.next=function(){if(!this.hasNext)return null;for(var t=this.peek,e=this.nextIdx_+1,i=!1;e<this.end_;){if(!this.predicate_||this.predicate_(this.array_,e)){this.peek=this.array_[e],i=!0;break}e++}return this.nextIdx_=e,i||(this.hasNext=!1,this.peek=null),t},o.createIterator=function(t,e,i,n){return new o.Iterator(t,e,i,n)},o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),o.repeatAndCleanup=function(t,e,i,n){var r,s=0,a=(new Date).getTime();if(t(s),1==e)return void n();var l=e-1;!function u(){s>=e||o.requestAnimFrame.call(window,function(){var e=(new Date).getTime(),o=e-a;r=s,s=Math.floor(o/i);var c=s-r,h=s+c>l;h||s>=l?(t(l),n()):(0!==c&&t(s),u())})}()};var e={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLabelColor:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawXGrid:!0,drawYGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,isZoomedIgnoreProgrammaticZoom:!0,labelsDiv:!0,labelsDivStyles:!0,labelsDivWidth:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotStrokeColor:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};o.isPixelChangingOptionList=function(t,i){var n={};if(t)for(var r=1;r<t.length;r++)n[t[r]]=!0;var s=function(t){for(var i in t)if(t.hasOwnProperty(i)&&!e[i])return!0;return!1};for(var o in i)if(i.hasOwnProperty(o))if("highlightSeriesOpts"==o||n[o]&&!i.series){if(s(i[o]))return!0}else if("series"==o||"axes"==o){var a=i[o];for(var l in a)if(a.hasOwnProperty(l)&&s(a[l]))return!0}else if(!e[o])return!0;return!1},o.Circles={DEFAULT:function(t,e,i,n,r,s,o){i.beginPath(),i.fillStyle=s,i.arc(n,r,o,0,2*Math.PI,!1),i.fill()}},o.IFrameTarp=function(){this.tarps=[]},o.IFrameTarp.prototype.cover=function(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++){var i=t[e],n=o.findPos(i),r=n.x,s=n.y,a=i.offsetWidth,l=i.offsetHeight,u=document.createElement("div");u.style.position="absolute",u.style.left=r+"px",u.style.top=s+"px",u.style.width=a+"px",u.style.height=l+"px",u.style.zIndex=999,document.body.appendChild(u),this.tarps.push(u)}},o.IFrameTarp.prototype.uncover=function(){for(var t=0;t<this.tarps.length;t++)this.tarps[t].parentNode.removeChild(this.tarps[t]);this.tarps=[]},o.detectLineDelimiter=function(t){for(var e=0;e<t.length;e++){var i=t.charAt(e);if("\r"===i)return e+1<t.length&&"\n"===t.charAt(e+1)?"\r\n":i;if("\n"===i)return e+1<t.length&&"\r"===t.charAt(e+1)?"\n\r":i}return null},o.isNodeContainedBy=function(t,e){if(null===e||null===t)return!1;for(var i=t;i&&i!==e;)i=i.parentNode;return i===e},o.pow=function(t,e){return e<0?1/Math.pow(t,-e):Math.pow(t,e)};var i=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/;o.toRGB_=function(e){var i=t(e);if(i)return i;var n=document.createElement("div");n.style.backgroundColor=e,n.style.visibility="hidden",document.body.appendChild(n);var r;return r=window.getComputedStyle?window.getComputedStyle(n,null).backgroundColor:n.currentStyle.backgroundColor,document.body.removeChild(n),t(r)},o.isCanvasSupported=function(t){var e;try{e=t||document.createElement("canvas"),e.getContext("2d")}catch(i){var n=navigator.appVersion.match(/MSIE (\d\.\d)/),r=navigator.userAgent.toLowerCase().indexOf("opera")!=-1;return!(!n||n[1]<6||r)}return!0},o.parseFloat_=function(t,e,i){var n=parseFloat(t);if(!isNaN(n))return n;if(/^ *$/.test(t))return null;if(/^ *nan *$/i.test(t))return NaN;var r="Unable to parse '"+t+"' as a number";return void 0!==i&&void 0!==e&&(r+=" on line "+(1+(e||0))+" ('"+i+"') of CSV."),console.error(r),null}}(),function(){"use strict";o.GVizChart=function(t){this.container=t},o.GVizChart.prototype.draw=function(t,e){this.container.innerHTML="","undefined"!=typeof this.date_graph&&this.date_graph.destroy(),this.date_graph=new o(this.container,t,e)},o.GVizChart.prototype.setSelection=function(t){var e=!1;t.length&&(e=t[0].row),this.date_graph.setSelection(e)},o.GVizChart.prototype.getSelection=function(){var t=[],e=this.date_graph.getSelection();if(e<0)return t;for(var i=this.date_graph.layout_.points,n=0;n<i.length;++n)t.push({row:e,column:n+1});return t}}(),function(){"use strict";var t=100;o.Interaction={},o.Interaction.maybeTreatMouseOpAsClick=function(t,e,i){i.dragEndX=o.dragGetX_(t,i),i.dragEndY=o.dragGetY_(t,i);var n=Math.abs(i.dragEndX-i.dragStartX),r=Math.abs(i.dragEndY-i.dragStartY);n<2&&r<2&&void 0!==e.lastx_&&e.lastx_!=-1&&o.Interaction.treatMouseOpAsClick(e,t,i),i.regionWidth=n,i.regionHeight=r},o.Interaction.startPan=function(t,e,i){var n,r;i.isPanning=!0;var s=e.xAxisRange();if(e.getOptionForAxis("logscale","x")?(i.initialLeftmostDate=o.log10(s[0]),i.dateRange=o.log10(s[1])-o.log10(s[0])):(i.initialLeftmostDate=s[0],i.dateRange=s[1]-s[0]),i.xUnitsPerPixel=i.dateRange/(e.plotter_.area.w-1),e.getNumericOption("panEdgeFraction")){var a=e.width_*e.getNumericOption("panEdgeFraction"),l=e.xAxisExtremes(),u=e.toDomXCoord(l[0])-a,c=e.toDomXCoord(l[1])+a,h=e.toDataXCoord(u),d=e.toDataXCoord(c);i.boundedDates=[h,d];var f=[],p=e.height_*e.getNumericOption("panEdgeFraction");for(n=0;n<e.axes_.length;n++){r=e.axes_[n];var g=r.extremeRange,m=e.toDomYCoord(g[0],n)+p,v=e.toDomYCoord(g[1],n)-p,y=e.toDataYCoord(m,n),_=e.toDataYCoord(v,n);f[n]=[y,_]}i.boundedValues=f}for(i.is2DPan=!1,i.axes=[],n=0;n<e.axes_.length;n++){r=e.axes_[n];var b={},w=e.yAxisRange(n),x=e.attributes_.getForAxis("logscale",n);x?(b.initialTopValue=o.log10(w[1]),b.dragValueRange=o.log10(w[1])-o.log10(w[0])):(b.initialTopValue=w[1],b.dragValueRange=w[1]-w[0]),b.unitsPerPixel=b.dragValueRange/(e.plotter_.area.h-1),i.axes.push(b),(r.valueWindow||r.valueRange)&&(i.is2DPan=!0)}},o.Interaction.movePan=function(t,e,i){i.dragEndX=o.dragGetX_(t,i),i.dragEndY=o.dragGetY_(t,i);var n=i.initialLeftmostDate-(i.dragEndX-i.dragStartX)*i.xUnitsPerPixel;i.boundedDates&&(n=Math.max(n,i.boundedDates[0]));var r=n+i.dateRange;if(i.boundedDates&&r>i.boundedDates[1]&&(n-=r-i.boundedDates[1],r=n+i.dateRange),e.getOptionForAxis("logscale","x")?e.dateWindow_=[Math.pow(o.LOG_SCALE,n),Math.pow(o.LOG_SCALE,r)]:e.dateWindow_=[n,r],i.is2DPan)for(var s=i.dragEndY-i.dragStartY,a=0;a<e.axes_.length;a++){var l=e.axes_[a],u=i.axes[a],c=s*u.unitsPerPixel,h=i.boundedValues?i.boundedValues[a]:null,d=u.initialTopValue+c;h&&(d=Math.min(d,h[1]));var f=d-u.dragValueRange;h&&f<h[0]&&(d-=f-h[0],f=d-u.dragValueRange),e.attributes_.getForAxis("logscale",a)?l.valueWindow=[Math.pow(o.LOG_SCALE,f),Math.pow(o.LOG_SCALE,d)]:l.valueWindow=[f,d]}e.drawGraph_(!1)},o.Interaction.endPan=o.Interaction.maybeTreatMouseOpAsClick,o.Interaction.startZoom=function(t,e,i){i.isZooming=!0,i.zoomMoved=!1},o.Interaction.moveZoom=function(t,e,i){i.zoomMoved=!0,i.dragEndX=o.dragGetX_(t,i),i.dragEndY=o.dragGetY_(t,i);var n=Math.abs(i.dragStartX-i.dragEndX),r=Math.abs(i.dragStartY-i.dragEndY);i.dragDirection=n<r/2?o.VERTICAL:o.HORIZONTAL,e.drawZoomRect_(i.dragDirection,i.dragStartX,i.dragEndX,i.dragStartY,i.dragEndY,i.prevDragDirection,i.prevEndX,i.prevEndY),i.prevEndX=i.dragEndX,i.prevEndY=i.dragEndY,i.prevDragDirection=i.dragDirection},o.Interaction.treatMouseOpAsClick=function(t,e,i){for(var n=t.getFunctionOption("clickCallback"),r=t.getFunctionOption("pointClickCallback"),s=null,o=-1,a=Number.MAX_VALUE,l=0;l<t.selPoints_.length;l++){var u=t.selPoints_[l],c=Math.pow(u.canvasx-i.dragEndX,2)+Math.pow(u.canvasy-i.dragEndY,2);!isNaN(c)&&(o==-1||c<a)&&(a=c,o=l)}var h=t.getNumericOption("highlightCircleSize")+2;if(a<=h*h&&(s=t.selPoints_[o]),s){var d={cancelable:!0,point:s,canvasx:i.dragEndX,canvasy:i.dragEndY},f=t.cascadeEvents_("pointClick",d);if(f)return;r&&r.call(t,e,s)}var d={cancelable:!0,xval:t.lastx_,pts:t.selPoints_,canvasx:i.dragEndX,canvasy:i.dragEndY};t.cascadeEvents_("click",d)||n&&n.call(t,e,t.lastx_,t.selPoints_)},o.Interaction.endZoom=function(t,e,i){e.clearZoomRect_(),i.isZooming=!1,o.Interaction.maybeTreatMouseOpAsClick(t,e,i);var n=e.getArea();if(i.regionWidth>=10&&i.dragDirection==o.HORIZONTAL){var r=Math.min(i.dragStartX,i.dragEndX),s=Math.max(i.dragStartX,i.dragEndX);r=Math.max(r,n.x),s=Math.min(s,n.x+n.w),r<s&&e.doZoomX_(r,s),i.cancelNextDblclick=!0}else if(i.regionHeight>=10&&i.dragDirection==o.VERTICAL){var a=Math.min(i.dragStartY,i.dragEndY),l=Math.max(i.dragStartY,i.dragEndY);a=Math.max(a,n.y),l=Math.min(l,n.y+n.h),a<l&&e.doZoomY_(a,l),i.cancelNextDblclick=!0}i.dragStartX=null,i.dragStartY=null},o.Interaction.startTouch=function(t,e,i){t.preventDefault(),t.touches.length>1&&(i.startTimeForDoubleTapMs=null);for(var n=[],r=0;r<t.touches.length;r++){var s=t.touches[r];n.push({pageX:s.pageX,pageY:s.pageY,dataX:e.toDataXCoord(s.pageX),dataY:e.toDataYCoord(s.pageY)})}if(i.initialTouches=n,1==n.length)i.initialPinchCenter=n[0],i.touchDirections={x:!0,y:!0};else if(n.length>=2){i.initialPinchCenter={pageX:.5*(n[0].pageX+n[1].pageX),pageY:.5*(n[0].pageY+n[1].pageY),dataX:.5*(n[0].dataX+n[1].dataX),dataY:.5*(n[0].dataY+n[1].dataY)};var o=180/Math.PI*Math.atan2(i.initialPinchCenter.pageY-n[0].pageY,n[0].pageX-i.initialPinchCenter.pageX);o=Math.abs(o),o>90&&(o=90-o),i.touchDirections={x:o<67.5,y:o>22.5}}i.initialRange={x:e.xAxisRange(),y:e.yAxisRange()}},o.Interaction.moveTouch=function(t,e,i){i.startTimeForDoubleTapMs=null;var n,r=[];for(n=0;n<t.touches.length;n++){var s=t.touches[n];r.push({pageX:s.pageX,pageY:s.pageY})}var o,a=i.initialTouches,l=i.initialPinchCenter;o=1==r.length?r[0]:{pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY)};var u={pageX:o.pageX-l.pageX,pageY:o.pageY-l.pageY},c=i.initialRange.x[1]-i.initialRange.x[0],h=i.initialRange.y[0]-i.initialRange.y[1];u.dataX=u.pageX/e.plotter_.area.w*c,u.dataY=u.pageY/e.plotter_.area.h*h;var d,f;if(1==r.length)d=1,f=1;else if(r.length>=2){var p=a[1].pageX-l.pageX;d=(r[1].pageX-o.pageX)/p;var g=a[1].pageY-l.pageY;f=(r[1].pageY-o.pageY)/g}d=Math.min(8,Math.max(.125,d)),f=Math.min(8,Math.max(.125,f));var m=!1;if(i.touchDirections.x&&(e.dateWindow_=[l.dataX-u.dataX+(i.initialRange.x[0]-l.dataX)/d,l.dataX-u.dataX+(i.initialRange.x[1]-l.dataX)/d],m=!0),i.touchDirections.y)for(n=0;n<1;n++){var v=e.axes_[n],y=e.attributes_.getForAxis("logscale",n);y||(v.valueWindow=[l.dataY-u.dataY+(i.initialRange.y[0]-l.dataY)/f,l.dataY-u.dataY+(i.initialRange.y[1]-l.dataY)/f],m=!0)}if(e.drawGraph_(!1),m&&r.length>1&&e.getFunctionOption("zoomCallback")){var _=e.xAxisRange();e.getFunctionOption("zoomCallback").call(e,_[0],_[1],e.yAxisRanges())}},o.Interaction.endTouch=function(t,e,i){if(0!==t.touches.length)o.Interaction.startTouch(t,e,i);else if(1==t.changedTouches.length){var n=(new Date).getTime(),r=t.changedTouches[0];i.startTimeForDoubleTapMs&&n-i.startTimeForDoubleTapMs<500&&i.doubleTapX&&Math.abs(i.doubleTapX-r.screenX)<50&&i.doubleTapY&&Math.abs(i.doubleTapY-r.screenY)<50?e.resetZoom():(i.startTimeForDoubleTapMs=n,i.doubleTapX=r.screenX,i.doubleTapY=r.screenY)}};var e=function(t,e,i){return t<e?e-t:t>i?t-i:0},i=function(t,i){var n=o.findPos(i.canvas_),r={left:n.x,right:n.x+i.canvas_.offsetWidth,top:n.y,bottom:n.y+i.canvas_.offsetHeight},s={x:o.pageX(t),y:o.pageY(t)},a=e(s.x,r.left,r.right),l=e(s.y,r.top,r.bottom);return Math.max(a,l)};o.Interaction.defaultModel={mousedown:function(e,n,r){if(!e.button||2!=e.button){r.initializeMouseDown(e,n,r),e.altKey||e.shiftKey?o.startPan(e,n,r):o.startZoom(e,n,r);var s=function(e){if(r.isZooming){var s=i(e,n);s<t?o.moveZoom(e,n,r):null!==r.dragEndX&&(r.dragEndX=null,r.dragEndY=null,n.clearZoomRect_())}else r.isPanning&&o.movePan(e,n,r)},a=function(t){r.isZooming?null!==r.dragEndX?o.endZoom(t,n,r):o.Interaction.maybeTreatMouseOpAsClick(t,n,r):r.isPanning&&o.endPan(t,n,r),o.removeEvent(document,"mousemove",s),o.removeEvent(document,"mouseup",a),r.destroy()};n.addAndTrackEvent(document,"mousemove",s),n.addAndTrackEvent(document,"mouseup",a)}},willDestroyContextMyself:!0,touchstart:function(t,e,i){o.Interaction.startTouch(t,e,i)},touchmove:function(t,e,i){o.Interaction.moveTouch(t,e,i)},touchend:function(t,e,i){o.Interaction.endTouch(t,e,i)},dblclick:function(t,e,i){if(i.cancelNextDblclick)return void(i.cancelNextDblclick=!1);var n={canvasx:i.dragEndX,canvasy:i.dragEndY};e.cascadeEvents_("dblclick",n)||t.altKey||t.shiftKey||e.resetZoom()}},o.DEFAULT_ATTRS.interactionModel=o.Interaction.defaultModel,o.defaultInteractionModel=o.Interaction.defaultModel,o.endZoom=o.Interaction.endZoom,o.moveZoom=o.Interaction.moveZoom,o.startZoom=o.Interaction.startZoom,o.endPan=o.Interaction.endPan,o.movePan=o.Interaction.movePan,o.startPan=o.Interaction.startPan,o.Interaction.nonInteractiveModel_={mousedown:function(t,e,i){i.initializeMouseDown(t,e,i)},mouseup:o.Interaction.maybeTreatMouseOpAsClick},o.Interaction.dragIsPanInteractionModel={mousedown:function(t,e,i){i.initializeMouseDown(t,e,i),o.startPan(t,e,i)},mousemove:function(t,e,i){i.isPanning&&o.movePan(t,e,i)},mouseup:function(t,e,i){i.isPanning&&o.endPan(t,e,i)}}}(),function(){"use strict";o.TickList=void 0,o.Ticker=void 0,o.numericLinearTicks=function(t,e,i,n,r,s){var a=function(t){return"logscale"!==t&&n(t)};return o.numericTicks(t,e,i,a,r,s)},o.numericTicks=function(t,e,i,n,r,s){var a,l,u,c,h=n("pixelsPerLabel"),d=[];if(s)for(a=0;a<s.length;a++)d.push({v:s[a]});else{if(n("logscale")){c=Math.floor(i/h);var f=o.binarySearch(t,o.PREFERRED_LOG_TICK_VALUES,1),p=o.binarySearch(e,o.PREFERRED_LOG_TICK_VALUES,-1);f==-1&&(f=0),p==-1&&(p=o.PREFERRED_LOG_TICK_VALUES.length-1);var g=null;if(p-f>=c/4){for(var m=p;m>=f;m--){var v=o.PREFERRED_LOG_TICK_VALUES[m],y=Math.log(v/t)/Math.log(e/t)*i,_={v:v};null===g?g={tickValue:v,pixel_coord:y}:Math.abs(y-g.pixel_coord)>=h?g={tickValue:v,pixel_coord:y}:_.label="",d.push(_)}d.reverse()}}if(0===d.length){var b,w,x=n("labelsKMG2");x?(b=[1,2,4,8,16,32,64,128,256],w=16):(b=[1,2,5,10,20,50,100],w=10);var k,T,C,D,S=Math.ceil(i/h),E=Math.abs(e-t)/S,O=Math.floor(Math.log(E)/Math.log(w)),A=Math.pow(w,O);for(l=0;l<b.length&&(k=A*b[l],T=Math.floor(t/k)*k,C=Math.ceil(e/k)*k,c=Math.abs(C-T)/k,D=i/c,!(D>h));l++);for(T>C&&(k*=-1),a=0;a<=c;a++)u=T+a*k,d.push({v:u})}}var M=n("axisLabelFormatter");for(a=0;a<d.length;a++)void 0===d[a].label&&(d[a].label=M.call(r,d[a].v,0,n,r));return d},o.dateTicker=function(t,e,i,n,r,s){var a=o.pickDateTickGranularity(t,e,i,n);return a>=0?o.getDateAxis(t,e,a,n,r):[]},o.SECONDLY=0,o.TWO_SECONDLY=1,o.FIVE_SECONDLY=2,o.TEN_SECONDLY=3,o.THIRTY_SECONDLY=4,o.MINUTELY=5,o.TWO_MINUTELY=6,o.FIVE_MINUTELY=7,o.TEN_MINUTELY=8,o.THIRTY_MINUTELY=9,o.HOURLY=10,o.TWO_HOURLY=11,o.SIX_HOURLY=12,o.DAILY=13,o.TWO_DAILY=14,o.WEEKLY=15,o.MONTHLY=16,o.QUARTERLY=17,o.BIANNUAL=18,o.ANNUAL=19,o.DECADAL=20,o.CENTENNIAL=21,o.NUM_GRANULARITIES=22,o.DATEFIELD_Y=0,o.DATEFIELD_M=1,o.DATEFIELD_D=2,o.DATEFIELD_HH=3,o.DATEFIELD_MM=4,o.DATEFIELD_SS=5,o.DATEFIELD_MS=6,o.NUM_DATEFIELDS=7,o.TICK_PLACEMENT=[],o.TICK_PLACEMENT[o.SECONDLY]={datefield:o.DATEFIELD_SS,step:1,spacing:1e3},o.TICK_PLACEMENT[o.TWO_SECONDLY]={datefield:o.DATEFIELD_SS,step:2,spacing:2e3},o.TICK_PLACEMENT[o.FIVE_SECONDLY]={datefield:o.DATEFIELD_SS,step:5,spacing:5e3},o.TICK_PLACEMENT[o.TEN_SECONDLY]={datefield:o.DATEFIELD_SS,step:10,spacing:1e4},o.TICK_PLACEMENT[o.THIRTY_SECONDLY]={datefield:o.DATEFIELD_SS,step:30,spacing:3e4},o.TICK_PLACEMENT[o.MINUTELY]={datefield:o.DATEFIELD_MM,step:1,spacing:6e4},o.TICK_PLACEMENT[o.TWO_MINUTELY]={datefield:o.DATEFIELD_MM,step:2,spacing:12e4},o.TICK_PLACEMENT[o.FIVE_MINUTELY]={datefield:o.DATEFIELD_MM,step:5,spacing:3e5},o.TICK_PLACEMENT[o.TEN_MINUTELY]={datefield:o.DATEFIELD_MM,step:10,spacing:6e5},o.TICK_PLACEMENT[o.THIRTY_MINUTELY]={datefield:o.DATEFIELD_MM,step:30,spacing:18e5},o.TICK_PLACEMENT[o.HOURLY]={datefield:o.DATEFIELD_HH,step:1,spacing:36e5},o.TICK_PLACEMENT[o.TWO_HOURLY]={datefield:o.DATEFIELD_HH,step:2,spacing:72e5},o.TICK_PLACEMENT[o.SIX_HOURLY]={datefield:o.DATEFIELD_HH,step:6,spacing:216e5},o.TICK_PLACEMENT[o.DAILY]={datefield:o.DATEFIELD_D,step:1,spacing:864e5},o.TICK_PLACEMENT[o.TWO_DAILY]={datefield:o.DATEFIELD_D,step:2,spacing:1728e5},o.TICK_PLACEMENT[o.WEEKLY]={datefield:o.DATEFIELD_D,step:7,spacing:6048e5},o.TICK_PLACEMENT[o.MONTHLY]={datefield:o.DATEFIELD_M,step:1,spacing:2629817280},o.TICK_PLACEMENT[o.QUARTERLY]={datefield:o.DATEFIELD_M,step:3,spacing:216e5*365.2524},o.TICK_PLACEMENT[o.BIANNUAL]={datefield:o.DATEFIELD_M,step:6,spacing:432e5*365.2524},o.TICK_PLACEMENT[o.ANNUAL]={datefield:o.DATEFIELD_Y,step:1,spacing:864e5*365.2524},o.TICK_PLACEMENT[o.DECADAL]={datefield:o.DATEFIELD_Y,step:10,spacing:315578073600},o.TICK_PLACEMENT[o.CENTENNIAL]={datefield:o.DATEFIELD_Y,step:100,spacing:3155780736e3},o.PREFERRED_LOG_TICK_VALUES=function(){for(var t=[],e=-39;e<=39;e++)for(var i=Math.pow(10,e),n=1;n<=9;n++){var r=i*n;t.push(r)}return t}(),o.pickDateTickGranularity=function(t,e,i,n){for(var r=n("pixelsPerLabel"),s=0;s<o.NUM_GRANULARITIES;s++){var a=o.numDateTicks(t,e,s);if(i/a>=r)return s}return-1},o.numDateTicks=function(t,e,i){var n=o.TICK_PLACEMENT[i].spacing;return Math.round(1*(e-t)/n)},o.getDateAxis=function(t,e,i,n,r){var s=n("axisLabelFormatter"),a=n("labelsUTC"),l=a?o.DateAccessorsUTC:o.DateAccessorsLocal,u=o.TICK_PLACEMENT[i].datefield,c=o.TICK_PLACEMENT[i].step,h=o.TICK_PLACEMENT[i].spacing,d=new Date(t),f=[];f[o.DATEFIELD_Y]=l.getFullYear(d),f[o.DATEFIELD_M]=l.getMonth(d),f[o.DATEFIELD_D]=l.getDate(d),f[o.DATEFIELD_HH]=l.getHours(d),f[o.DATEFIELD_MM]=l.getMinutes(d),f[o.DATEFIELD_SS]=l.getSeconds(d),f[o.DATEFIELD_MS]=l.getMilliseconds(d);var p=f[u]%c;i==o.WEEKLY&&(p=l.getDay(d)),f[u]-=p;for(var g=u+1;g<o.NUM_DATEFIELDS;g++)f[g]=g===o.DATEFIELD_D?1:0;var m=[],v=l.makeDate.apply(null,f),y=v.getTime();if(i<=o.HOURLY)for(y<t&&(y+=h,v=new Date(y));y<=e;)m.push({v:y,label:s.call(r,v,i,n,r)}),y+=h,v=new Date(y);else for(y<t&&(f[u]+=c,v=l.makeDate.apply(null,f),y=v.getTime());y<=e;)(i>=o.DAILY||l.getHours(v)%c===0)&&m.push({v:y,label:s.call(r,v,i,n,r)}),f[u]+=c,v=l.makeDate.apply(null,f),y=v.getTime();return m},o&&o.DEFAULT_ATTRS&&o.DEFAULT_ATTRS.axes&&o.DEFAULT_ATTRS.axes.x&&o.DEFAULT_ATTRS.axes.y&&o.DEFAULT_ATTRS.axes.y2&&(o.DEFAULT_ATTRS.axes.x.ticker=o.dateTicker,o.DEFAULT_ATTRS.axes.y.ticker=o.numericTicks,o.DEFAULT_ATTRS.axes.y2.ticker=o.numericTicks)}(),o.Plugins={},o.Plugins.Annotations=function(){"use strict";var t=function(){this.annotations_=[]};return t.prototype.toString=function(){return"Annotations Plugin"},t.prototype.activate=function(t){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},t.prototype.detachLabels=function(){for(var t=0;t<this.annotations_.length;t++){var e=this.annotations_[t];e.parentNode&&e.parentNode.removeChild(e),this.annotations_[t]=null}this.annotations_=[]},t.prototype.clearChart=function(t){this.detachLabels()},t.prototype.didDrawChart=function(t){var e=t.dygraph,i=e.layout_.annotated_points;if(i&&0!==i.length)for(var n=t.canvas.parentNode,r={position:"absolute",fontSize:e.getOption("axisLabelFontSize")+"px",zIndex:10,overflow:"hidden"},s=function(t,i,n){return function(r){var s=n.annotation;s.hasOwnProperty(t)?s[t](s,n,e,r):e.getOption(i)&&e.getOption(i)(s,n,e,r)}},o=t.dygraph.plotter_.area,a={},l=0;l<i.length;l++){var u=i[l];if(!(u.canvasx<o.x||u.canvasx>o.x+o.w||u.canvasy<o.y||u.canvasy>o.y+o.h)){var c=u.annotation,h=6;c.hasOwnProperty("tickHeight")&&(h=c.tickHeight);var d=document.createElement("div");for(var f in r)r.hasOwnProperty(f)&&(d.style[f]=r[f]);c.hasOwnProperty("icon")||(d.className="dygraphDefaultAnnotation"),c.hasOwnProperty("cssClass")&&(d.className+=" "+c.cssClass);var p=c.hasOwnProperty("width")?c.width:16,g=c.hasOwnProperty("height")?c.height:16;if(c.hasOwnProperty("icon")){var m=document.createElement("img");m.src=c.icon,m.width=p,m.height=g,d.appendChild(m)}else u.annotation.hasOwnProperty("shortText")&&d.appendChild(document.createTextNode(u.annotation.shortText));var v=u.canvasx-p/2;d.style.left=v+"px";var y=0;if(c.attachAtBottom){var _=o.y+o.h-g-h;a[v]?_-=a[v]:a[v]=0,a[v]+=h+g,y=_}else y=u.canvasy-g-h;d.style.top=y+"px",d.style.width=p+"px",d.style.height=g+"px",d.title=u.annotation.text,d.style.color=e.colorsMap_[u.name],d.style.borderColor=e.colorsMap_[u.name],c.div=d,e.addAndTrackEvent(d,"click",s("clickHandler","annotationClickHandler",u,this)),e.addAndTrackEvent(d,"mouseover",s("mouseOverHandler","annotationMouseOverHandler",u,this)),e.addAndTrackEvent(d,"mouseout",s("mouseOutHandler","annotationMouseOutHandler",u,this)),e.addAndTrackEvent(d,"dblclick",s("dblClickHandler","annotationDblClickHandler",u,this)),n.appendChild(d),this.annotations_.push(d);var b=t.drawingContext;if(b.save(),b.strokeStyle=e.colorsMap_[u.name],b.beginPath(),c.attachAtBottom){var _=y+g;b.moveTo(u.canvasx,_),b.lineTo(u.canvasx,_+h)}else b.moveTo(u.canvasx,u.canvasy),b.lineTo(u.canvasx,u.canvasy-2-h);b.closePath(),b.stroke(),b.restore()}}},t.prototype.destroy=function(){this.detachLabels()},t}(),o.Plugins.Axes=function(){"use strict";var t=function(){this.xlabels_=[],this.ylabels_=[]};return t.prototype.toString=function(){return"Axes Plugin"},t.prototype.activate=function(t){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},t.prototype.layout=function(t){var e=t.dygraph;if(e.getOptionForAxis("drawAxis","y")){var i=e.getOptionForAxis("axisLabelWidth","y")+2*e.getOptionForAxis("axisTickSize","y");t.reserveSpaceLeft(i)}if(e.getOptionForAxis("drawAxis","x")){var n;n=e.getOption("xAxisHeight")?e.getOption("xAxisHeight"):e.getOptionForAxis("axisLabelFontSize","x")+2*e.getOptionForAxis("axisTickSize","x"),t.reserveSpaceBottom(n)}if(2==e.numAxes()){if(e.getOptionForAxis("drawAxis","y2")){var i=e.getOptionForAxis("axisLabelWidth","y2")+2*e.getOptionForAxis("axisTickSize","y2");t.reserveSpaceRight(i)}}else e.numAxes()>2&&e.error("Only two y-axes are supported at this time. (Trying to use "+e.numAxes()+")")},t.prototype.detachLabels=function(){function t(t){for(var e=0;e<t.length;e++){var i=t[e];i.parentNode&&i.parentNode.removeChild(i)}}t(this.xlabels_),t(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},t.prototype.clearChart=function(t){this.detachLabels()},t.prototype.willDrawChart=function(t){function e(t){return Math.round(t)+.5}function i(t){return Math.round(t)-.5}var n=t.dygraph;if(n.getOptionForAxis("drawAxis","x")||n.getOptionForAxis("drawAxis","y")||n.getOptionForAxis("drawAxis","y2")){var r,s,o,a,l,u=t.drawingContext,c=t.canvas.parentNode,h=n.width_,d=n.height_,f=function(t){return{position:"absolute",fontSize:n.getOptionForAxis("axisLabelFontSize",t)+"px",zIndex:10,color:n.getOptionForAxis("axisLabelColor",t),width:n.getOptionForAxis("axisLabelWidth",t)+"px",lineHeight:"normal",overflow:"hidden"}},p={x:f("x"),y:f("y"),y2:f("y2")},g=function(t,e,i){var n=document.createElement("div"),r=p["y2"==i?"y2":e];for(var s in r)r.hasOwnProperty(s)&&(n.style[s]=r[s]);var o=document.createElement("div");return o.className="dygraph-axis-label dygraph-axis-label-"+e+(i?" dygraph-axis-label-"+i:""),o.innerHTML=t,n.appendChild(o),n};u.save();var m=n.layout_,v=t.dygraph.plotter_.area,y=function(t){return function(e){return n.getOptionForAxis(e,t)}};if(n.getOptionForAxis("drawAxis","y")){if(m.yticks&&m.yticks.length>0){var _=n.numAxes(),b=[y("y"),y("y2")];for(l=0;l<m.yticks.length;l++){if(a=m.yticks[l],"function"==typeof a)return;s=v.x;var w=1,x="y1",k=b[0];1==a[0]&&(s=v.x+v.w,w=-1,x="y2",k=b[1]);var T=k("axisLabelFontSize");o=v.y+a[1]*v.h,r=g(a[2],"y",2==_?x:null);
var C=o-T/2;C<0&&(C=0),C+T+3>d?r.style.bottom="0":r.style.top=C+"px",0===a[0]?(r.style.left=v.x-k("axisLabelWidth")-k("axisTickSize")+"px",r.style.textAlign="right"):1==a[0]&&(r.style.left=v.x+v.w+k("axisTickSize")+"px",r.style.textAlign="left"),r.style.width=k("axisLabelWidth")+"px",c.appendChild(r),this.ylabels_.push(r)}var D=this.ylabels_[0],T=n.getOptionForAxis("axisLabelFontSize","y"),S=parseInt(D.style.top,10)+T;S>d-T&&(D.style.top=parseInt(D.style.top,10)-T/2+"px")}var E;if(n.getOption("drawAxesAtZero")){var O=n.toPercentXCoord(0);(O>1||O<0||isNaN(O))&&(O=0),E=e(v.x+O*v.w)}else E=e(v.x);u.strokeStyle=n.getOptionForAxis("axisLineColor","y"),u.lineWidth=n.getOptionForAxis("axisLineWidth","y"),u.beginPath(),u.moveTo(E,i(v.y)),u.lineTo(E,i(v.y+v.h)),u.closePath(),u.stroke(),2==n.numAxes()&&(u.strokeStyle=n.getOptionForAxis("axisLineColor","y2"),u.lineWidth=n.getOptionForAxis("axisLineWidth","y2"),u.beginPath(),u.moveTo(i(v.x+v.w),i(v.y)),u.lineTo(i(v.x+v.w),i(v.y+v.h)),u.closePath(),u.stroke())}if(n.getOptionForAxis("drawAxis","x")){if(m.xticks){var k=y("x");for(l=0;l<m.xticks.length;l++){a=m.xticks[l],s=v.x+a[0]*v.w,o=v.y+v.h,r=g(a[1],"x"),r.style.textAlign="center",r.style.top=o+k("axisTickSize")+"px";var A=s-k("axisLabelWidth")/2;A+k("axisLabelWidth")>h&&(A=h-k("axisLabelWidth"),r.style.textAlign="right"),A<0&&(A=0,r.style.textAlign="left"),r.style.left=A+"px",r.style.width=k("axisLabelWidth")+"px",c.appendChild(r),this.xlabels_.push(r)}}u.strokeStyle=n.getOptionForAxis("axisLineColor","x"),u.lineWidth=n.getOptionForAxis("axisLineWidth","x"),u.beginPath();var M;if(n.getOption("drawAxesAtZero")){var O=n.toPercentYCoord(0,0);(O>1||O<0)&&(O=1),M=i(v.y+O*v.h)}else M=i(v.y+v.h);u.moveTo(e(v.x),M),u.lineTo(e(v.x+v.w),M),u.closePath(),u.stroke()}u.restore()}},t}(),o.Plugins.ChartLabels=function(){"use strict";var t=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};t.prototype.toString=function(){return"ChartLabels Plugin"},t.prototype.activate=function(t){return{layout:this.layout,didDrawChart:this.didDrawChart}};var e=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.width=t.w+"px",e.style.height=t.h+"px",e};t.prototype.detachLabels_=function(){for(var t=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],e=0;e<t.length;e++){var i=t[e];i&&i.parentNode&&i.parentNode.removeChild(i)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var i=function(t,e,i,n,r){var s=document.createElement("div");s.style.position="absolute",1==i?s.style.left="0px":s.style.left=e.x+"px",s.style.top=e.y+"px",s.style.width=e.w+"px",s.style.height=e.h+"px",s.style.fontSize=t.getOption("yLabelWidth")-2+"px";var o=document.createElement("div");o.style.position="absolute",o.style.width=e.h+"px",o.style.height=e.w+"px",o.style.top=e.h/2-e.w/2+"px",o.style.left=e.w/2-e.h/2+"px",o.style.textAlign="center";var a="rotate("+(1==i?"-":"")+"90deg)";o.style.transform=a,o.style.WebkitTransform=a,o.style.MozTransform=a,o.style.OTransform=a,o.style.msTransform=a,"undefined"!=typeof document.documentMode&&document.documentMode<9&&(o.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation="+(1==i?"3":"1")+")",o.style.left="0px",o.style.top="0px");var l=document.createElement("div");return l.className=n,l.innerHTML=r,o.appendChild(l),s.appendChild(o),s};return t.prototype.layout=function(t){this.detachLabels_();var n=t.dygraph,r=t.chart_div;if(n.getOption("title")){var s=t.reserveSpaceTop(n.getOption("titleHeight"));this.title_div_=e(s),this.title_div_.style.textAlign="center",this.title_div_.style.fontSize=n.getOption("titleHeight")-8+"px",this.title_div_.style.fontWeight="bold",this.title_div_.style.zIndex=10;var o=document.createElement("div");o.className="dygraph-label dygraph-title",o.innerHTML=n.getOption("title"),this.title_div_.appendChild(o),r.appendChild(this.title_div_)}if(n.getOption("xlabel")){var a=t.reserveSpaceBottom(n.getOption("xLabelHeight"));this.xlabel_div_=e(a),this.xlabel_div_.style.textAlign="center",this.xlabel_div_.style.fontSize=n.getOption("xLabelHeight")-2+"px";var o=document.createElement("div");o.className="dygraph-label dygraph-xlabel",o.innerHTML=n.getOption("xlabel"),this.xlabel_div_.appendChild(o),r.appendChild(this.xlabel_div_)}if(n.getOption("ylabel")){var l=t.reserveSpaceLeft(0);this.ylabel_div_=i(n,l,1,"dygraph-label dygraph-ylabel",n.getOption("ylabel")),r.appendChild(this.ylabel_div_)}if(n.getOption("y2label")&&2==n.numAxes()){var u=t.reserveSpaceRight(0);this.y2label_div_=i(n,u,2,"dygraph-label dygraph-y2label",n.getOption("y2label")),r.appendChild(this.y2label_div_)}},t.prototype.didDrawChart=function(t){var e=t.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=e.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=e.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=e.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=e.getOption("y2label"))},t.prototype.clearChart=function(){},t.prototype.destroy=function(){this.detachLabels_()},t}(),o.Plugins.Grid=function(){"use strict";var t=function(){};return t.prototype.toString=function(){return"Gridline Plugin"},t.prototype.activate=function(t){return{willDrawChart:this.willDrawChart}},t.prototype.willDrawChart=function(t){function e(t){return Math.round(t)+.5}function i(t){return Math.round(t)-.5}var n,r,s,o,a=t.dygraph,l=t.drawingContext,u=a.layout_,c=t.dygraph.plotter_.area;if(a.getOptionForAxis("drawGrid","y")){for(var h=["y","y2"],d=[],f=[],p=[],g=[],m=[],s=0;s<h.length;s++)p[s]=a.getOptionForAxis("drawGrid",h[s]),p[s]&&(d[s]=a.getOptionForAxis("gridLineColor",h[s]),f[s]=a.getOptionForAxis("gridLineWidth",h[s]),m[s]=a.getOptionForAxis("gridLinePattern",h[s]),g[s]=m[s]&&m[s].length>=2);for(o=u.yticks,l.save(),s=0;s<o.length;s++){var v=o[s][0];p[v]&&(g[v]&&l.installPattern(m[v]),l.strokeStyle=d[v],l.lineWidth=f[v],n=e(c.x),r=i(c.y+o[s][1]*c.h),l.beginPath(),l.moveTo(n,r),l.lineTo(n+c.w,r),l.closePath(),l.stroke(),g[v]&&l.uninstallPattern())}l.restore()}if(a.getOptionForAxis("drawGrid","x")){o=u.xticks,l.save();var m=a.getOptionForAxis("gridLinePattern","x"),g=m&&m.length>=2;for(g&&l.installPattern(m),l.strokeStyle=a.getOptionForAxis("gridLineColor","x"),l.lineWidth=a.getOptionForAxis("gridLineWidth","x"),s=0;s<o.length;s++)n=e(c.x+o[s][0]*c.w),r=i(c.y+c.h),l.beginPath(),l.moveTo(n,r),l.lineTo(n,c.y),l.closePath(),l.stroke();g&&l.uninstallPattern(),l.restore()}},t.prototype.destroy=function(){},t}(),o.Plugins.Legend=function(){"use strict";var t=function(){this.legend_div_=null,this.is_generated_div_=!1};t.prototype.toString=function(){return"Legend Plugin"};var e;t.prototype.activate=function(t){var e,i=t.getOption("labelsDivWidth"),n=t.getOption("labelsDiv");if(n&&null!==n)e="string"==typeof n||n instanceof String?document.getElementById(n):n;else{var r={position:"absolute",fontSize:"14px",zIndex:10,width:i+"px",top:"0px",left:t.size().width-i-2+"px",background:"white",lineHeight:"normal",textAlign:"left",overflow:"hidden"};o.update(r,t.getOption("labelsDivStyles")),e=document.createElement("div"),e.className="dygraph-legend";for(var s in r)if(r.hasOwnProperty(s))try{e.style[s]=r[s]}catch(a){console.warn("You are using unsupported css properties for your browser in labelsDivStyles")}t.graphDiv.appendChild(e),this.is_generated_div_=!0}return this.legend_div_=e,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var i=function(t){var e=document.createElement("span");e.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),t.appendChild(e);var i=e.offsetWidth;return t.removeChild(e),i},n=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return t.prototype.select=function(e){var i=e.selectedX,n=e.selectedPoints,r=e.selectedRow,s=e.dygraph.getOption("legend");if("never"===s)return void(this.legend_div_.style.display="none");if("follow"===s){var o=e.dygraph.plotter_.area,a=e.dygraph.getOption("labelsDivWidth"),l=e.dygraph.getOptionForAxis("axisLabelWidth","y"),u=n[0].x*o.w+20,c=n[0].y*o.h-20;u+a+1>window.scrollX+window.innerWidth&&(u=u-40-a-(l-o.x)),e.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=l+u+"px",this.legend_div_.style.top=c+"px"}var h=t.generateLegendHTML(e.dygraph,i,n,this.one_em_width_,r);this.legend_div_.innerHTML=h,this.legend_div_.style.display=""},t.prototype.deselect=function(e){var n=e.dygraph.getOption("legend");"always"!==n&&(this.legend_div_.style.display="none");var r=i(this.legend_div_);this.one_em_width_=r;var s=t.generateLegendHTML(e.dygraph,void 0,void 0,r,null);this.legend_div_.innerHTML=s},t.prototype.didDrawChart=function(t){this.deselect(t)},t.prototype.predraw=function(t){if(this.is_generated_div_){t.dygraph.graphDiv.appendChild(this.legend_div_);var e=t.dygraph.plotter_.area,i=t.dygraph.getOption("labelsDivWidth");this.legend_div_.style.left=e.x+e.w-i-1+"px",this.legend_div_.style.top=e.y+"px",this.legend_div_.style.width=i+"px"}},t.prototype.destroy=function(){this.legend_div_=null},t.generateLegendHTML=function(t,i,r,s,a){if(t.getOption("showLabelsOnHighlight")!==!0)return"";var l,u,c,h,d,f=t.getLabels();if("undefined"==typeof i){if("always"!=t.getOption("legend"))return"";for(u=t.getOption("labelsSeparateLines"),l="",c=1;c<f.length;c++){var p=t.getPropertiesForSeries(f[c]);p.visible&&(""!==l&&(l+=u?"<br/>":" "),d=t.getOption("strokePattern",f[c]),h=e(d,p.color,s),l+="<span style='font-weight: bold; color: "+p.color+";'>"+h+" "+n(f[c])+"</span>")}return l}var g=t.optionsViewForAxis_("x"),m=g("valueFormatter");l=m.call(t,i,g,f[0],t,a,0),""!==l&&(l+=":");var v=[],y=t.numAxes();for(c=0;c<y;c++)v[c]=t.optionsViewForAxis_("y"+(c?1+c:""));var _=t.getOption("labelsShowZeroValues");u=t.getOption("labelsSeparateLines");var b=t.getHighlightSeries();for(c=0;c<r.length;c++){var w=r[c];if((0!==w.yval||_)&&o.isOK(w.canvasy)){u&&(l+="<br/>");var p=t.getPropertiesForSeries(w.name),x=v[p.axis-1],k=x("valueFormatter"),T=k.call(t,w.yval,x,w.name,t,a,f.indexOf(w.name)),C=w.name==b?" class='highlight'":"";l+="<span"+C+"> <b><span style='color: "+p.color+";'>"+n(w.name)+"</span></b>:&#160;"+T+"</span>"}}return l},e=function(t,e,i){var n=/MSIE/.test(navigator.userAgent)&&!window.opera;if(n)return"&mdash;";if(!t||t.length<=1)return'<div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid '+e+';"></div>';var r,s,o,a,l,u=0,c=0,h=[];for(r=0;r<=t.length;r++)u+=t[r%t.length];if(l=Math.floor(i/(u-t[0])),l>1){for(r=0;r<t.length;r++)h[r]=t[r]/i;c=h.length}else{for(l=1,r=0;r<t.length;r++)h[r]=t[r]/u;c=h.length+1}var d="";for(s=0;s<l;s++)for(r=0;r<c;r+=2)o=h[r%h.length],a=r<t.length?h[(r+1)%h.length]:0,d+='<div style="display: inline-block; position: relative; bottom: .5ex; margin-right: '+a+"em; padding-left: "+o+"em; height: 1px; border-bottom: 2px solid "+e+';"></div>';return d},t}(),o.Plugins.RangeSelector=function(){"use strict";var t=function(){this.isIE_=/MSIE/.test(navigator.userAgent)&&!window.opera,this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};return t.prototype.toString=function(){return"RangeSelector Plugin"},t.prototype.activate=function(t){return this.dygraph_=t,this.isUsingExcanvas_=t.isUsingExcanvas_,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},t.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null,this.iePanOverlay_=null},t.prototype.getOption_=function(t,e){return this.dygraph_.getOption(t,e)},t.prototype.setDefaultOption_=function(t,e){this.dygraph_.attrs_[t]=e},t.prototype.createInterface_=function(){this.createCanvases_(),this.isUsingExcanvas_&&this.createIEPanOverlay_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},t.prototype.addToGraph_=function(){var t=this.graphDiv_=this.dygraph_.graphDiv;t.appendChild(this.bgcanvas_),t.appendChild(this.fgcanvas_),t.appendChild(this.leftZoomHandle_),t.appendChild(this.rightZoomHandle_)},t.prototype.removeFromGraph_=function(){var t=this.graphDiv_;t.removeChild(this.bgcanvas_),t.removeChild(this.fgcanvas_),t.removeChild(this.leftZoomHandle_),t.removeChild(this.rightZoomHandle_),this.graphDiv_=null},t.prototype.reserveSpace_=function(t){this.getOption_("showRangeSelector")&&t.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},t.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},t.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},t.prototype.updateVisibility_=function(){var t=this.getOption_("showRangeSelector");if(t)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var e=this.dygraph_;setTimeout(function(){e.width_=0,e.resize()},1)}return t},t.prototype.resize_=function(){function t(t,e,i){var n=o.getContextPixelRatio(e);t.style.top=i.y+"px",t.style.left=i.x+"px",t.width=i.w*n,t.height=i.h*n,t.style.width=i.w+"px",t.style.height=i.h+"px",1!=n&&e.scale(n,n)}var e=this.dygraph_.layout_.getPlotArea(),i=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(i=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:e.x,y:e.y+e.h+i+4,w:e.w,h:this.getOption_("rangeSelectorHeight")},t(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_),t(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_)},t.prototype.createCanvases_=function(){this.bgcanvas_=o.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=o.getContext(this.bgcanvas_),this.fgcanvas_=o.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=o.getContext(this.fgcanvas_)},t.prototype.createIEPanOverlay_=function(){this.iePanOverlay_=document.createElement("div"),this.iePanOverlay_.style.position="absolute",this.iePanOverlay_.style.backgroundColor="white",this.iePanOverlay_.style.filter="alpha(opacity=0)",this.iePanOverlay_.style.display="none",this.iePanOverlay_.style.cursor="move",this.fgcanvas_.appendChild(this.iePanOverlay_)},t.prototype.createZoomHandles_=function(){var t=new Image;t.className="dygraph-rangesel-zoomhandle",t.style.position="absolute",t.style.zIndex=10,t.style.visibility="hidden",t.style.cursor="col-resize",/MSIE 7/.test(navigator.userAgent)?(t.width=7,t.height=14,t.style.backgroundColor="white",t.style.border="1px solid #333333"):(t.width=9,t.height=16,t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="),this.isMobileDevice_&&(t.width*=2,t.height*=2),this.leftZoomHandle_=t,this.rightZoomHandle_=t.cloneNode(!1)},t.prototype.initInteraction_=function(){var t,e,i,n,r,s,a,l,u,c,h,d,f,p,g=this,m=document,v=0,y=null,_=!1,b=!1,w=!this.isMobileDevice_&&!this.isUsingExcanvas_,x=new o.IFrameTarp;t=function(t){var e=g.dygraph_.xAxisExtremes(),i=(e[1]-e[0])/g.canvasRect_.w,n=e[0]+(t.leftHandlePos-g.canvasRect_.x)*i,r=e[0]+(t.rightHandlePos-g.canvasRect_.x)*i;return[n,r]},e=function(t){return o.cancelEvent(t),_=!0,v=t.clientX,y=t.target?t.target:t.srcElement,"mousedown"!==t.type&&"dragstart"!==t.type||(o.addEvent(m,"mousemove",i),o.addEvent(m,"mouseup",n)),g.fgcanvas_.style.cursor="col-resize",x.cover(),!0},i=function(t){if(!_)return!1;o.cancelEvent(t);var e=t.clientX-v;if(Math.abs(e)<4)return!0;v=t.clientX;var i,n=g.getZoomHandleStatus_();y==g.leftZoomHandle_?(i=n.leftHandlePos+e,i=Math.min(i,n.rightHandlePos-y.width-3),i=Math.max(i,g.canvasRect_.x)):(i=n.rightHandlePos+e,i=Math.min(i,g.canvasRect_.x+g.canvasRect_.w),i=Math.max(i,n.leftHandlePos+y.width+3));var s=y.width/2;return y.style.left=i-s+"px",g.drawInteractiveLayer_(),w&&r(),!0},n=function(t){return!!_&&(_=!1,x.uncover(),o.removeEvent(m,"mousemove",i),o.removeEvent(m,"mouseup",n),g.fgcanvas_.style.cursor="default",w||r(),!0)},r=function(){try{var e=g.getZoomHandleStatus_();if(g.isChangingRange_=!0,e.isZoomed){var i=t(e);g.dygraph_.doZoomXDates_(i[0],i[1])}else g.dygraph_.resetZoom()}finally{g.isChangingRange_=!1}},s=function(t){if(g.isUsingExcanvas_)return t.srcElement==g.iePanOverlay_;var e=g.leftZoomHandle_.getBoundingClientRect(),i=e.left+e.width/2;e=g.rightZoomHandle_.getBoundingClientRect();var n=e.left+e.width/2;return t.clientX>i&&t.clientX<n},a=function(t){return!(b||!s(t)||!g.getZoomHandleStatus_().isZoomed)&&(o.cancelEvent(t),b=!0,v=t.clientX,"mousedown"===t.type&&(o.addEvent(m,"mousemove",l),o.addEvent(m,"mouseup",u)),!0)},l=function(t){if(!b)return!1;o.cancelEvent(t);var e=t.clientX-v;if(Math.abs(e)<4)return!0;v=t.clientX;var i=g.getZoomHandleStatus_(),n=i.leftHandlePos,r=i.rightHandlePos,s=r-n;n+e<=g.canvasRect_.x?(n=g.canvasRect_.x,r=n+s):r+e>=g.canvasRect_.x+g.canvasRect_.w?(r=g.canvasRect_.x+g.canvasRect_.w,n=r-s):(n+=e,r+=e);var a=g.leftZoomHandle_.width/2;return g.leftZoomHandle_.style.left=n-a+"px",g.rightZoomHandle_.style.left=r-a+"px",g.drawInteractiveLayer_(),w&&c(),!0},u=function(t){return!!b&&(b=!1,o.removeEvent(m,"mousemove",l),o.removeEvent(m,"mouseup",u),w||c(),!0)},c=function(){try{g.isChangingRange_=!0,g.dygraph_.dateWindow_=t(g.getZoomHandleStatus_()),g.dygraph_.drawGraph_(!1)}finally{g.isChangingRange_=!1}},h=function(t){if(!_&&!b){var e=s(t)?"move":"default";e!=g.fgcanvas_.style.cursor&&(g.fgcanvas_.style.cursor=e)}},d=function(t){"touchstart"==t.type&&1==t.targetTouches.length?e(t.targetTouches[0])&&o.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?i(t.targetTouches[0])&&o.cancelEvent(t):n(t)},f=function(t){"touchstart"==t.type&&1==t.targetTouches.length?a(t.targetTouches[0])&&o.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?l(t.targetTouches[0])&&o.cancelEvent(t):u(t)},p=function(t,e){for(var i=["touchstart","touchend","touchmove","touchcancel"],n=0;n<i.length;n++)g.dygraph_.addAndTrackEvent(t,i[n],e)},this.setDefaultOption_("interactionModel",o.Interaction.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var k=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,k,e),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,k,e),this.isUsingExcanvas_?this.dygraph_.addAndTrackEvent(this.iePanOverlay_,"mousedown",a):(this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",a),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",h)),this.hasTouchInterface_&&(p(this.leftZoomHandle_,d),p(this.rightZoomHandle_,d),p(this.fgcanvas_,f))},t.prototype.drawStaticLayer_=function(){var t=this.bgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(e){console.warn(e)}var i=.5;this.bgcanvas_ctx_.lineWidth=1,t.strokeStyle="gray",t.beginPath(),t.moveTo(i,i),t.lineTo(i,this.canvasRect_.h-i),t.lineTo(this.canvasRect_.w-i,this.canvasRect_.h-i),t.lineTo(this.canvasRect_.w-i,i),t.stroke()},t.prototype.drawMiniPlot_=function(){var t=this.getOption_("rangeSelectorPlotFillColor"),e=this.getOption_("rangeSelectorPlotStrokeColor");if(t||e){var i=this.getOption_("stepPlot"),n=this.computeCombinedSeriesAndLimits_(),r=n.yMax-n.yMin,s=this.bgcanvas_ctx_,o=.5,a=this.dygraph_.xAxisExtremes(),l=Math.max(a[1]-a[0],1e-30),u=(this.canvasRect_.w-o)/l,c=(this.canvasRect_.h-o)/r,h=this.canvasRect_.w-o,d=this.canvasRect_.h-o,f=null,p=null;s.beginPath(),s.moveTo(o,d);for(var g=0;g<n.data.length;g++){var m=n.data[g],v=null!==m[0]?(m[0]-a[0])*u:NaN,y=null!==m[1]?d-(m[1]-n.yMin)*c:NaN;(i||null===f||Math.round(v)!=Math.round(f))&&(isFinite(v)&&isFinite(y)?(null===f?s.lineTo(v,d):i&&s.lineTo(v,p),s.lineTo(v,y),f=v,p=y):(null!==f&&(i?(s.lineTo(v,p),s.lineTo(v,d)):s.lineTo(f,d)),f=p=null))}if(s.lineTo(h,d),s.closePath(),t){var _=this.bgcanvas_ctx_.createLinearGradient(0,0,0,d);_.addColorStop(0,"white"),_.addColorStop(1,t),this.bgcanvas_ctx_.fillStyle=_,s.fill()}e&&(this.bgcanvas_ctx_.strokeStyle=e,this.bgcanvas_ctx_.lineWidth=1.5,s.stroke())}},t.prototype.computeCombinedSeriesAndLimits_=function(){var t,e=this.dygraph_,i=this.getOption_("logscale"),n=e.numColumns(),r=e.getLabels(),s=new Array(n),a=!1;for(t=1;t<n;t++){var l=this.getOption_("showInRangeSelector",r[t]);s[t]=l,null!==l&&(a=!0)}if(!a)for(t=0;t<s.length;t++)s[t]=!0;var u=[],c=e.dataHandler_,h=e.attributes_;for(t=1;t<e.numColumns();t++)if(s[t]){var d=c.extractSeries(e.rawData_,t,h);e.rollPeriod()>1&&(d=c.rollingAverage(d,e.rollPeriod(),h)),u.push(d)}var f=[];for(t=0;t<u[0].length;t++){for(var p=0,g=0,m=0;m<u.length;m++){var v=u[m][t][1];null===v||isNaN(v)||(g++,p+=v)}f.push([u[0][t][0],p/g])}var y=Number.MAX_VALUE,_=-Number.MAX_VALUE;for(t=0;t<f.length;t++){var b=f[t][1];null!==b&&isFinite(b)&&(!i||b>0)&&(y=Math.min(y,b),_=Math.max(_,b))}var w=.25;if(i)for(_=o.log10(_),_+=_*w,y=o.log10(y),t=0;t<f.length;t++)f[t][1]=o.log10(f[t][1]);else{var x,k=_-y;x=k<=Number.MIN_VALUE?_*w:k*w,_+=x,y-=x}return{data:f,yMin:y,yMax:_}},t.prototype.placeZoomHandles_=function(){var t=this.dygraph_.xAxisExtremes(),e=this.dygraph_.xAxisRange(),i=t[1]-t[0],n=Math.max(0,(e[0]-t[0])/i),r=Math.max(0,(t[1]-e[1])/i),s=this.canvasRect_.x+this.canvasRect_.w*n,o=this.canvasRect_.x+this.canvasRect_.w*(1-r),a=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=s-l+"px",this.leftZoomHandle_.style.top=a+"px",this.rightZoomHandle_.style.left=o-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},t.prototype.drawInteractiveLayer_=function(){var t=this.fgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var e=1,i=this.canvasRect_.w-e,n=this.canvasRect_.h-e,r=this.getZoomHandleStatus_();if(t.strokeStyle="black",r.isZoomed){var s=Math.max(e,r.leftHandlePos-this.canvasRect_.x),o=Math.min(i,r.rightHandlePos-this.canvasRect_.x);t.fillStyle="rgba(240, 240, 240, 0.6)",t.fillRect(0,0,s,this.canvasRect_.h),t.fillRect(o,0,this.canvasRect_.w-o,this.canvasRect_.h),t.beginPath(),t.moveTo(e,e),t.lineTo(s,e),t.lineTo(s,n),t.lineTo(o,n),t.lineTo(o,e),t.lineTo(i,e),t.stroke(),this.isUsingExcanvas_&&(this.iePanOverlay_.style.width=o-s+"px",this.iePanOverlay_.style.left=s+"px",this.iePanOverlay_.style.height=n+"px",this.iePanOverlay_.style.display="inline")}else t.beginPath(),t.moveTo(e,e),t.lineTo(e,n),t.lineTo(i,n),t.lineTo(i,e),t.stroke(),this.iePanOverlay_&&(this.iePanOverlay_.style.display="none")},t.prototype.getZoomHandleStatus_=function(){var t=this.leftZoomHandle_.width/2,e=parseFloat(this.leftZoomHandle_.style.left)+t,i=parseFloat(this.rightZoomHandle_.style.left)+t;return{leftHandlePos:e,rightHandlePos:i,isZoomed:e-1>this.canvasRect_.x||i+1<this.canvasRect_.x+this.canvasRect_.w}},t}(),o.PLUGINS.push(o.Plugins.Legend,o.Plugins.Axes,o.Plugins.RangeSelector,o.Plugins.ChartLabels,o.Plugins.Annotations,o.Plugins.Grid),o.OPTIONS_REFERENCE={xValueParser:{"default":"parseFloat() or Date.parse()*",labels:["CSV parsing"],type:"function(str) -> number",description:"A function which parses x-values (i.e. the dependent series). Must return a number, even when the values are dates. In this case, millis since epoch are used. This is used primarily for parsing CSV data. *=Dygraphs is slightly more accepting in the dates which it will parse. See code for details."},stackedGraph:{"default":"false",labels:["Data Line display"],type:"boolean",description:"If set, stack series on top of one another rather than drawing them independently. The first series specified in the input data will wind up on top of the chart and the last will be on bottom. NaN values are drawn as white areas without a line on top, see stackedGraphNaNFill for details."},stackedGraphNaNFill:{"default":"all",labels:["Data Line display"],type:"string",description:'Controls handling of NaN values inside a stacked graph. NaN values are interpolated/extended for stacking purposes, but the actual point value remains NaN in the legend display. Valid option values are "all" (interpolate internally, repeat leftmost and rightmost value as needed), "inside" (interpolate internally only, use zero outside leftmost and rightmost value), and "none" (treat NaN as zero everywhere).'},pointSize:{"default":"1",labels:["Data Line display"],type:"integer",description:'The size of the dot to draw on each point in pixels (see drawPoints). A dot is always drawn when a point is "isolated", i.e. there is a missing point on either side of it. This also controls the size of those dots.'},labelsDivStyles:{"default":"null",labels:["Legend"],type:"{}",description:"Additional styles to apply to the currently-highlighted points div. For example, { 'fontWeight': 'bold' } will make the labels bold. In general, it is better to use CSS to style the .dygraph-legend class than to use this property."},drawPoints:{"default":"false",labels:["Data Line display"],type:"boolean",description:"Draw a small dot at each point, in addition to a line going through the point. This makes the individual data points easier to see, but can increase visual clutter in the chart. The small dot can be replaced with a custom rendering by supplying a <a href='#drawPointCallback'>drawPointCallback</a>."},drawGapEdgePoints:{"default":"false",labels:["Data Line display"],type:"boolean",description:"Draw points at the edges of gaps in the data. This improves visibility of small data segments or other data irregularities."},drawPointCallback:{"default":"null",labels:["Data Line display"],type:"function(g, seriesName, canvasContext, cx, cy, color, pointSize)",parameters:[["g","the reference graph"],["seriesName","the name of the series"],["canvasContext","the canvas to draw on"],["cx","center x coordinate"],["cy","center y coordinate"],["color","series color"],["pointSize","the radius of the image."],["idx","the row-index of the point in the data."]],description:"Draw a custom item when drawPoints is enabled. Default is a small dot matching the series color. This method should constrain drawing to within pointSize pixels from (cx, cy).  Also see <a href='#drawHighlightPointCallback'>drawHighlightPointCallback</a>"},height:{"default":"320",labels:["Overall display"],type:"integer",description:"Height, in pixels, of the chart. If the container div has been explicitly sized, this will be ignored."},zoomCallback:{"default":"null",labels:["Callbacks"],type:"function(minDate, maxDate, yRanges)",parameters:[["minDate","milliseconds since epoch"],["maxDate","milliseconds since epoch."],["yRanges","is an array of [bottom, top] pairs, one for each y-axis."]],description:"A function to call when the zoom window is changed (either by zooming in or out)."},pointClickCallback:{snippet:"function(e, point){<br>&nbsp;&nbsp;alert(point);<br>}","default":"null",labels:["Callbacks","Interactive Elements"],type:"function(e, point)",parameters:[["e","the event object for the click"],["point","the point that was clicked See <a href='#point_properties'>Point properties</a> for details"]],description:"A function to call when a data point is clicked. and the point that was clicked."},color:{"default":"(see description)",labels:["Data Series Colors"],type:"string",example:"red",description:"A per-series color definition. Used in conjunction with, and overrides, the colors option."},colors:{"default":"(see description)",labels:["Data Series Colors"],type:"array<string>",example:"['red', '#00FF00']",description:'List of colors for the data series. These can be of the form "#AABBCC" or "rgb(255,100,200)" or "yellow", etc. If not specified, equally-spaced points around a color wheel are used. Overridden by the \'color\' option.'},connectSeparatedPoints:{"default":"false",labels:["Data Line display"],type:"boolean",description:"Usually, when Dygraphs encounters a missing value in a data series, it interprets this as a gap and draws it as such. If, instead, the missing values represents an x-value for which only a different series has data, then you'll want to connect the dots by setting this to true. To explicitly include a gap with this option set, use a value of NaN."},highlightCallback:{"default":"null",labels:["Callbacks"],type:"function(event, x, points, row, seriesName)",description:"When set, this callback gets called every time a new point is highlighted.",parameters:[["event","the JavaScript mousemove event"],["x","the x-coordinate of the highlighted points"],["points","an array of highlighted points: <code>[ {name: 'series', yval: y-value}, &hellip; ]</code>"],["row","integer index of the highlighted row in the data table, starting from 0"],["seriesName","name of the highlighted series, only present if highlightSeriesOpts is set."]]},drawHighlightPointCallback:{"default":"null",labels:["Data Line display"],type:"function(g, seriesName, canvasContext, cx, cy, color, pointSize)",parameters:[["g","the reference graph"],["seriesName","the name of the series"],["canvasContext","the canvas to draw on"],["cx","center x coordinate"],["cy","center y coordinate"],["color","series color"],["pointSize","the radius of the image."],["idx","the row-index of the point in the data."]],description:"Draw a custom item when a point is highlighted.  Default is a small dot matching the series color. This method should constrain drawing to within pointSize pixels from (cx, cy) Also see <a href='#drawPointCallback'>drawPointCallback</a>"},highlightSeriesOpts:{"default":"null",labels:["Interactive Elements"],type:"Object",description:"When set, the options from this object are applied to the timeseries closest to the mouse pointer for interactive highlighting. See also 'highlightCallback'. Example: highlightSeriesOpts: { strokeWidth: 3 }."},highlightSeriesBackgroundAlpha:{"default":"0.5",labels:["Interactive Elements"],type:"float",description:"Fade the background while highlighting series. 1=fully visible background (disable fading), 0=hiddden background (show highlighted series only)."},includeZero:{"default":"false",labels:["Axis display"],type:"boolean",description:"Usually, dygraphs will use the range of the data plus some padding to set the range of the y-axis. If this option is set, the y-axis will always include zero, typically as the lowest value. This can be used to avoid exaggerating the variance in the data"},rollPeriod:{"default":"1",labels:["Error Bars","Rolling Averages"],type:"integer &gt;= 1",description:"Number of days over which to average data. Discussed extensively above."},unhighlightCallback:{"default":"null",labels:["Callbacks"],type:"function(event)",parameters:[["event","the mouse event"]],description:"When set, this callback gets called every time the user stops highlighting any point by mousing out of the graph."},axisTickSize:{"default":"3.0",labels:["Axis display"],
type:"number",description:"The size of the line to display next to each tick mark on x- or y-axes."},labelsSeparateLines:{"default":"false",labels:["Legend"],type:"boolean",description:"Put <code>&lt;br/&gt;</code> between lines in the label string. Often used in conjunction with <strong>labelsDiv</strong>."},xValueFormatter:{"default":"",labels:["Deprecated"],type:"",description:"Prefer axes: { x: { valueFormatter } }"},valueFormatter:{"default":"Depends on the type of your data.",labels:["Legend","Value display/formatting"],type:"function(num or millis, opts, seriesName, dygraph, row, col)",description:"Function to provide a custom display format for the values displayed on mouseover. This does not affect the values that appear on tick marks next to the axes. To format those, see axisLabelFormatter. This is usually set on a <a href='per-axis.html'>per-axis</a> basis. .",parameters:[["num_or_millis","The value to be formatted. This is always a number. For date axes, it's millis since epoch. You can call new Date(millis) to get a Date object."],["opts","This is a function you can call to access various options (e.g. opts('labelsKMB')). It returns per-axis values for the option when available."],["seriesName","The name of the series from which the point came, e.g. 'X', 'Y', 'A', etc."],["dygraph","The dygraph object for which the formatting is being done"],["row","The row of the data from which this point comes. g.getValue(row, 0) will return the x-value for this point."],["col","The column of the data from which this point comes. g.getValue(row, col) will return the original y-value for this point. This can be used to get the full confidence interval for the point, or access un-rolled values for the point."]]},pixelsPerYLabel:{"default":"",labels:["Deprecated"],type:"integer",description:"Prefer axes: { y: { pixelsPerLabel } }"},annotationMouseOverHandler:{"default":"null",labels:["Annotations"],type:"function(annotation, point, dygraph, event)",description:"If provided, this function is called whenever the user mouses over an annotation."},annotationMouseOutHandler:{"default":"null",labels:["Annotations"],type:"function(annotation, point, dygraph, event)",parameters:[["annotation","the annotation left"],["point","the point associated with the annotation"],["dygraph","the reference graph"],["event","the mouse event"]],description:"If provided, this function is called whenever the user mouses out of an annotation."},annotationClickHandler:{"default":"null",labels:["Annotations"],type:"function(annotation, point, dygraph, event)",parameters:[["annotation","the annotation left"],["point","the point associated with the annotation"],["dygraph","the reference graph"],["event","the mouse event"]],description:"If provided, this function is called whenever the user clicks on an annotation."},annotationDblClickHandler:{"default":"null",labels:["Annotations"],type:"function(annotation, point, dygraph, event)",parameters:[["annotation","the annotation left"],["point","the point associated with the annotation"],["dygraph","the reference graph"],["event","the mouse event"]],description:"If provided, this function is called whenever the user double-clicks on an annotation."},drawCallback:{"default":"null",labels:["Callbacks"],type:"function(dygraph, is_initial)",parameters:[["dygraph","The graph being drawn"],["is_initial","True if this is the initial draw, false for subsequent draws."]],description:"When set, this callback gets called every time the dygraph is drawn. This includes the initial draw, after zooming and repeatedly while panning."},labelsKMG2:{"default":"false",labels:["Value display/formatting"],type:"boolean",description:"Show k/M/G for kilo/Mega/Giga on y-axis. This is different than <code>labelsKMB</code> in that it uses base 2, not 10."},delimiter:{"default":",",labels:["CSV parsing"],type:"string",description:"The delimiter to look for when separating fields of a CSV file. Setting this to a tab is not usually necessary, since tab-delimited data is auto-detected."},axisLabelFontSize:{"default":"14",labels:["Axis display"],type:"integer",description:"Size of the font (in pixels) to use in the axis labels, both x- and y-axis."},underlayCallback:{"default":"null",labels:["Callbacks"],type:"function(context, area, dygraph)",parameters:[["context","the canvas drawing context on which to draw"],["area","An object with {x,y,w,h} properties describing the drawing area."],["dygraph","the reference graph"]],description:"When set, this callback gets called before the chart is drawn. It details on how to use this."},width:{"default":"480",labels:["Overall display"],type:"integer",description:"Width, in pixels, of the chart. If the container div has been explicitly sized, this will be ignored."},interactionModel:{"default":"...",labels:["Interactive Elements"],type:"Object",description:"TODO(konigsberg): document this"},ticker:{"default":"Dygraph.dateTicker or Dygraph.numericTicks",labels:["Axis display"],type:"function(min, max, pixels, opts, dygraph, vals) -> [{v: ..., label: ...}, ...]",parameters:[["min",""],["max",""],["pixels",""],["opts",""],["dygraph","the reference graph"],["vals",""]],description:"This lets you specify an arbitrary function to generate tick marks on an axis. The tick marks are an array of (value, label) pairs. The built-in functions go to great lengths to choose good tick marks so, if you set this option, you'll most likely want to call one of them and modify the result. See dygraph-tickers.js for an extensive discussion. This is set on a <a href='per-axis.html'>per-axis</a> basis."},xAxisLabelWidth:{"default":"",labels:["Deprecated"],type:"integer",description:"Prefer axes: { x: { axisLabelWidth } }"},xAxisHeight:{"default":"(null)",labels:["Axis display"],type:"integer",description:"Height, in pixels, of the x-axis. If not set explicitly, this is computed based on axisLabelFontSize and axisTickSize."},showLabelsOnHighlight:{"default":"true",labels:["Interactive Elements","Legend"],type:"boolean",description:"Whether to show the legend upon mouseover."},axis:{"default":"(none)",labels:["Axis display"],type:"string",description:"Set to either 'y1' or 'y2' to assign a series to a y-axis (primary or secondary). Must be set per-series."},pixelsPerXLabel:{"default":"",labels:["Deprecated"],type:"integer",description:"Prefer axes { x: { pixelsPerLabel } }"},pixelsPerLabel:{"default":"70 (x-axis) or 30 (y-axes)",labels:["Axis display","Grid"],type:"integer",description:"Number of pixels to require between each x- and y-label. Larger values will yield a sparser axis with fewer ticks. This is set on a <a href='per-axis.html'>per-axis</a> basis."},labelsDiv:{"default":"null",labels:["Legend"],type:"DOM element or string",example:"<code style='font-size: small'>document.getElementById('foo')</code>or<code>'foo'",description:"Show data labels in an external div, rather than on the graph.  This value can either be a div element or a div id."},fractions:{"default":"false",labels:["CSV parsing","Error Bars"],type:"boolean",description:'When set, attempt to parse each cell in the CSV file as "a/b", where a and b are integers. The ratio will be plotted. This allows computation of Wilson confidence intervals (see below).'},logscale:{"default":"false",labels:["Axis display"],type:"boolean",description:"When set for the y-axis or x-axis, the graph shows that axis in log scale. Any values less than or equal to zero are not displayed. Showing log scale with ranges that go below zero will result in an unviewable graph.\n\n Not compatible with showZero. connectSeparatedPoints is ignored. This is ignored for date-based x-axes."},strokeWidth:{"default":"1.0",labels:["Data Line display"],type:"float",example:"0.5, 2.0",description:"The width of the lines connecting data points. This can be used to increase the contrast or some graphs."},strokePattern:{"default":"null",labels:["Data Line display"],type:"array<integer>",example:"[10, 2, 5, 2]",description:"A custom pattern array where the even index is a draw and odd is a space in pixels. If null then it draws a solid line. The array should have a even length as any odd lengthed array could be expressed as a smaller even length array. This is used to create dashed lines."},strokeBorderWidth:{"default":"null",labels:["Data Line display"],type:"float",example:"1.0",description:"Draw a border around graph lines to make crossing lines more easily distinguishable. Useful for graphs with many lines."},strokeBorderColor:{"default":"white",labels:["Data Line display"],type:"string",example:"red, #ccffdd",description:"Color for the line border used if strokeBorderWidth is set."},wilsonInterval:{"default":"true",labels:["Error Bars"],type:"boolean",description:'Use in conjunction with the "fractions" option. Instead of plotting +/- N standard deviations, dygraphs will compute a Wilson confidence interval and plot that. This has more reasonable behavior for ratios close to 0 or 1.'},fillGraph:{"default":"false",labels:["Data Line display"],type:"boolean",description:"Should the area underneath the graph be filled? This option is not compatible with error bars. This may be set on a <a href='per-axis.html'>per-series</a> basis."},highlightCircleSize:{"default":"3",labels:["Interactive Elements"],type:"integer",description:"The size in pixels of the dot drawn over highlighted points."},gridLineColor:{"default":"rgb(128,128,128)",labels:["Grid"],type:"red, blue",description:"The color of the gridlines. This may be set on a per-axis basis to define each axis' grid separately."},gridLinePattern:{"default":"null",labels:["Grid"],type:"array<integer>",example:"[10, 2, 5, 2]",description:"A custom pattern array where the even index is a draw and odd is a space in pixels. If null then it draws a solid line. The array should have a even length as any odd lengthed array could be expressed as a smaller even length array. This is used to create dashed gridlines."},visibility:{"default":"[true, true, ...]",labels:["Data Line display"],type:"Array of booleans",description:"Which series should initially be visible? Once the Dygraph has been constructed, you can access and modify the visibility of each series using the <code>visibility</code> and <code>setVisibility</code> methods."},valueRange:{"default":"Full range of the input is shown",labels:["Axis display"],type:"Array of two numbers",example:"[10, 110]",description:"Explicitly set the vertical range of the graph to [low, high]. This may be set on a per-axis basis to define each y-axis separately. If either limit is unspecified, it will be calculated automatically (e.g. [null, 30] to automatically calculate just the lower bound)"},labelsDivWidth:{"default":"250",labels:["Legend"],type:"integer",description:"Width (in pixels) of the div which shows information on the currently-highlighted points."},colorSaturation:{"default":"1.0",labels:["Data Series Colors"],type:"float (0.0 - 1.0)",description:"If <strong>colors</strong> is not specified, saturation of the automatically-generated data series colors."},yAxisLabelWidth:{"default":"",labels:["Deprecated"],type:"integer",description:"Prefer axes { y: { axisLabelWidth } }"},hideOverlayOnMouseOut:{"default":"true",labels:["Interactive Elements","Legend"],type:"boolean",description:"Whether to hide the legend when the mouse leaves the chart area."},yValueFormatter:{"default":"",labels:["Deprecated"],type:"",description:"Prefer axes: { y: { valueFormatter } }"},legend:{"default":"onmouseover",labels:["Legend"],type:"string",description:'When to display the legend. By default, it only appears when a user mouses over the chart. Set it to "always" to always display a legend of some sort. When set to "follow", legend follows highlighted points.'},labelsShowZeroValues:{"default":"true",labels:["Legend"],type:"boolean",description:"Show zero value labels in the labelsDiv."},stepPlot:{"default":"false",labels:["Data Line display"],type:"boolean",description:"When set, display the graph as a step plot instead of a line plot. This option may either be set for the whole graph or for single series."},labelsUTC:{"default":"false",labels:["Value display/formatting","Axis display"],type:"boolean",description:"Show date/time labels according to UTC (instead of local time)."},labelsKMB:{"default":"false",labels:["Value display/formatting"],type:"boolean",description:"Show K/M/B for thousands/millions/billions on y-axis."},rightGap:{"default":"5",labels:["Overall display"],type:"integer",description:"Number of pixels to leave blank at the right edge of the Dygraph. This makes it easier to highlight the right-most data point."},avoidMinZero:{"default":"false",labels:["Deprecated"],type:"boolean",description:"Deprecated, please use yRangePad instead. When set, the heuristic that fixes the Y axis at zero for a data set with the minimum Y value of zero is disabled. \nThis is particularly useful for data sets that contain many zero values, especially for step plots which may otherwise have lines not visible running along the bottom axis."},drawAxesAtZero:{"default":"false",labels:["Axis display"],type:"boolean",description:"When set, draw the X axis at the Y=0 position and the Y axis at the X=0 position if those positions are inside the graph's visible area. Otherwise, draw the axes at the bottom or left graph edge as usual."},xRangePad:{"default":"0",labels:["Axis display"],type:"float",description:"Add the specified amount of extra space (in pixels) around the X-axis value range to ensure points at the edges remain visible."},yRangePad:{"default":"null",labels:["Axis display"],type:"float",description:"If set, add the specified amount of extra space (in pixels) around the Y-axis value range to ensure points at the edges remain visible. If unset, use the traditional Y padding algorithm."},xAxisLabelFormatter:{"default":"",labels:["Deprecated"],type:"",description:"Prefer axes { x: { axisLabelFormatter } }"},axisLabelFormatter:{"default":"Depends on the data type",labels:["Axis display"],type:"function(number or Date, granularity, opts, dygraph)",parameters:[["number or date","Either a number (for a numeric axis) or a Date object (for a date axis)"],["granularity","specifies how fine-grained the axis is. For date axes, this is a reference to the time granularity enumeration, defined in dygraph-tickers.js, e.g. Dygraph.WEEKLY."],["opts","a function which provides access to various options on the dygraph, e.g. opts('labelsKMB')."],["dygraph","the referenced graph"]],description:"Function to call to format the tick values that appear along an axis. This is usually set on a <a href='per-axis.html'>per-axis</a> basis."},clickCallback:{snippet:"function(e, date_millis){<br>&nbsp;&nbsp;alert(new Date(date_millis));<br>}","default":"null",labels:["Callbacks"],type:"function(e, x, points)",parameters:[["e","The event object for the click"],["x","The x value that was clicked (for dates, this is milliseconds since epoch)"],["points","The closest points along that date. See <a href='#point_properties'>Point properties</a> for details."]],description:"A function to call when the canvas is clicked."},yAxisLabelFormatter:{"default":"",labels:["Deprecated"],type:"",description:"Prefer axes: { y: { axisLabelFormatter } }"},labels:{"default":'["X", "Y1", "Y2", ...]*',labels:["Legend"],type:"array<string>",description:"A name for each data series, including the independent (X) series. For CSV files and DataTable objections, this is determined by context. For raw data, this must be specified. If it is not, default values are supplied and a warning is logged."},dateWindow:{"default":"Full range of the input is shown",labels:["Axis display"],type:"Array of two numbers",example:"[<br>&nbsp;&nbsp;Date.parse('2006-01-01'),<br>&nbsp;&nbsp;(new Date()).valueOf()<br>]",description:"Initially zoom in on a section of the graph. Is of the form [earliest, latest], where earliest/latest are milliseconds since epoch. If the data for the x-axis is numeric, the values in dateWindow must also be numbers."},showRoller:{"default":"false",labels:["Interactive Elements","Rolling Averages"],type:"boolean",description:"If the rolling average period text box should be shown."},sigma:{"default":"2.0",labels:["Error Bars"],type:"float",description:"When errorBars is set, shade this many standard deviations above/below each point."},customBars:{"default":"false",labels:["CSV parsing","Error Bars"],type:"boolean",description:'When set, parse each CSV cell as "low;middle;high". Error bars will be drawn for each point between low and high, with the series itself going through middle.'},colorValue:{"default":"1.0",labels:["Data Series Colors"],type:"float (0.0 - 1.0)",description:"If colors is not specified, value of the data series colors, as in hue/saturation/value. (0.0-1.0, default 0.5)"},errorBars:{"default":"false",labels:["CSV parsing","Error Bars"],type:"boolean",description:"Does the data contain standard deviations? Setting this to true alters the input format (see above)."},displayAnnotations:{"default":"false",labels:["Annotations"],type:"boolean",description:"Only applies when Dygraphs is used as a GViz chart. Causes string columns following a data series to be interpreted as annotations on points in that series. This is the same format used by Google's AnnotatedTimeLine chart."},panEdgeFraction:{"default":"null",labels:["Axis display","Interactive Elements"],type:"float",description:"A value representing the farthest a graph may be panned, in percent of the display. For example, a value of 0.1 means that the graph can only be panned 10% pased the edges of the displayed values. null means no bounds."},title:{labels:["Chart labels"],type:"string","default":"null",description:"Text to display above the chart. You can supply any HTML for this value, not just text. If you wish to style it using CSS, use the 'dygraph-label' or 'dygraph-title' classes."},titleHeight:{"default":"18",labels:["Chart labels"],type:"integer",description:"Height of the chart title, in pixels. This also controls the default font size of the title. If you style the title on your own, this controls how much space is set aside above the chart for the title's div."},xlabel:{labels:["Chart labels"],type:"string","default":"null",description:"Text to display below the chart's x-axis. You can supply any HTML for this value, not just text. If you wish to style it using CSS, use the 'dygraph-label' or 'dygraph-xlabel' classes."},xLabelHeight:{labels:["Chart labels"],type:"integer","default":"18",description:"Height of the x-axis label, in pixels. This also controls the default font size of the x-axis label. If you style the label on your own, this controls how much space is set aside below the chart for the x-axis label's div."},ylabel:{labels:["Chart labels"],type:"string","default":"null",description:"Text to display to the left of the chart's y-axis. You can supply any HTML for this value, not just text. If you wish to style it using CSS, use the 'dygraph-label' or 'dygraph-ylabel' classes. The text will be rotated 90 degrees by default, so CSS rules may behave in unintuitive ways. No additional space is set aside for a y-axis label. If you need more space, increase the width of the y-axis tick labels using the yAxisLabelWidth option. If you need a wider div for the y-axis label, either style it that way with CSS (but remember that it's rotated, so width is controlled by the 'height' property) or set the yLabelWidth option."},y2label:{labels:["Chart labels"],type:"string","default":"null",description:"Text to display to the right of the chart's secondary y-axis. This label is only displayed if a secondary y-axis is present. See <a href='http://dygraphs.com/tests/two-axes.html'>this test</a> for an example of how to do this. The comments for the 'ylabel' option generally apply here as well. This label gets a 'dygraph-y2label' instead of a 'dygraph-ylabel' class."},yLabelWidth:{labels:["Chart labels"],type:"integer","default":"18",description:"Width of the div which contains the y-axis label. Since the y-axis label appears rotated 90 degrees, this actually affects the height of its div."},isZoomedIgnoreProgrammaticZoom:{"default":"false",labels:["Zooming"],type:"boolean",description:"When this option is passed to updateOptions() along with either the <code>dateWindow</code> or <code>valueRange</code> options, the zoom flags are not changed to reflect a zoomed state. This is primarily useful for when the display area of a chart is changed programmatically and also where manual zooming is allowed and use is made of the <code>isZoomed</code> method to determine this."},drawXGrid:{"default":"true",labels:["Grid","Deprecated"],type:"boolean",description:"Use the per-axis option drawGrid instead. Whether to display vertical gridlines under the chart."},drawYGrid:{"default":"true",labels:["Grid","Deprecated"],type:"boolean",description:"Use the per-axis option drawGrid instead. Whether to display horizontal gridlines under the chart."},drawGrid:{"default":"true for x and y, false for y2",labels:["Grid"],type:"boolean",description:"Whether to display gridlines in the chart. This may be set on a per-axis basis to define the visibility of each axis' grid separately."},independentTicks:{"default":"true for y, false for y2",labels:["Axis display","Grid"],type:"boolean",description:"Only valid for y and y2, has no effect on x: This option defines whether the y axes should align their ticks or if they should be independent. Possible combinations: 1.) y=true, y2=false (default): y is the primary axis and the y2 ticks are aligned to the the ones of y. (only 1 grid) 2.) y=false, y2=true: y2 is the primary axis and the y ticks are aligned to the the ones of y2. (only 1 grid) 3.) y=true, y2=true: Both axis are independent and have their own ticks. (2 grids) 4.) y=false, y2=false: Invalid configuration causes an error."},drawXAxis:{"default":"true",labels:["Axis display"],type:"boolean",description:"Deprecated. Use axes : { x : { drawAxis } }."},drawYAxis:{"default":"true",labels:["Axis display"],type:"boolean",description:"Deprecated. Use axes : { y : { drawAxis } }."},drawAxis:{"default":"true for x and y, false for y2",labels:["Axis display"],type:"boolean",description:"Whether to draw the specified axis. This may be set on a per-axis basis to define the visibility of each axis separately. Setting this to false also prevents axis ticks from being drawn and reclaims the space for the chart grid/lines."},gridLineWidth:{"default":"0.3",labels:["Grid"],type:"float",description:"Thickness (in pixels) of the gridlines drawn under the chart. The vertical/horizontal gridlines can be turned off entirely by using the drawXGrid and drawYGrid options. This may be set on a per-axis basis to define each axis' grid separately."},axisLineWidth:{"default":"0.3",labels:["Axis display"],type:"float",description:"Thickness (in pixels) of the x- and y-axis lines."},axisLineColor:{"default":"black",labels:["Axis display"],type:"string",description:"Color of the x- and y-axis lines. Accepts any value which the HTML canvas strokeStyle attribute understands, e.g. 'black' or 'rgb(0, 100, 255)'."},fillAlpha:{"default":"0.15",labels:["Error Bars","Data Series Colors"],type:"float (0.0 - 1.0)",description:"Error bars (or custom bars) for each series are drawn in the same color as the series, but with partial transparency. This sets the transparency. A value of 0.0 means that the error bars will not be drawn, whereas a value of 1.0 means that the error bars will be as dark as the line for the series itself. This can be used to produce chart lines whose thickness varies at each point."},axisLabelColor:{"default":"black",labels:["Axis display"],type:"string",description:"Color for x- and y-axis labels. This is a CSS color string."},axisLabelWidth:{"default":"50 (y-axis), 60 (x-axis)",labels:["Axis display","Chart labels"],type:"integer",description:"Width (in pixels) of the containing divs for x- and y-axis labels. For the y-axis, this also controls the width of the y-axis. Note that for the x-axis, this is independent from pixelsPerLabel, which controls the spacing between labels."},sigFigs:{"default":"null",labels:["Value display/formatting"],type:"integer",description:"By default, dygraphs displays numbers with a fixed number of digits after the decimal point. If you'd prefer to have a fixed number of significant figures, set this option to that number of sig figs. A value of 2, for instance, would cause 1 to be display as 1.0 and 1234 to be displayed as 1.23e+3."},digitsAfterDecimal:{"default":"2",labels:["Value display/formatting"],type:"integer",description:"Unless it's run in scientific mode (see the <code>sigFigs</code> option), dygraphs displays numbers with <code>digitsAfterDecimal</code> digits after the decimal point. Trailing zeros are not displayed, so with a value of 2 you'll get '0', '0.1', '0.12', '123.45' but not '123.456' (it will be rounded to '123.46'). Numbers with absolute value less than 0.1^digitsAfterDecimal (i.e. those which would show up as '0.00') will be displayed in scientific notation."},maxNumberWidth:{"default":"6",labels:["Value display/formatting"],type:"integer",description:"When displaying numbers in normal (not scientific) mode, large numbers will be displayed with many trailing zeros (e.g. 100000000 instead of 1e9). This can lead to unwieldy y-axis labels. If there are more than <code>maxNumberWidth</code> digits to the left of the decimal in a number, dygraphs will switch to scientific notation, even when not operating in scientific mode. If you'd like to see all those digits, set this to something large, like 20 or 30."},file:{"default":"(set when constructed)",labels:["Data"],type:"string (URL of CSV or CSV), GViz DataTable or 2D Array",description:"Sets the data being displayed in the chart. This can only be set when calling updateOptions; it cannot be set from the constructor. For a full description of valid data formats, see the <a href='http://dygraphs.com/data.html'>Data Formats</a> page."},timingName:{"default":"null",labels:["Debugging"],type:"string",description:"Set this option to log timing information. The value of the option will be logged along with the timimg, so that you can distinguish multiple dygraphs on the same page."},showRangeSelector:{"default":"false",labels:["Interactive Elements"],type:"boolean",description:"Show or hide the range selector widget."},rangeSelectorHeight:{"default":"40",labels:["Interactive Elements"],type:"integer",description:"Height, in pixels, of the range selector widget. This option can only be specified at Dygraph creation time."},rangeSelectorPlotStrokeColor:{"default":"#808FAB",labels:["Interactive Elements"],type:"string",description:'The range selector mini plot stroke color. This can be of the form "#AABBCC" or "rgb(255,100,200)" or "yellow". You can also specify null or "" to turn off stroke.'},rangeSelectorPlotFillColor:{"default":"#A7B1C4",labels:["Interactive Elements"],type:"string",description:'The range selector mini plot fill color. This can be of the form "#AABBCC" or "rgb(255,100,200)" or "yellow". You can also specify null or "" to turn off fill.'},showInRangeSelector:{"default":"null",labels:["Interactive Elements"],type:"boolean",description:"Mark this series for inclusion in the range selector. The mini plot curve will be an average of all such series. If this is not specified for any series, the default behavior is to average all the series. Setting it for one series will result in that series being charted alone in the range selector."},animatedZooms:{"default":"false",labels:["Interactive Elements"],type:"boolean",description:"Set this option to animate the transition between zoom windows. Applies to programmatic and interactive zooms. Note that if you also set a drawCallback, it will be called several times on each zoom. If you set a zoomCallback, it will only be called after the animation is complete."},plotter:{"default":"[DygraphCanvasRenderer.Plotters.fillPlotter, DygraphCanvasRenderer.Plotters.errorPlotter, DygraphCanvasRenderer.Plotters.linePlotter]",labels:["Data Line display"],type:"array or function",description:"A function (or array of functions) which plot each data series on the chart. TODO(danvk): more details! May be set per-series."},axes:{"default":"null",labels:["Configuration"],type:"Object",description:"Defines per-axis options. Valid keys are 'x', 'y' and 'y2'. Only some options may be set on a per-axis basis. If an option may be set in this way, it will be noted on this page. See also documentation on <a href='http://dygraphs.com/per-axis.html'>per-series and per-axis options</a>."},series:{"default":"null",labels:["Series"],type:"Object",description:"Defines per-series options. Its keys match the y-axis label names, and the values are dictionaries themselves that contain options specific to that series. When this option is missing, it falls back on the old-style of per-series options comingled with global options."},plugins:{"default":"[]",labels:["Configuration"],type:"Array<plugin>",description:"Defines per-graph plugins. Useful for per-graph customization"},dataHandler:{"default":"(depends on data)",labels:["Data"],type:"Dygraph.DataHandler",description:"Custom DataHandler. This is an advanced customization. See http://bit.ly/151E7Aq."}},function(){"use strict";var t,e=function(t){window.console&&window.console.warn(t)},i=["type","default","description"],n=["Annotations","Axis display","Chart labels","CSV parsing","Callbacks","Data","Data Line display","Data Series Colors","Error Bars","Grid","Interactive Elements","Legend","Overall display","Rolling Averages","Series","Value display/formatting","Zooming","Debugging","Configuration","Deprecated"],r={};for(t=0;t<n.length;t++)r[n[t]]=!0;for(var s in o.OPTIONS_REFERENCE)if(o.OPTIONS_REFERENCE.hasOwnProperty(s)){var a=o.OPTIONS_REFERENCE[s];for(t=0;t<i.length;t++)a.hasOwnProperty(i[t])?"string"!=typeof a[i[t]]&&e(s+"."+i[t]+" must be of type string"):e("Option "+s+' missing "'+i[t]+'" property');var l=a.labels;if("object"!=typeof l)e('Option "'+s+'" is missing a "labels": [...] option');else for(t=0;t<l.length;t++)r.hasOwnProperty(l[t])||e('Option "'+s+'" has label "'+l[t]+'", which is invalid.')}}(),o.DataHandler=function(){},o.DataHandlers={},function(){"use strict";var t=o.DataHandler;t.X=0,t.Y=1,t.EXTRAS=2,t.prototype.extractSeries=function(t,e,i){},t.prototype.seriesToPoints=function(e,i,n){for(var r=[],s=0;s<e.length;++s){var o=e[s],a=o[1],l=null===a?null:t.parseFloat(a),u={x:NaN,y:NaN,xval:t.parseFloat(o[0]),yval:l,name:i,idx:s+n};r.push(u)}return this.onPointsCreated_(e,r),r},t.prototype.onPointsCreated_=function(t,e){},t.prototype.rollingAverage=function(t,e,i){},t.prototype.getExtremeYValues=function(t,e,i){},t.prototype.onLineEvaluated=function(t,e,i){},t.prototype.computeYInterpolation_=function(t,e,i){var n=e[1]-t[1],r=e[0]-t[0],s=n/r,o=(i-t[0])*s;return t[1]+o},t.prototype.getIndexesInWindow_=function(t,e){var i=0,n=t.length-1;if(e){for(var r=0,s=e[0],o=e[1];r<t.length-1&&t[r][0]<s;)i++,r++;for(r=t.length-1;r>0&&t[r][0]>o;)n--,r--}return i<=n?[i,n]:[0,t.length-1]},t.parseFloat=function(t){return null===t?NaN:t}}(),function(){"use strict";o.DataHandlers.DefaultHandler=function(){};var t=o.DataHandlers.DefaultHandler;t.prototype=new o.DataHandler,t.prototype.extractSeries=function(t,e,i){for(var n=[],r=i.get("logscale"),s=0;s<t.length;s++){var o=t[s][0],a=t[s][e];r&&a<=0&&(a=null),n.push([o,a])}return n},t.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r,s,o,a,l=[];if(1==e)return t;for(n=0;n<t.length;n++){for(o=0,a=0,r=Math.max(0,n-e+1);r<n+1;r++)s=t[r][1],null===s||isNaN(s)||(a++,o+=t[r][1]);a?l[n]=[t[n][0],o/a]:l[n]=[t[n][0],null]}return l},t.prototype.getExtremeYValues=function(t,e,i){for(var n,r=null,s=null,o=0,a=t.length-1,l=o;l<=a;l++)n=t[l][1],null===n||isNaN(n)||((null===s||n>s)&&(s=n),(null===r||n<r)&&(r=n));
return[r,s]}}(),function(){"use strict";o.DataHandlers.DefaultFractionHandler=function(){};var t=o.DataHandlers.DefaultFractionHandler;t.prototype=new o.DataHandlers.DefaultHandler,t.prototype.extractSeries=function(t,e,i){for(var n,r,s,o,a,l,u=[],c=100,h=i.get("logscale"),d=0;d<t.length;d++)n=t[d][0],s=t[d][e],h&&null!==s&&(s[0]<=0||s[1]<=0)&&(s=null),null!==s?(o=s[0],a=s[1],null===o||isNaN(o)?u.push([n,o,[o,a]]):(l=a?o/a:0,r=c*l,u.push([n,r,[o,a]]))):u.push([n,null,[null,null]]);return u},t.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r=[],s=0,o=0,a=100;for(n=0;n<t.length;n++){s+=t[n][2][0],o+=t[n][2][1],n-e>=0&&(s-=t[n-e][2][0],o-=t[n-e][2][1]);var l=t[n][0],u=o?s/o:0;r[n]=[l,a*u]}return r}}(),function(){"use strict";o.DataHandlers.BarsHandler=function(){o.DataHandler.call(this)},o.DataHandlers.BarsHandler.prototype=new o.DataHandler;var t=o.DataHandlers.BarsHandler;t.prototype.extractSeries=function(t,e,i){},t.prototype.rollingAverage=function(t,e,i){},t.prototype.onPointsCreated_=function(t,e){for(var i=0;i<t.length;++i){var n=t[i],r=e[i];r.y_top=NaN,r.y_bottom=NaN,r.yval_minus=o.DataHandler.parseFloat(n[2][0]),r.yval_plus=o.DataHandler.parseFloat(n[2][1])}},t.prototype.getExtremeYValues=function(t,e,i){for(var n,r=null,s=null,o=0,a=t.length-1,l=o;l<=a;l++)if(n=t[l][1],null!==n&&!isNaN(n)){var u=t[l][2][0],c=t[l][2][1];u>n&&(u=n),c<n&&(c=n),(null===s||c>s)&&(s=c),(null===r||u<r)&&(r=u)}return[r,s]},t.prototype.onLineEvaluated=function(t,e,i){for(var n,s=0;s<t.length;s++)n=t[s],n.y_top=r.calcYNormal_(e,n.yval_minus,i),n.y_bottom=r.calcYNormal_(e,n.yval_plus,i)}}(),function(){"use strict";o.DataHandlers.CustomBarsHandler=function(){};var t=o.DataHandlers.CustomBarsHandler;t.prototype=new o.DataHandlers.BarsHandler,t.prototype.extractSeries=function(t,e,i){for(var n,r,s,o=[],a=i.get("logscale"),l=0;l<t.length;l++)n=t[l][0],s=t[l][e],a&&null!==s&&(s[0]<=0||s[1]<=0||s[2]<=0)&&(s=null),null!==s?(r=s[1],null===r||isNaN(r)?o.push([n,r,[r,r]]):o.push([n,r,[s[0],s[2]]])):o.push([n,null,[null,null]]);return o},t.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r,s,o,a,l,u,c=[];for(r=0,o=0,s=0,a=0,l=0;l<t.length;l++){if(n=t[l][1],u=t[l][2],c[l]=t[l],null===n||isNaN(n)||(r+=u[0],o+=n,s+=u[1],a+=1),l-e>=0){var h=t[l-e];null===h[1]||isNaN(h[1])||(r-=h[2][0],o-=h[1],s-=h[2][1],a-=1)}a?c[l]=[t[l][0],1*o/a,[1*r/a,1*s/a]]:c[l]=[t[l][0],null,[null,null]]}return c}}(),function(){"use strict";o.DataHandlers.ErrorBarsHandler=function(){};var t=o.DataHandlers.ErrorBarsHandler;t.prototype=new o.DataHandlers.BarsHandler,t.prototype.extractSeries=function(t,e,i){for(var n,r,s,o,a=[],l=i.get("sigma"),u=i.get("logscale"),c=0;c<t.length;c++)n=t[c][0],o=t[c][e],u&&null!==o&&(o[0]<=0||o[0]-l*o[1]<=0)&&(o=null),null!==o?(r=o[0],null===r||isNaN(r)?a.push([n,r,[r,r,r]]):(s=l*o[1],a.push([n,r,[r-s,r+s,o[1]]]))):a.push([n,null,[null,null,null]]);return a},t.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r,s,o,a,l,u,c,h,d=[],f=i.get("sigma");for(n=0;n<t.length;n++){for(a=0,c=0,l=0,r=Math.max(0,n-e+1);r<n+1;r++)s=t[r][1],null===s||isNaN(s)||(l++,a+=s,c+=Math.pow(t[r][2][2],2));l?(u=Math.sqrt(c)/l,h=a/l,d[n]=[t[n][0],h,[h-f*u,h+f*u]]):(o=1==e?t[n][1]:null,d[n]=[t[n][0],o,[o,o]])}return d}}(),function(){"use strict";o.DataHandlers.FractionsBarsHandler=function(){};var t=o.DataHandlers.FractionsBarsHandler;t.prototype=new o.DataHandlers.BarsHandler,t.prototype.extractSeries=function(t,e,i){for(var n,r,s,o,a,l,u,c,h=[],d=100,f=i.get("sigma"),p=i.get("logscale"),g=0;g<t.length;g++)n=t[g][0],s=t[g][e],p&&null!==s&&(s[0]<=0||s[1]<=0)&&(s=null),null!==s?(o=s[0],a=s[1],null===o||isNaN(o)?h.push([n,o,[o,o,o,a]]):(l=a?o/a:0,u=a?f*Math.sqrt(l*(1-l)/a):1,c=d*u,r=d*l,h.push([n,r,[r-c,r+c,o,a]]))):h.push([n,null,[null,null,null,null]]);return h},t.prototype.rollingAverage=function(t,e,i){e=Math.min(e,t.length);var n,r,s,o,a=[],l=i.get("sigma"),u=i.get("wilsonInterval"),c=0,h=0,d=100;for(s=0;s<t.length;s++){c+=t[s][2][2],h+=t[s][2][3],s-e>=0&&(c-=t[s-e][2][2],h-=t[s-e][2][3]);var f=t[s][0],p=h?c/h:0;if(u)if(h){var g=p<0?0:p,m=h,v=l*Math.sqrt(g*(1-g)/m+l*l/(4*m*m)),y=1+l*l/h;n=(g+l*l/(2*h)-v)/y,r=(g+l*l/(2*h)+v)/y,a[s]=[f,g*d,[n*d,r*d]]}else a[s]=[f,0,[0,0]];else o=h?l*Math.sqrt(p*(1-p)/h):1,a[s]=[f,d*p,[d*(p-o),d*(p+o)]]}return a}}()},{}],171:[function(t,e,i){Dygraph.Plugins.SuperAnnotations=function(){"use strict";var t=function(t){this.annotations_=[],this.lastWidth_=-1,this.lastHeight=-1,this.dygraph_=null,t=t||{},this.defaultAnnotationProperties_=$.extend({text:"Description"},t.defaultAnnotationProperties)};return t.prototype.toString=function(){return"SuperAnnotations Plugin"},t.prototype.activate=function(t){return this.dygraph_=t,this.annotations_=[],{didDrawChart:this.didDrawChart,pointClick:this.pointClick}},t.prototype.detachLabels=function(){for(var t=0;t<this.annotations_.length;t++){var e=this.annotations_[t];$(e.lineDiv).remove(),$(e.infoDiv).remove(),this.annotations_[t]=null}this.annotations_=[]},t.prototype.annotationWasDragged=function(t,e,i){var n=this.dygraph_,r=n.getArea(),s=t.yFrac,o=t.infoDiv,a=(o.offsetTop+o.offsetHeight-r.y)/r.h;a!=s&&(t.yFrac=a,this.moveAnnotationToTop(t),this.updateAnnotationDivPositions(),this.updateAnnotationInfo(),$(this).triggerHandler("annotationMoved",{annotation:t,oldYFrac:s,newYFrac:t.yFrac}),$(this).triggerHandler("annotationsChanged",{}))},t.prototype.makeAnnotationEditable=function(t){if(1!=t.editable){this.moveAnnotationToTop(t),t.editable=!0;var e=$("#annotation-editable-template").get(0);t.infoDiv.innerHTML=this.getTemplateHTML(e,t),$(t.infoDiv).toggleClass("editable",!!t.editable),$(this).triggerHandler("beganEditAnnotation",t)}},t.prototype.createAnnotation=function(t){var e=this,i=this.getColorForSeries_(t.series),n=$("<div/>").css({width:"1px",left:"3px",background:"black",height:"100%",position:"absolute","background-color":i,"z-index":10}).addClass("dygraph-annotation-line"),r=$("#annotation-template").clone().removeAttr("id").css({position:"absolute","border-color":i,"z-index":10}).show();$.extend(t,{lineDiv:n.get(0),infoDiv:r.get(0)});var s=this;return r.draggable({start:function(e,i){$(this).css({bottom:""}),t.isDragging=!0},drag:function(i,n){e.annotationWasDragged(t,i,n)},stop:function(i,n){$(this).css({top:""}),t.isDragging=!1,e.updateAnnotationDivPositions()},axis:"y",containment:"parent"}),r.on("click",".annotation-kill-button",function(){s.removeAnnotation(t),$(s).triggerHandler("annotationDeleted",t),$(s).triggerHandler("annotationsChanged",{})}),r.on("dblclick",function(){s.makeAnnotationEditable(t)}),r.on("click",".annotation-update",function(){e.extractUpdatedProperties_(r.get(0),t),t.editable=!1,e.updateAnnotationInfo(),$(s).triggerHandler("annotationEdited",t),$(s).triggerHandler("annotationsChanged",{})}),r.on("click",".annotation-cancel",function(){t.editable=!1,e.updateAnnotationInfo(),$(s).triggerHandler("cancelEditAnnotation",t)}),t},t.prototype.findPointIndex_=function(t,e){var i=this.dygraph_.getLabels().indexOf(t);if(i==-1)return null;for(var n=0,r=this.dygraph_.numRows()-1;n<=r;){var s=Math.floor((n+r)/2),o=this.dygraph_.getValue(s,0);if(o==e)return[s,i];o<e?n=s+1:r=s-1}return null},t.prototype.getColorForSeries_=function(t){var e=this.dygraph_.getColors(),i=this.dygraph_.getLabels().indexOf(t);return i==-1?null:e[(i-1)%e.length]},t.prototype.moveAnnotationToTop=function(t){var e=this.dygraph_.graphDiv;$(t.infoDiv).appendTo(e),$(t.lineDiv).appendTo(e);var i=this.annotations_.indexOf(t);this.annotations_.splice(i,1),this.annotations_.push(t)},t.prototype.updateAnnotationDivPositions=function(){var t=this.dygraph_.getArea(),e=t.x,i=t.x+t.w,n=t.y,r=t.y+t.h,s=this.dygraph_.graphDiv,o=Dygraph.findPos(s),a=[t.x+o.x,t.y+o.y];a.push(a[0]+t.w),a.push(a[1]+t.h);var l=this.dygraph_,u=this;$.each(this.annotations_,function(o,a){var c=u.findPointIndex_(a.series,a.xval);if(null==c)return void $([a.lineDiv,a.infoDiv]).hide();$([a.lineDiv,a.infoDiv]).show();var h=l.toDomCoords(a.xval,l.getValue(c[0],c[1])),d=h[0],f=h[1],p=6,g=f;void 0!==a.yFrac?g=t.y+t.h*a.yFrac:g-=p;var p=g<f?f-g:g-f-a.infoDiv.offsetHeight;if($(a.lineDiv).css({left:d+"px",top:Math.min(g,f)+"px",height:p+"px"}),$(a.infoDiv).css({left:d+"px"}),!a.isDragging){$(a.infoDiv).css({bottom:s.offsetHeight-g+"px"});var m=d>=e&&d<=i&&f>=n&&f<=r;$([a.infoDiv,a.lineDiv]).toggle(m)}})},t.prototype.updateAnnotationInfo=function(){var t=(this.dygraph_,this),e=$("#annotation-template").get(0);$.each(this.annotations_,function(i,n){$(n.infoDiv).toggleClass("editable",!!n.editable),n.editable||(n.infoDiv.innerHTML=t.getTemplateHTML(e,n))})},t.prototype.createPublicAnnotation_=function(t,e){var i=$.extend({},t,e);return delete i.infoDiv,delete i.lineDiv,delete i.isDragging,delete i.editable,i},t.prototype.getTemplateHTML=function(t,e){var i=this.dygraph_,n=this.findPointIndex_(e.series,e.xval);if(null!=n){var r=n[0],s=n[1],o=i.optionsViewForAxis_("y1"),a=i.getOptionForAxis("valueFormatter","x"),l=a.call(i,e.xval),u=i.getOption("valueFormatter",e.series).call(i,i.getValue(r,s),o),c=this.createPublicAnnotation_(e,{x:l,y:u}),h=t.innerHTML;for(var d in c){var f=c[d];"object"!=typeof f&&(h=h.replace(new RegExp("{{"+d+"}}","g"),f))}return h}},t.prototype.extractUpdatedProperties_=function(t,e){$(t).find("[dg-ann-field]").each(function(t,i){var n=$(i).attr("dg-ann-field"),r=$(i).val();e[n]=r})},t.prototype.attachAnnotationsToChart_=function(){var t=this.dygraph_.graphDiv;$.each(this.annotations_,function(e,i){i.editable||$([i.lineDiv,i.infoDiv]).appendTo(t)})},t.prototype.removeAnnotation=function(t){var e=this.annotations_.indexOf(t);e>=0?(this.annotations_.splice(e,1),$([t.lineDiv,t.infoDiv]).remove()):Dygraph.warn("Tried to remove non-existent annotation.")},t.prototype.didDrawChart=function(t){t.dygraph;0!==this.annotations_.length&&(this.updateAnnotationDivPositions(),this.attachAnnotationsToChart_(),this.updateAnnotationInfo())},t.prototype.pointClick=function(t){t.preventDefault();var e=$.extend({},this.defaultAnnotationProperties_,{series:t.point.name,xval:t.point.xval});this.annotations_.push(this.createAnnotation(e)),this.updateAnnotationDivPositions(),this.updateAnnotationInfo(),this.attachAnnotationsToChart_(),$(this).triggerHandler("annotationCreated",e),$(this).triggerHandler("annotationsChanged",{}),this.makeAnnotationEditable(e)},t.prototype.destroy=function(){this.detachLabels()},t.prototype.get=function(){for(var t=[],e=0;e<this.annotations_.length;e++)t.push(this.createPublicAnnotation_(this.annotations_[e]));return t},t.prototype.set=function(t){for(var e=!1,i=0;i<t.length;i++){var n=t[i];if(this.annotations_.length>i){var r=this.annotations_[i];this.annotations_[i]=$.extend({infoDiv:r.infoDiv,lineDiv:r.lineDiv},n)}else this.annotations_.push(this.createAnnotation(n)),e=!0}for(;t.length<this.annotations_.length;)this.removeAnnotation(this.annotations_[t.length]);this.updateAnnotationDivPositions(),this.updateAnnotationInfo(),e&&this.attachAnnotationsToChart_(),$(this).triggerHandler("annotationsChanged",{})},t}()},{}],172:[function(t,e,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function s(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!s(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(i=this._events[t],a(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(o(i))for(s=Array.prototype.slice.call(arguments,1),u=i.slice(),n=u.length,l=0;l<n;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var n=!1;return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var i,n,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],s=i.length,n=-1,i===e||r(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(i)){for(a=s;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],r(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],173:[function(t,e,i){i.read=function(t,e,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=i?r-1:0,d=i?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},i.write=function(t,e,i,n,r,s){var o,a,l,u=8*s-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,r),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*g}},{}],174:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],175:[function(t,e,i){e.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},{}],176:[function(t,e,i){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],177:[function(require,module,exports){!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.ui"],t):t(jQuery)}(function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.5.5"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(t,e){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],t,e,tp_inst)},onChangeMonthYear:function(t,e,i){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],t,e,i,tp_inst)},onClose:function(t,e){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(e),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],t,e,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(t){return t.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(t){return t.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&"undefined"==typeof $.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):(new Date).getTimezoneOffset()*-1,tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),tp_inst._defaults.altRedirectFocus===!0&&tp_inst.$altInput.css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(t){var e=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(e),this._limitMinMaxDateTime(t,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(t,e){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),e||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var n=parseDateTimeInternal(i,this._defaults.timeFormat,t,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!n.timeObj)return!1;$.extend(this,n.timeObj)}catch(r){return $.timepicker.log("Error parsing the date/time string: "+r+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var s=$.datepicker.parseTime(this._defaults.timeFormat,t,this._defaults);return!!s&&($.extend(this,s),!0)},_afterInject:function(){var t=this.inst.settings;$.isFunction(t.afterInject)&&t.afterInject.call(this)},_injectTimePicker:function(){var t=this.inst.dpDiv,e=this.inst.settings,i=this,n="",r="",s=null,o={},a={},l=null,u=0,c=0;if(0===t.find("div.ui-timepicker-div").length&&e.showTimepicker){var h=" ui_tpicker_unit_hide",d='<div class="ui-timepicker-div'+(e.isRTL?" ui-timepicker-rtl":"")+(e.oneLine&&"select"===e.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(e.showTime?"":h)+'">'+e.timeText+'</dt><dd class="ui_tpicker_time '+(e.showTime?"":h)+'"></dd>';for(u=0,c=this.units.length;u<c;u++){if(n=this.units[u],r=n.substr(0,1).toUpperCase()+n.substr(1),s=null!==e["show"+r]?e["show"+r]:this.support[n],o[n]=parseInt(e[n+"Max"]-(e[n+"Max"]-e[n+"Min"])%e["step"+r],10),a[n]=0,d+='<dt class="ui_tpicker_'+n+"_label"+(s?"":h)+'">'+e[n+"Text"]+'</dt><dd class="ui_tpicker_'+n+(s?"":h)+'"><div class="ui_tpicker_'+n+"_slider"+(s?"":h)+'"></div>',s&&e[n+"Grid"]>0){if(d+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===n)for(var f=e[n+"Min"];f<=o[n];f+=parseInt(e[n+"Grid"],10)){a[n]++;var p=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:f},e);d+='<td data-for="'+n+'">'+p+"</td>"}else for(var g=e[n+"Min"];g<=o[n];g+=parseInt(e[n+"Grid"],10))a[n]++,d+='<td data-for="'+n+'">'+(g<10?"0":"")+g+"</td>";d+="</tr></table></div>"}d+="</dd>"}var m=null!==e.showTimezone?e.showTimezone:this.support.timezone;d+='<dt class="ui_tpicker_timezone_label'+(m?"":h)+'">'+e.timezoneText+"</dt>",d+='<dd class="ui_tpicker_timezone'+(m?"":h)+'"></dd>',d+="</dl></div>";var v=$(d);for(e.timeOnly===!0&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+e.timeOnlyTitle+"</div></div>"),t.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),u=0,c=i.units.length;u<c;u++)n=i.units[u],r=n.substr(0,1).toUpperCase()+n.substr(1),s=null!==e["show"+r]?e["show"+r]:this.support[n],i[n+"_slider"]=i.control.create(i,v.find(".ui_tpicker_"+n+"_slider"),n,i[n],e[n+"Min"],o[n],e["step"+r]),s&&e[n+"Grid"]>0&&(l=100*a[n]*e[n+"Grid"]/(o[n]-e[n+"Min"]),v.find(".ui_tpicker_"+n+" table").css({width:l+"%",marginLeft:e.isRTL?"0":l/(-2*a[n])+"%",marginRight:e.isRTL?l/(-2*a[n])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(t){var e=$(this),r=e.html(),s=parseInt(r.replace(/[^0-9]/g),10),o=r.replace(/[^apm]/gi),a=e.data("for");"hour"===a&&(o.indexOf("p")!==-1&&s<12?s+=12:o.indexOf("a")!==-1&&12===s&&(s=0)),i.control.value(i,i[a+"_slider"],n,s),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/a[n]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(e.timezoneList,function(t,e){return $("<option />").val("object"==typeof t?t.value:t).text("object"==typeof t?t.label:t)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var y=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()*-1;y===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(e.timezone):selectLocalTimezone(i);this.timezone_select.change(function(){i._onTimeChange(),i._onSelectHandler(),i._afterInject()});var _=t.find(".ui-datepicker-buttonpane");if(_.length?_.before(v):t.append(v),this.$timeObj=v.find(".ui_tpicker_time"),null!==this.inst){var b=this.timeDefined;this._onTimeChange(),this.timeDefined=b}if(this._defaults.addSliderAccess){var w=this._defaults.sliderAccessArgs,x=this._defaults.isRTL;w.isRTL=x,setTimeout(function(){if(0===v.find(".ui-slider-access").length){v.find(".ui-slider:visible").sliderAccess(w);var t=v.find(".ui-slider-access:eq(0)").outerWidth(!0);t&&v.find("table:visible").each(function(){var e=$(this),i=e.outerWidth(),n=e.css(x?"marginRight":"marginLeft").toString().replace("%",""),r=i-t,s=n*r/i+"%",o={width:r,marginRight:0,marginLeft:0};o[x?"marginRight":"marginLeft"]=s,e.css(o)})}},10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(t,e){var i=this._defaults,n=new Date(t.selectedYear,t.selectedMonth,t.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(t,"minDateTime")&&void 0!==$.datepicker._get(t,"minDateTime")&&n){var r=$.datepicker._get(t,"minDateTime"),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),t.settings.timeOnly||s.getTime()===n.getTime()?(this._defaults.hourMin=r.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=r.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=r.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=r.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=r.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(t,"maxDateTime")&&void 0!==$.datepicker._get(t,"maxDateTime")&&n){var o=$.datepicker._get(t,"maxDateTime"),a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),t.settings.timeOnly||a.getTime()===n.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=o.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,
this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==t.settings.minTime){var l=new Date("01/01/1970 "+t.settings.minTime);this.hour<l.getHours()?(this.hour=this._defaults.hourMin=l.getHours(),this.minute=this._defaults.minuteMin=l.getMinutes()):this.hour===l.getHours()&&this.minute<l.getMinutes()?this.minute=this._defaults.minuteMin=l.getMinutes():this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0}if(null!==t.settings.maxTime){var u=new Date("01/01/1970 "+t.settings.maxTime);this.hour>u.getHours()?(this.hour=this._defaults.hourMax=u.getHours(),this.minute=this._defaults.minuteMax=u.getMinutes()):this.hour===u.getHours()&&this.minute>u.getMinutes()?this.minute=this._defaults.minuteMax=u.getMinutes():this._defaults.hourMax>u.getHours()?(this._defaults.hourMax=u.getHours(),this._defaults.minuteMax=u.getMinutes()):this._defaults.hourMax===u.getHours()===this.hour&&this._defaults.minuteMax>u.getMinutes()?this._defaults.minuteMax=u.getMinutes():this._defaults.minuteMax=59}if(void 0!==e&&e===!0){var c=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),h=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),d=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),f=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),p=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:c,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:h,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:d,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:f,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:p,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var t=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),e=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),n=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),r=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),s=!!this.timezone_select&&this.timezone_select.val(),o=this._defaults,a=o.pickerTimeFormat||o.timeFormat,l=o.pickerTimeSuffix||o.timeSuffix;"object"==typeof t&&(t=!1),"object"==typeof e&&(e=!1),"object"==typeof i&&(i=!1),"object"==typeof n&&(n=!1),"object"==typeof r&&(r=!1),"object"==typeof s&&(s=!1),t!==!1&&(t=parseInt(t,10)),e!==!1&&(e=parseInt(e,10)),i!==!1&&(i=parseInt(i,10)),n!==!1&&(n=parseInt(n,10)),r!==!1&&(r=parseInt(r,10)),s!==!1&&(s=s.toString());var u=o[t<12?"amNames":"pmNames"][0],c=t!==parseInt(this.hour,10)||e!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||r!==parseInt(this.microsec,10)||this.ampm.length>0&&t<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||null!==this.timezone&&s!==this.timezone.toString();c&&(t!==!1&&(this.hour=t),e!==!1&&(this.minute=e),i!==!1&&(this.second=i),n!==!1&&(this.millisec=n),r!==!1&&(this.microsec=r),s!==!1&&(this.timezone=s),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=u),this.formattedTime=$.datepicker.formatTime(o.timeFormat,this,o),this.$timeObj&&(a===o.timeFormat?this.$timeObj.text(this.formattedTime+l):this.$timeObj.text($.datepicker.formatTime(a,this,o)+l)),this.timeDefined=!0,c&&this._updateDateTime()}},_onSelectHandler:function(){var t=this._defaults.onSelect||this.inst.settings.onSelect,e=this.$input?this.$input[0]:null;t&&e&&t.apply(e,[this.formattedDateTime,this])},_updateDateTime:function(t){t=this.inst||t;var e=t.currentYear>0?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(t.selectedYear,t.selectedMonth,t.selectedDay),i=$.datepicker._daylightSavingAdjust(e),n=$.datepicker._get(t,"dateFormat"),r=$.datepicker._getFormatConfig(t),s=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,null===i?new Date:i,r);var o=this.formattedDate;if(""===t.lastVal&&(t.currentYear=t.selectedYear,t.currentMonth=t.selectedMonth,t.currentDay=t.selectedDay),this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!1?o=this.formattedTime:(this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||s)||this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!0)&&(o+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=o,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(o);var a="",l=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,u=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(a=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,r):this.formattedDate,a&&(a+=l)),a+=null!==this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+u:this.formattedTime+u,this.$altInput.val(a)}else this.$input.val(o);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var t=$.datepicker._getInst(this.$input.get(0)),e=$.datepicker._get(t,"timepicker");if(e&&e._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(i){$.timepicker.log(i)}}},_controls:{slider:{create:function(t,e,i,n,r,s,o){var a=t._defaults.isRTL;return e.prop("slide",null).slider({orientation:"horizontal",value:a?n*-1:n,min:a?s*-1:r,max:a?r*-1:s,step:o,slide:function(e,n){t.control.value(t,$(this),i,a?n.value*-1:n.value),t._onTimeChange()},stop:function(e,i){t._onSelectHandler()}})},options:function(t,e,i,n,r){if(t._defaults.isRTL){if("string"==typeof n)return"min"===n||"max"===n?void 0!==r?e.slider(n,r*-1):Math.abs(e.slider(n)):e.slider(n);var s=n.min,o=n.max;return n.min=n.max=null,void 0!==s&&(n.max=s*-1),void 0!==o&&(n.min=o*-1),e.slider(n)}return"string"==typeof n&&void 0!==r?e.slider(n,r):e.slider(n)},value:function(t,e,i,n){return t._defaults.isRTL?void 0!==n?e.slider("value",n*-1):Math.abs(e.slider("value")):void 0!==n?e.slider("value",n):e.slider("value")}},select:{create:function(t,e,i,n,r,s,o){for(var a='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+r+'" data-max="'+s+'" data-step="'+o+'">',l=t._defaults.pickerTimeFormat||t._defaults.timeFormat,u=r;u<=s;u+=o)a+='<option value="'+u+'"'+(u===n?" selected":"")+">",a+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:u},t._defaults):"millisec"===i||"microsec"===i||u>=10?u:"0"+u.toString(),a+="</option>";return a+="</select>",e.children("select").remove(),$(a).appendTo(e).change(function(e){t._onTimeChange(),t._onSelectHandler(),t._afterInject()}),e},options:function(t,e,i,n,r){var s={},o=e.children("select");if("string"==typeof n){if(void 0===r)return o.data(n);s[n]=r}else s=n;return t.control.create(t,e,o.data("unit"),o.val(),s.min>=0?s.min:o.data("min"),s.max||o.data("max"),s.step||o.data("step"))},value:function(t,e,i,n){var r=e.children("select");return void 0!==n?r.val(n):r.val()}}}}),$.fn.extend({timepicker:function(t){t=t||{};var e=Array.prototype.slice.call(arguments);return"object"==typeof t&&(e[0]=$.extend(t,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),e)})},datetimepicker:function(t){t=t||{};var e=arguments;return"string"==typeof t?"getDate"===t||"option"===t&&2===e.length&&"string"==typeof e[1]?$.fn.datepicker.apply($(this[0]),e):this.each(function(){var t=$(this);t.datepicker.apply(t,e)}):this.each(function(){var e=$(this);e.datepicker($.timepicker._newInst(e,t)._defaults)})}}),$.datepicker.parseDateTime=function(t,e,i,n,r){var s=parseDateTimeInternal(t,e,i,n,r);if(s.timeObj){var o=s.timeObj;s.date.setHours(o.hour,o.minute,o.second,o.millisec),s.date.setMicroseconds(o.microsec)}return s.date},$.datepicker.parseTime=function(t,e,i){var n=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),r=(t.replace(/\'.*?\'/g,"").indexOf("Z")!==-1,function(t,e,i){var n,r=function(t,e){var i=[];return t&&$.merge(i,t),e&&$.merge(i,e),i=$.map(i,function(t){return t.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},s=function(t){var e=t.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(e)for(var n=0;n<e.length;n++)i[e[n].toString().charAt(0)]===-1&&(i[e[n].toString().charAt(0)]=n+1);return i},o="^"+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(t){var e=t.length;switch(t.charAt(0).toLowerCase()){case"h":return 1===e?"(\\d?\\d)":"(\\d{"+e+"})";case"m":return 1===e?"(\\d?\\d)":"(\\d{"+e+"})";case"s":return 1===e?"(\\d?\\d)":"(\\d{"+e+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return r(i.amNames,i.pmNames);default:return"("+t.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(t){return"\\"+t})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",a=s(t),l="";n=e.match(new RegExp(o,"i"));var u={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!n&&(a.t!==-1&&(void 0===n[a.t]||0===n[a.t].length?(l="",u.ampm=""):(l=$.inArray(n[a.t].toUpperCase(),$.map(i.amNames,function(t,e){return t.toUpperCase()}))!==-1?"AM":"PM",u.ampm=i["AM"===l?"amNames":"pmNames"][0])),a.h!==-1&&("AM"===l&&"12"===n[a.h]?u.hour=0:"PM"===l&&"12"!==n[a.h]?u.hour=parseInt(n[a.h],10)+12:u.hour=Number(n[a.h])),a.m!==-1&&(u.minute=Number(n[a.m])),a.s!==-1&&(u.second=Number(n[a.s])),a.l!==-1&&(u.millisec=Number(n[a.l])),a.c!==-1&&(u.microsec=Number(n[a.c])),a.z!==-1&&void 0!==n[a.z]&&(u.timezone=$.timepicker.timezoneOffsetNumber(n[a.z])),u)}),s=function(t,e,i){try{var n=new Date("2012-01-01 "+e);if(isNaN(n.getTime())&&(n=new Date("2012-01-01T"+e),isNaN(n.getTime())&&(n=new Date("01/01/2012 "+e),isNaN(n.getTime()))))throw"Unable to parse time with native Date: "+e;return{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisec:n.getMilliseconds(),microsec:n.getMicroseconds(),timezone:n.getTimezoneOffset()*-1}}catch(s){try{return r(t,e,i)}catch(o){$.timepicker.log("Unable to parse \ntimeString: "+e+"\ntimeFormat: "+t)}}return!1};return"function"==typeof n.parse?n.parse(t,e,n):"loose"===n.parse?s(t,e,n):r(t,e,n)},$.datepicker.formatTime=function(t,e,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),e=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},e);var n=t,r=i.amNames[0],s=parseInt(e.hour,10);return s>11&&(r=i.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(t){switch(t){case"HH":return("0"+s).slice(-2);case"H":return s;case"hh":return("0"+convert24to12(s)).slice(-2);case"h":return convert24to12(s);case"mm":return("0"+e.minute).slice(-2);case"m":return e.minute;case"ss":return("0"+e.second).slice(-2);case"s":return e.second;case"l":return("00"+e.millisec).slice(-3);case"c":return("00"+e.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===e.timezone?i.timezone:e.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===e.timezone?i.timezone:e.timezone,!0);case"T":return r.charAt(0).toUpperCase();case"TT":return r.toUpperCase();case"t":return r.charAt(0).toLowerCase();case"tt":return r.toLowerCase();default:return t.replace(/'/g,"")}})},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(t,e){var i,n=this._getInst($(t)[0]),r=this._get(n,"timepicker");r&&n.settings.showTimepicker?(r._limitMinMaxDateTime(n,!0),i=n.inline,n.inline=n.stay_open=!0,this._base_selectDate(t,e),n.inline=i,n.stay_open=!1,this._notifyChange(n),this._updateDatepicker(n)):this._base_selectDate(t,e)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(t){var e=t.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==t&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==e||"boolean"==typeof t.stay_open&&t.stay_open!==!1)){this._base_updateDatepicker(t);var i=this._get(t,"timepicker");i&&i._addTimePicker(t)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(t){var e=$.datepicker._getInst(t.target),i=$.datepicker._get(e,"timepicker");if(i&&$.datepicker._get(e,"constrainInput")){var n=i.support.ampm,r=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,s=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),o=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(r?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+s,a=String.fromCharCode(void 0===t.charCode?t.keyCode:t.charCode);return t.ctrlKey||a<" "||!s||o.indexOf(a)>-1}return $.datepicker._base_doKeyPress(t)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(t){var e=this._get(t,"timepicker");if(e){var i=e._defaults.altField;if(i){var n=(e._defaults.altFormat||e._defaults.dateFormat,this._getDate(t)),r=$.datepicker._getFormatConfig(t),s="",o=e._defaults.altSeparator?e._defaults.altSeparator:e._defaults.separator,a=e._defaults.altTimeSuffix?e._defaults.altTimeSuffix:e._defaults.timeSuffix,l=null!==e._defaults.altTimeFormat?e._defaults.altTimeFormat:e._defaults.timeFormat;s+=$.datepicker.formatTime(l,e,e._defaults)+a,e._defaults.timeOnly||e._defaults.altFieldTimeOnly||null===n||(s=e._defaults.altFormat?$.datepicker.formatDate(e._defaults.altFormat,n,r)+o+s:e.formattedDate+o+s),$(i).val(t.input.val()?s:"")}}else $.datepicker._base_updateAlternate(t)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(t){var e=$.datepicker._getInst(t.target),i=$.datepicker._get(e,"timepicker");if(i&&i._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(n){$.timepicker.log(n)}return $.datepicker._base_doKeyUp(t)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(t){var e=this._getInst($(t)[0]),i=(e.dpDiv,this._get(e,"timepicker"));selectLocalTimezone(i);var n=new Date;this._setTime(e,n),this._setDate(e,n),this._base_gotoToday(t)},$.datepicker._disableTimepickerDatepicker=function(t){var e=this._getInst(t);if(e){var i=this._get(e,"timepicker");$(t).datepicker("getDate"),i&&(e.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(e))}},$.datepicker._enableTimepickerDatepicker=function(t){var e=this._getInst(t);if(e){var i=this._get(e,"timepicker");$(t).datepicker("getDate"),i&&(e.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(e),i._updateDateTime(e))}},$.datepicker._setTime=function(t,e){var i=this._get(t,"timepicker");if(i){var n=i._defaults;i.hour=e?e.getHours():n.hour,i.minute=e?e.getMinutes():n.minute,i.second=e?e.getSeconds():n.second,i.millisec=e?e.getMilliseconds():n.millisec,i.microsec=e?e.getMicroseconds():n.microsec,i._limitMinMaxDateTime(t,!0),i._onTimeChange(),i._updateDateTime(t)}},$.datepicker._setTimeDatepicker=function(t,e,i){var n=this._getInst(t);if(n){var r=this._get(n,"timepicker");if(r){this._setDateFromField(n);var s;e&&("string"==typeof e?(r._parseTime(e,i),s=new Date,s.setHours(r.hour,r.minute,r.second,r.millisec),s.setMicroseconds(r.microsec)):(s=new Date(e.getTime()),s.setMicroseconds(e.getMicroseconds())),"Invalid Date"===s.toString()&&(s=void 0),this._setTime(n,s))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(t,e){var i=this._getInst(t),n=e;if(i){"string"==typeof e&&(n=new Date(e),n.getTime()||(this._base_setDateDatepicker.apply(this,arguments),n=$(t).datepicker("getDate")));var r,s=this._get(i,"timepicker");n instanceof Date?(r=new Date(n.getTime()),r.setMicroseconds(n.getMicroseconds())):r=n,s&&r&&(s.support.timezone||null!==s._defaults.timezone||(s.timezone=r.getTimezoneOffset()*-1),n=$.timepicker.timezoneAdjust(n,s.timezone),r=$.timepicker.timezoneAdjust(r,s.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(t,r,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(t,e){var i=this._getInst(t);if(i){var n=this._get(i,"timepicker");if(n){void 0===i.lastVal&&this._setDateFromField(i,e);var r=this._getDate(i),s=$.trim(n.$altInput&&n._defaults.altFieldTimeOnly?n.$input.val()+" "+n.$altInput.val():n.$input.val());return r&&n._parseTime(s,!i.settings.timeOnly)&&(r.setHours(n.hour,n.minute,n.second,n.millisec),r.setMicroseconds(n.microsec),null!=n.timezone&&(n.support.timezone||null!==n._defaults.timezone||(n.timezone=r.getTimezoneOffset()*-1),r=$.timepicker.timezoneAdjust(r,n.timezone))),r}return this._base_getDateDatepicker(t,e)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(t,e,i){var n;try{n=this._base_parseDate(t,e,i)}catch(r){if(!(r.indexOf(":")>=0))throw r;n=this._base_parseDate(t,e.substring(0,e.length-(r.length-r.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+r+"\ndate string = "+e+"\ndate format = "+t)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(t,e,i,n){var r=this._get(t,"timepicker");return r?(r._updateDateTime(t),r.$input.val()):this._base_formatDate(t)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(t,e,i){var n,r=this._getInst(t);if(!r)return null;var s=this._get(r,"timepicker");if(s){var o,a,l,u,c=null,h=null,d=null,f=s._defaults.evnts,p={};if("string"==typeof e){if("minDate"===e||"minDateTime"===e)c=i;else if("maxDate"===e||"maxDateTime"===e)h=i;else if("onSelect"===e)d=i;else if(f.hasOwnProperty(e)){if("undefined"==typeof i)return f[e];p[e]=i,n={}}}else if("object"==typeof e){e.minDate?c=e.minDate:e.minDateTime?c=e.minDateTime:e.maxDate?h=e.maxDate:e.maxDateTime&&(h=e.maxDateTime);for(o in f)f.hasOwnProperty(o)&&e[o]&&(p[o]=e[o])}for(o in p)p.hasOwnProperty(o)&&(f[o]=p[o],n||(n=$.extend({},e)),delete n[o]);if(n&&isEmptyObject(n))return;if(c?(c=0===c?new Date:new Date(c),s._defaults.minDate=c,s._defaults.minDateTime=c):h?(h=0===h?new Date:new Date(h),s._defaults.maxDate=h,s._defaults.maxDateTime=h):d&&(s._defaults.onSelect=d),c||h)return u=$(t),l=u.datetimepicker("getDate"),a=this._base_optionDatepicker.call($.datepicker,t,n||e,i),u.datetimepicker("setDate",l),a}return void 0===i?this._base_optionDatepicker.call($.datepicker,t,e):this._base_optionDatepicker.call($.datepicker,t,n||e,i)};var isEmptyObject=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},extendRemove=function(t,e){$.extend(t,e);for(var i in e)null!==e[i]&&void 0!==e[i]||(t[i]=e[i]);return t},detectSupport=function(t){var e=t.replace(/'.*?'/g,"").toLowerCase(),i=function(t,e){return t.indexOf(e)!==-1};return{hour:i(e,"h"),minute:i(e,"m"),second:i(e,"s"),millisec:i(e,"l"),microsec:i(e,"c"),timezone:i(e,"z"),ampm:i(e,"t")&&i(t,"h"),iso8601:i(t,"Z")}},convert24to12=function(t){return t%=12,0===t&&(t=12),String(t)},computeEffectiveSetting=function(t,e){return t&&t[e]?t[e]:$.timepicker._defaults[e]},splitDateTime=function(t,e){var i=computeEffectiveSetting(e,"separator"),n=computeEffectiveSetting(e,"timeFormat"),r=n.split(i),s=r.length,o=t.split(i),a=o.length;return a>1?{dateString:o.splice(0,a-s).join(i),timeString:o.splice(0,s).join(i)}:{dateString:t,timeString:""}},parseDateTimeInternal=function(t,e,i,n,r){var s,o,a;if(o=splitDateTime(i,r),s=$.datepicker._base_parseDate(t,o.dateString,n),""===o.timeString)return{date:s};if(a=$.datepicker.parseTime(e,o.timeString,r),!a)throw"Wrong time format";return{date:s,timeObj:a}},selectLocalTimezone=function(t,e){if(t&&t.timezone_select){var i=e||new Date;t.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(t,e){if(isNaN(t)||t>840||t<-720)return t;var i=t,n=i%60,r=(i-n)/60,s=e?":":"",o=(i>=0?"+":"-")+("0"+Math.abs(r)).slice(-2)+s+("0"+Math.abs(n)).slice(-2);return"+00:00"===o?"Z":o},$.timepicker.timezoneOffsetNumber=function(t){var e=t.toString().replace(":","");return"Z"===e.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(e)?("-"===e.substr(0,1)?-1:1)*(60*parseInt(e.substr(1,2),10)+parseInt(e.substr(3,2),10)):t},$.timepicker.timezoneAdjust=function(t,e){var i=$.timepicker.timezoneOffsetNumber(e);return isNaN(i)||t.setMinutes(t.getMinutes()+-t.getTimezoneOffset()-i),t},$.timepicker.timeRange=function(t,e,i){return $.timepicker.handleRange("timepicker",t,e,i)},$.timepicker.datetimeRange=function(t,e,i){$.timepicker.handleRange("datetimepicker",t,e,i)},$.timepicker.dateRange=function(t,e,i){$.timepicker.handleRange("datepicker",t,e,i)},$.timepicker.handleRange=function(t,e,i,n){function r(r,s){var o=e[t]("getDate"),a=i[t]("getDate"),l=r[t]("getDate");if(null!==o){var u=new Date(o.getTime()),c=new Date(o.getTime());u.setMilliseconds(u.getMilliseconds()+n.minInterval),c.setMilliseconds(c.getMilliseconds()+n.maxInterval),n.minInterval>0&&u>a?i[t]("setDate",u):n.maxInterval>0&&c<a?i[t]("setDate",c):o>a&&s[t]("setDate",l)}}function s(e,i,r){if(e.val()){var s=e[t].call(e,"getDate");null!==s&&n.minInterval>0&&("minDate"===r&&s.setMilliseconds(s.getMilliseconds()+n.minInterval),"maxDate"===r&&s.setMilliseconds(s.getMilliseconds()-n.minInterval)),s.getTime&&i[t].call(i,"option",r,s)}}n=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},n);var o=!1;return"timepicker"===t&&(o=!0,t="datetimepicker"),$.fn[t].call(e,$.extend({timeOnly:o,onClose:function(t,e){r($(this),i)},onSelect:function(t){s($(this),i,"minDate")}},n,n.start)),$.fn[t].call(i,$.extend({timeOnly:o,onClose:function(t,i){r($(this),e)},onSelect:function(t){s($(this),e,"maxDate")}},n,n.end)),r(e,i),s(e,i,"minDate"),s(i,e,"maxDate"),$([e.get(0),i.get(0)])},$.timepicker.log=function(){window.console&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+Math.floor(t/1e3)),this.microseconds=t%1e3,this}),$.timepicker.version="1.5.5"}})},{}],178:[function(t,e,i){!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,r=n._mouseInit,s=n._mouseDestroy;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),s.call(e)}}}(jQuery)},{}],179:[function(t,e,i){!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e){e=e||Q;var i=e.createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function n(t){var e=!!t&&"length"in t&&t.length,i=dt.type(t);return"function"!==i&&!dt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,i){if(dt.isFunction(e))return dt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return dt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(xt.test(e))return dt.filter(e,t,i);e=dt.filter(e,t)}return dt.grep(t,function(t){return rt.call(e,t)>-1!==i&&1===t.nodeType})}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return dt.each(t.match(Et)||[],function(t,i){e[i]=!0}),e}function a(t){return t}function l(t){throw t}function u(t,e,i){var n;try{t&&dt.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&dt.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}function c(){Q.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),dt.ready()}function h(){this.expando=dt.expando+h.uid++}function d(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Nt,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:It.test(i)?JSON.parse(i):i)}catch(r){}$t.set(t,e,i)}else i=void 0;return i}function f(t,e,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return dt.css(t,e,"")},l=a(),u=i&&i[3]||(dt.cssNumber[e]?"":"px"),c=(dt.cssNumber[e]||"px"!==u&&+l)&&Rt.exec(dt.css(t,e));if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do s=s||".5",c/=s,dt.style(t,e,c+u);while(s!==(s=a()/l)&&1!==s&&--o)}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}function p(t){var e,i=t.ownerDocument,n=t.nodeName,r=Wt[n];return r?r:(e=i.body.appendChild(i.createElement(n)),r=dt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Wt[n]=r,r)}function g(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)n=t[s],n.style&&(i=n.style.display,e?("none"===i&&(r[s]=jt.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&Ht(n)&&(r[s]=p(n))):"none"!==i&&(r[s]="none",jt.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}function m(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&dt.nodeName(t,e)?dt.merge([t],i):i}function v(t,e){for(var i=0,n=t.length;i<n;i++)jt.set(t[i],"globalEval",!e||jt.get(e[i],"globalEval"))}function y(t,e,i,n,r){for(var s,o,a,l,u,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if(s=t[f],s||0===s)if("object"===dt.type(s))dt.merge(d,s.nodeType?[s]:s);else if(Vt.test(s)){for(o=o||h.appendChild(e.createElement("div")),a=(Bt.exec(s)||["",""])[1].toLowerCase(),l=Gt[a]||Gt._default,o.innerHTML=l[1]+dt.htmlPrefilter(s)+l[2],c=l[0];c--;)o=o.lastChild;dt.merge(d,o.childNodes),o=h.firstChild,o.textContent=""}else d.push(e.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(n&&dt.inArray(s,n)>-1)r&&r.push(s);else if(u=dt.contains(s.ownerDocument,s),o=m(h.appendChild(s),"script"),u&&v(o),i)for(c=0;s=o[c++];)Ut.test(s.type||"")&&i.push(s);return h}function _(){return!0}function b(){return!1}function w(){try{return Q.activeElement}catch(t){}}function x(t,e,i,n,r,s){var o,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)x(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=b;else if(!r)return t;return 1===s&&(o=r,r=function(t){return dt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,r,n,i)})}function k(t,e){return dt.nodeName(t,"table")&&dt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function T(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function C(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function D(t,e){var i,n,r,s,o,a,l,u;if(1===e.nodeType){if(jt.hasData(t)&&(s=jt.access(t),o=jt.set(e,s),u=s.events)){delete o.handle,o.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)dt.event.add(e,r,u[r][i])}$t.hasData(t)&&(a=$t.access(t),l=dt.extend({},a),$t.set(e,l))}}function S(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Yt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function E(t,e,n,r){e=it.apply([],e);var s,o,a,l,u,c,h=0,d=t.length,f=d-1,p=e[0],g=dt.isFunction(p);if(g||d>1&&"string"==typeof p&&!ct.checkClone&&te.test(p))return t.each(function(i){var s=t.eq(i);g&&(e[0]=p.call(this,i,s.html())),E(s,e,n,r)});if(d&&(s=y(e,t[0].ownerDocument,!1,t,r),o=s.firstChild,1===s.childNodes.length&&(s=o),o||r)){for(a=dt.map(m(s,"script"),T),l=a.length;h<d;h++)u=s,h!==f&&(u=dt.clone(u,!0,!0),l&&dt.merge(a,m(u,"script"))),n.call(t[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,dt.map(a,C),h=0;h<l;h++)u=a[h],Ut.test(u.type||"")&&!jt.access(u,"globalEval")&&dt.contains(c,u)&&(u.src?dt._evalUrl&&dt._evalUrl(u.src):i(u.textContent.replace(ie,""),c))}return t}function O(t,e,i){for(var n,r=e?dt.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||dt.cleanData(m(n)),n.parentNode&&(i&&dt.contains(n.ownerDocument,n)&&v(m(n,"script")),n.parentNode.removeChild(n));return t}function A(t,e,i){var n,r,s,o,a=t.style;return i=i||se(t),i&&(o=i.getPropertyValue(e)||i[e],""!==o||dt.contains(t.ownerDocument,t)||(o=dt.style(t,e)),!ct.pixelMarginRight()&&re.test(o)&&ne.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function M(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function P(t){if(t in ce)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ue.length;i--;)if(t=ue[i]+e,t in ce)return t}function j(t,e,i){var n=Rt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e;
}function $(t,e,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=dt.css(t,i+Ft[s],!0,r)),n?("content"===i&&(o-=dt.css(t,"padding"+Ft[s],!0,r)),"margin"!==i&&(o-=dt.css(t,"border"+Ft[s]+"Width",!0,r))):(o+=dt.css(t,"padding"+Ft[s],!0,r),"padding"!==i&&(o+=dt.css(t,"border"+Ft[s]+"Width",!0,r)));return o}function I(t,e,i){var n,r=!0,s=se(t),o="border-box"===dt.css(t,"boxSizing",!1,s);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(n=A(t,e,s),(n<0||null==n)&&(n=t.style[e]),re.test(n))return n;r=o&&(ct.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+$(t,e,i||(o?"border":"content"),r,s)+"px"}function N(t,e,i,n,r){return new N.prototype.init(t,e,i,n,r)}function L(){de&&(t.requestAnimationFrame(L),dt.fx.tick())}function R(){return t.setTimeout(function(){he=void 0}),he=dt.now()}function F(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=Ft[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function H(t,e,i){for(var n,r=(Y.tweeners[e]||[]).concat(Y.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function z(t,e,i){var n,r,s,o,a,l,u,c,h="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&Ht(t),v=jt.get(t,"fxshow");i.queue||(o=dt._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,dt.queue(t,"fx").length||o.empty.fire()})}));for(n in e)if(r=e[n],fe.test(r)){if(delete e[n],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;m=!0}f[n]=v&&v[n]||dt.style(t,n)}if(l=!dt.isEmptyObject(e),l||!dt.isEmptyObject(f)){h&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=v&&v.display,null==u&&(u=jt.get(t,"display")),c=dt.css(t,"display"),"none"===c&&(u?c=u:(g([t],!0),u=t.style.display||u,c=dt.css(t,"display"),g([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===dt.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in f)l||(v?"hidden"in v&&(m=v.hidden):v=jt.access(t,"fxshow",{display:u}),s&&(v.hidden=!m),m&&g([t],!0),d.done(function(){m||g([t]),jt.remove(t,"fxshow");for(n in f)dt.style(t,n,f[n])})),l=H(m?v[n]:0,n,d),n in v||(v[n]=l.start,m&&(l.end=l.start,l.start=0))}}function W(t,e){var i,n,r,s,o;for(i in t)if(n=dt.camelCase(i),r=e[n],s=t[i],dt.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),o=dt.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=r)}else e[n]=r}function Y(t,e,i){var n,r,s=0,o=Y.prefilters.length,a=dt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=he||R(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,s=1-n,o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(s);return a.notifyWith(t,[u,s,i]),s<1&&l?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:dt.extend({},e),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},i),originalProperties:e,originalOptions:i,startTime:he||R(),duration:i.duration,tweens:[],createTween:function(e,i){var n=dt.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(W(c,u.opts.specialEasing);s<o;s++)if(n=Y.prefilters[s].call(u,t,c,u.opts))return dt.isFunction(n.stop)&&(dt._queueHooks(u.elem,u.opts.queue).stop=dt.proxy(n.stop,n)),n;return dt.map(c,H,u),dt.isFunction(u.opts.start)&&u.opts.start.call(t,u),dt.fx.timer(dt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(t){return t.getAttribute&&t.getAttribute("class")||""}function U(t,e,i,n){var r;if(dt.isArray(e))dt.each(e,function(e,r){i||De.test(t)?n(t,r):U(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==dt.type(e))n(t,e);else for(r in e)U(t+"["+r+"]",e[r],i,n)}function G(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(Et)||[];if(dt.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function V(t,e,i,n){function r(a){var l;return s[a]=!0,dt.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||o||s[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var s={},o=t===Re;return r(e.dataTypes[0])||!s["*"]&&r("*")}function X(t,e){var i,n,r=dt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&dt.extend(!0,t,n),t}function q(t,e,i){for(var n,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}function K(t,e,i,n){var r,s,o,a,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=u[l+" "+s]||u["* "+s],!o)for(r in u)if(a=r.split(" "),a[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){o===!0?o=u[r]:u[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function Z(t){return dt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var J=[],Q=t.document,tt=Object.getPrototypeOf,et=J.slice,it=J.concat,nt=J.push,rt=J.indexOf,st={},ot=st.toString,at=st.hasOwnProperty,lt=at.toString,ut=lt.call(Object),ct={},ht="3.0.0",dt=function(t,e){return new dt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^-ms-/,gt=/-([a-z])/g,mt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:ht,constructor:dt,length:0,toArray:function(){return et.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:et.call(this)},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return dt.each(this,t)},map:function(t){return this.pushStack(dt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:nt,sort:J.sort,splice:J.splice},dt.extend=dt.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||dt.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],n=t[e],o!==n&&(u&&n&&(dt.isPlainObject(n)||(r=dt.isArray(n)))?(r?(r=!1,s=i&&dt.isArray(i)?i:[]):s=i&&dt.isPlainObject(i)?i:{},o[e]=dt.extend(u,s,n)):void 0!==n&&(o[e]=n));return o},dt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=dt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ot.call(t))&&(!(e=tt(t))||(i=at.call(e,"constructor")&&e.constructor,"function"==typeof i&&lt.call(i)===ut))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?st[ot.call(t)]||"object":typeof t},globalEval:function(t){i(t)},camelCase:function(t){return t.replace(pt,"ms-").replace(gt,mt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?dt.merge(i,"string"==typeof t?[t]:t):nt.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:rt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],s=0,o=t.length,a=!i;s<o;s++)n=!e(t[s],s),n!==a&&r.push(t[s]);return r},map:function(t,e,i){var r,s,o=0,a=[];if(n(t))for(r=t.length;o<r;o++)s=e(t[o],o,i),null!=s&&a.push(s);else for(o in t)s=e(t[o],o,i),null!=s&&a.push(s);return it.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),dt.isFunction(t))return n=et.call(arguments,2),r=function(){return t.apply(e||this,n.concat(et.call(arguments)))},r.guid=t.guid=t.guid||dt.guid++,r},now:Date.now,support:ct}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=J[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,i,n){var r,s,o,a,l,u,c,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:z)!==j&&P(e),e=e||j,I)){if(11!==p&&(l=vt.exec(t)))if(r=l[1]){if(9===p){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(d&&(o=d.getElementById(r))&&F(e,o)&&o.id===r)return i.push(o),i}else{if(l[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(x.qsa&&!G[t+" "]&&(!N||!N.test(t))){if(1!==p)d=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,xt):e.setAttribute("id",a=H),u=D(t),s=u.length;s--;)u[s]="#"+a+" "+f(u[s]);c=u.join(","),d=yt.test(t)&&h(e.parentNode)||e}if(c)try{return J.apply(i,d.querySelectorAll(c)),i}catch(g){}finally{a===H&&e.removeAttribute("id")}}}return E(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>k.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function r(t){var e=j.createElement("fieldset");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)k.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Tt(e))!==t)}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function f(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=Y++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,l){var u,c,h,d=[W,a];if(l){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(h=e[H]||(e[H]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=c[s])&&u[0]===W&&u[1]===a)return d[2]=u[2];if(c[s]=d,d[2]=t(e,i,l))return!0}}}function g(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var r=0,s=i.length;r<s;r++)e(t,i[r],n);return n}function v(t,e,i,n,r){for(var s,o=[],a=0,l=t.length,u=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),u&&e.push(a)));return o}function y(t,e,i,r,s,o){return r&&!r[H]&&(r=y(r)),s&&!s[H]&&(s=y(s,o)),n(function(n,o,a,l){var u,c,h,d=[],f=[],p=o.length,g=n||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?g:v(g,d,t,a,l),_=i?s||(n?t:p||r)?[]:o:y;if(i&&i(y,_,a,l),r)for(u=v(_,f),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(_[f[c]]=!(y[f[c]]=h));if(n){if(s||t){if(s){for(u=[],c=_.length;c--;)(h=_[c])&&u.push(y[c]=h);s(null,_=[],u,l)}for(c=_.length;c--;)(h=_[c])&&(u=s?tt(n,h):d[c])>-1&&(n[u]=!(o[u]=h))}}else _=v(_===o?_.splice(p,_.length):_),s?s(null,o,_,l):J.apply(o,_)})}function _(t){for(var e,i,n,r=t.length,s=k.relative[t[0].type],o=s||k.relative[" "],a=s?1:0,l=p(function(t){return t===e},o,!0),u=p(function(t){return tt(e,t)>-1},o,!0),c=[function(t,i,n){var r=!s&&(n||i!==O)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,r}];a<r;a++)if(i=k.relative[t[a].type])c=[p(g(c),i)];else{if(i=k.filter[t[a].type].apply(null,t[a].matches),i[H]){for(n=++a;n<r&&!k.relative[t[n].type];n++);return y(a>1&&g(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&_(t.slice(a,n)),n<r&&_(t=t.slice(n)),n<r&&f(t))}c.push(i)}return g(c)}function b(t,i){var r=i.length>0,s=t.length>0,o=function(n,o,a,l,u){var c,h,d,f=0,p="0",g=n&&[],m=[],y=O,_=n||s&&k.find.TAG("*",u),b=W+=null==y?1:Math.random()||.1,w=_.length;for(u&&(O=o===j||o||u);p!==w&&null!=(c=_[p]);p++){if(s&&c){for(h=0,o||c.ownerDocument===j||(P(c),a=!I);d=t[h++];)if(d(c,o||j,a)){l.push(c);break}u&&(W=b)}r&&((c=!d&&c)&&f--,n&&g.push(c))}if(f+=p,r&&p!==f){for(h=0;d=i[h++];)d(g,m,o,a);if(n){if(f>0)for(;p--;)g[p]||m[p]||(m[p]=K.call(l));m=v(m)}J.apply(l,m),u&&!n&&m.length>0&&f+i.length>1&&e.uniqueSort(l)}return u&&(W=b,O=y),g};return r?n(o):o}var w,x,k,T,C,D,S,E,O,A,M,P,j,$,I,N,L,R,F,H="sizzle"+1*new Date,z=t.document,W=0,Y=0,B=i(),U=i(),G=i(),V=function(t,e){return t===e&&(M=!0),0},X={}.hasOwnProperty,q=[],K=q.pop,Z=q.push,J=q.push,Q=q.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",st=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(st),dt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),bt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},kt=function(){P()},Tt=p(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{J.apply(q=Q.call(z.childNodes),z.childNodes),q[z.childNodes.length].nodeType}catch(Ct){J={apply:q.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:z;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,$=j.documentElement,I=!C(j),z!==j&&(i=j.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",kt,!1):i.attachEvent&&i.attachEvent("onunload",kt)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(j.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(j.getElementsByClassName),x.getById=r(function(t){return $.appendChild(t).id=H,!j.getElementsByName||!j.getElementsByName(H).length}),x.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var i=e.getElementById(t);return i?[i]:[]}},k.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),k.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},k.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},L=[],N=[],(x.qsa=mt.test(j.querySelectorAll))&&(r(function(t){$.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||N.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=j.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),$.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=mt.test(R=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),L.push("!=",st)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),e=mt.test($.compareDocumentPosition),F=e||mt.test($.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===j||t.ownerDocument===z&&F(z,t)?-1:e===j||e.ownerDocument===z&&F(z,e)?1:A?tt(A,t)-tt(A,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!r||!s)return t===j?-1:e===j?1:r?-1:s?1:A?tt(A,t)-tt(A,e):0;if(r===s)return o(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===z?-1:l[n]===z?1:0},j):j},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==j&&P(t),i=i.replace(ct,"='$1']"),x.matchesSelector&&I&&!G[i+" "]&&(!L||!L.test(i))&&(!N||!N.test(i)))try{var n=R.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,j,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==j&&P(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==j&&P(t);var i=k.attrHandle[e.toLowerCase()],n=i&&X.call(k.attrHandle,e.toLowerCase())?i(t,e,!I):void 0;return void 0!==n?n:x.attributes||!I?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(wt,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(M=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return A=null,t},T=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=T(e);return i},k=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=D(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var s=e.attr(r,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,f,p,g=s!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(s){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(d=m,h=d[H]||(d[H]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===W&&u[1],_=f&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(_=f=0)||p.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[W,f,_];break}}else if(y&&(d=e,h=d[H]||(d[H]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===W&&u[1],_=f),_===!1)for(;(d=++f&&d&&d[g]||(_=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&(h=d[H]||(d[H]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[W,_]),d!==e)););return _-=r,_===n||_%n===0&&_/n>=0}}},PSEUDO:function(t,i){var r,s=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[H]?s(i):s.length>1?(r=[t,t,"",i],k.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=s(t,i),o=r.length;o--;)n=tt(t,r[o]),t[n]=!(e[n]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:n(function(t){var e=[],i=[],r=S(t.replace(at,"$1"));return r[H]?n(function(t,e,i,n){for(var s,o=r(t,null,n,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,r(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,bt),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var i;do if(i=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===$},focus:function(t){return t===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,D=e.tokenize=function(t,i){var n,r,s,o,a,l,u,c=U[t+" "];if(c)return i?0:c.slice(0);for(a=t,l=[],u=k.preFilter;a;){n&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=ut.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(o in k.filter)!(r=ft[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):U(t,l).slice(0)},S=e.compile=function(t,e){var i,n=[],r=[],s=G[t+" "];if(!s){for(e||(e=D(t)),i=e.length;i--;)s=_(e[i]),s[H]?n.push(s):r.push(s);s=G(t,b(r,n)),s.selector=t}return s},E=e.select=function(t,e,i,n){var r,s,o,a,l,u="function"==typeof t&&t,c=!n&&D(t=u.selector||t);if(i=i||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&x.getById&&9===e.nodeType&&I&&k.relative[s[1].type]){if(e=(k.find.ID(o.matches[0].replace(_t,bt),e)||[])[0],!e)return i;u&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=ft.needsContext.test(t)?0:s.length;r--&&(o=s[r],!k.relative[a=o.type]);)if((l=k.find[a])&&(n=l(o.matches[0].replace(_t,bt),yt.test(s[0].type)&&h(e.parentNode)||e))){if(s.splice(r,1),t=n.length&&f(s),!t)return J.apply(i,n),i;break}}return(u||S(t,c))(n,e,!I,i,!e||yt.test(t)&&h(e.parentNode)||e),i},x.sortStable=H.split("").sort(V).join("")===H,x.detectDuplicates=!!M,P(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(j.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);dt.find=vt,dt.expr=vt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=vt.uniqueSort,dt.text=vt.getText,dt.isXMLDoc=vt.isXML,dt.contains=vt.contains,dt.escapeSelector=vt.escape;var yt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&dt(t).is(i))break;n.push(t)}return n},_t=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},bt=dt.expr.match.needsContext,wt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xt=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?dt.find.matchesSelector(n,t)?[n]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<n;e++)if(dt.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)dt.find(t,r[e],i);return n>1?dt.uniqueSort(i):i},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&bt.test(t)?dt(t):t||[],!1).length}});var kt,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ct=dt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||kt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Tt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),wt.test(n[1])&&dt.isPlainObject(e))for(n in e)dt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Q.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):dt.isFunction(t)?void 0!==i.ready?i.ready(t):t(dt):dt.makeArray(t,this)};Ct.prototype=dt.fn,kt=dt(Q);var Dt=/^(?:parents|prev(?:Until|All))/,St={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e=dt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(dt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&dt(t);if(!bt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&dt.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?dt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?rt.call(dt(t),this[0]):rt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,i){return yt(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,i){return yt(t,"nextSibling",i)},prevUntil:function(t,e,i){
return yt(t,"previousSibling",i)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return t.contentDocument||dt.merge([],t.childNodes)}},function(t,e){dt.fn[t]=function(i,n){var r=dt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=dt.filter(n,r)),this.length>1&&(St[t]||dt.uniqueSort(r),Dt.test(t)&&r.reverse()),this.pushStack(r)}});var Et=/\S+/g;dt.Callbacks=function(t){t="string"==typeof t?o(t):dt.extend({},t);var e,i,n,r,s=[],a=[],l=-1,u=function(){for(r=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)s[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(l=s.length-1,a.push(i)),function n(e){dt.each(e,function(e,i){dt.isFunction(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==dt.type(i)&&n(i)})}(arguments),i&&!e&&u()),this},remove:function(){return dt.each(arguments,function(t,e){for(var i;(i=dt.inArray(e,s,i))>-1;)s.splice(i,1),i<=l&&l--}),this},has:function(t){return t?dt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=a=[],i||e||(s=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},dt.extend({Deferred:function(e){var i=[["notify","progress",dt.Callbacks("memory"),dt.Callbacks("memory"),2],["resolve","done",dt.Callbacks("once memory"),dt.Callbacks("once memory"),0,"resolved"],["reject","fail",dt.Callbacks("once memory"),dt.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return dt.Deferred(function(e){dt.each(i,function(i,n){var r=dt.isFunction(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=r&&r.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){function s(e,i,n,r){return function(){var u=this,c=arguments,h=function(){var t,h;if(!(e<o)){if(t=n.apply(u,c),t===i.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,dt.isFunction(h)?r?h.call(t,s(o,i,a,r),s(o,i,l,r)):(o++,h.call(t,s(o,i,a,r),s(o,i,l,r),s(o,i,a,i.notifyWith))):(n!==a&&(u=void 0,c=[t]),(r||i.resolveWith)(u,c))}},d=r?h:function(){try{h()}catch(t){dt.Deferred.exceptionHook&&dt.Deferred.exceptionHook(t,d.stackTrace),e+1>=o&&(n!==l&&(u=void 0,c=[t]),i.rejectWith(u,c))}};e?d():(dt.Deferred.getStackHook&&(d.stackTrace=dt.Deferred.getStackHook()),t.setTimeout(d))}}var o=0;return dt.Deferred(function(t){i[0][3].add(s(0,t,dt.isFunction(r)?r:a,t.notifyWith)),i[1][3].add(s(0,t,dt.isFunction(e)?e:a)),i[2][3].add(s(0,t,dt.isFunction(n)?n:l))}).promise()},promise:function(t){return null!=t?dt.extend(t,r):r}},s={};return dt.each(i,function(t,e){var o=e[2],a=e[5];r[e[1]]=o.add,a&&o.add(function(){n=a},i[3-t][2].disable,i[0][2].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=et.call(arguments),s=dt.Deferred(),o=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?et.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(u(t,s.done(o(i)).resolve,s.reject),"pending"===s.state()||dt.isFunction(r[i]&&r[i].then)))return s.then();for(;i--;)u(r[i],o(i),s.reject);return s.promise()}});var Ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;dt.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Ot.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)};var At=dt.Deferred();dt.fn.ready=function(t){return At.then(t),this},dt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?dt.readyWait++:dt.ready(!0)},ready:function(t){(t===!0?--dt.readyWait:dt.isReady)||(dt.isReady=!0,t!==!0&&--dt.readyWait>0||At.resolveWith(Q,[dt]))}}),dt.ready.then=At.then,"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?t.setTimeout(dt.ready):(Q.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Mt=function(t,e,i,n,r,s,o){var a=0,l=t.length,u=null==i;if("object"===dt.type(i)){r=!0;for(a in i)Mt(t,e,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,dt.isFunction(n)||(o=!0),u&&(o?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(dt(t),i)})),e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:u?e.call(t):l?e(t[0],i):s},Pt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Pt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[dt.camelCase(e)]=i;else for(n in e)r[dt.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][dt.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){dt.isArray(e)?e=e.map(dt.camelCase):(e=dt.camelCase(e),e=e in n?[e]:e.match(Et)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||dt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!dt.isEmptyObject(e)}};var jt=new h,$t=new h,It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/[A-Z]/g;dt.extend({hasData:function(t){return $t.hasData(t)||jt.hasData(t)},data:function(t,e,i){return $t.access(t,e,i)},removeData:function(t,e){$t.remove(t,e)},_data:function(t,e,i){return jt.access(t,e,i)},_removeData:function(t,e){jt.remove(t,e)}}),dt.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=$t.get(s),1===s.nodeType&&!jt.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=dt.camelCase(n.slice(5)),d(s,n,r[n])));jt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$t.set(this,t)}):Mt(this,function(e){var i;if(s&&void 0===e){if(i=$t.get(s,t),void 0!==i)return i;if(i=d(s,t),void 0!==i)return i}else this.each(function(){$t.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$t.remove(this,t)})}}),dt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=jt.get(t,e),i&&(!n||dt.isArray(i)?n=jt.access(t,e,dt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=dt.queue(t,e),n=i.length,r=i.shift(),s=dt._queueHooks(t,e),o=function(){dt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return jt.get(t,i)||jt.access(t,i,{empty:dt.Callbacks("once memory").add(function(){jt.remove(t,[e+"queue",i])})})}}),dt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?dt.queue(this[0],t):void 0===e?this:this.each(function(){var i=dt.queue(this,t,e);dt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&dt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=dt.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)i=jt.get(s[o],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rt=new RegExp("^(?:([+-])=|)("+Lt+")([a-z%]*)$","i"),Ft=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&dt.contains(t.ownerDocument,t)&&"none"===dt.css(t,"display")},zt=function(t,e,i,n){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return r},Wt={};dt.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?dt(this).show():dt(this).hide()})}});var Yt=/^(?:checkbox|radio)$/i,Bt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ut=/^$|\/(?:java|ecma)script/i,Gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Vt=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),i=Q.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),ct.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Xt=Q.documentElement,qt=/^key/,Kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Zt=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,i,n,r){var s,o,a,l,u,c,h,d,f,p,g,m=jt.get(t);if(m)for(i.handler&&(s=i,i=s.handler,r=s.selector),r&&dt.find.matchesSelector(Xt,r),i.guid||(i.guid=dt.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return"undefined"!=typeof dt&&dt.event.triggered!==e.type?dt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Et)||[""],u=e.length;u--;)a=Zt.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(h=dt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=dt.event.special[f]||{},c=dt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&dt.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,n,p,o)!==!1||t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),dt.event.global[f]=!0)},remove:function(t,e,i,n,r){var s,o,a,l,u,c,h,d,f,p,g,m=jt.hasData(t)&&jt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Et)||[""],u=e.length;u--;)if(a=Zt.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=dt.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)c=d[s],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));o&&!d.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||dt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)dt.event.remove(t,f+e[u],i,n,!0);dt.isEmptyObject(l)&&jt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=dt.event.fix(t),l=new Array(arguments.length),u=(jt.get(this,"events")||{})[a.type]||[],c=dt.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,a)!==!1){for(o=dt.event.handlers.call(this,a,u),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,n=((dt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l),void 0!==n&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(n=[],i=0;i<a;i++)s=e[i],r=s.selector+" ",void 0===n[r]&&(n[r]=s.needsContext?dt(r,this).index(l)>-1:dt.find(r,this,null,[l]).length),n[r]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},addProp:function(t,e){Object.defineProperty(dt.Event.prototype,t,{enumerable:!0,configurable:!0,get:dt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[dt.expando]?t:new dt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&dt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},dt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},dt.Event=function(t,e){return this instanceof dt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),void(this[dt.expando]=!0)):new dt.Event(t,e)},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&qt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},dt.event.addProp),dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){dt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===n||dt.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),dt.fn.extend({on:function(t,e,i,n){return x(this,t,e,i,n)},one:function(t,e,i,n){return x(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,dt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=b),this.each(function(){dt.event.remove(this,t,i,e)})}});var Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Qt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;dt.extend({htmlPrefilter:function(t){return t.replace(Jt,"<$1></$2>")},clone:function(t,e,i){var n,r,s,o,a=t.cloneNode(!0),l=dt.contains(t.ownerDocument,t);if(!(ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(o=m(a),s=m(t),n=0,r=s.length;n<r;n++)S(s[n],o[n]);if(e)if(i)for(s=s||m(t),o=o||m(a),n=0,r=s.length;n<r;n++)D(s[n],o[n]);else D(t,a);return o=m(a,"script"),o.length>0&&v(o,!l&&m(t,"script")),a},cleanData:function(t){for(var e,i,n,r=dt.event.special,s=0;void 0!==(i=t[s]);s++)if(Pt(i)){if(e=i[jt.expando]){if(e.events)for(n in e.events)r[n]?dt.event.remove(i,n):dt.removeEvent(i,n,e.handle);i[jt.expando]=void 0}i[$t.expando]&&(i[$t.expando]=void 0)}}}),dt.fn.extend({detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Mt(this,function(t){return void 0===t?dt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(dt.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Mt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Qt.test(t)&&!Gt[(Bt.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(dt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var i=this.parentNode;dt.inArray(this,t)<0&&(dt.cleanData(m(this)),i&&i.replaceChild(e,this))},t)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){dt.fn[t]=function(t){for(var i,n=[],r=dt(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),dt(r[o])[e](i),nt.apply(n,i.get());return this.pushStack(n)}});var ne=/^margin/,re=new RegExp("^("+Lt+")(?!px)[a-z%]+$","i"),se=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Xt.appendChild(o);var e=t.getComputedStyle(a);i="1%"!==e.top,s="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Xt.removeChild(o),a=null}}var i,n,r,s,o=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),dt.extend(ct,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),s}}))}();var oe=/^(none|table(?!-c[ea]).+)/,ae={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ue=["Webkit","Moz","ms"],ce=Q.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=A(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=dt.camelCase(e),l=t.style;return e=dt.cssProps[a]||(dt.cssProps[a]=P(a)||a),o=dt.cssHooks[e]||dt.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:l[e]:(s=typeof i,"string"===s&&(r=Rt.exec(i))&&r[1]&&(i=f(t,e,r),s="number"),null!=i&&i===i&&("number"===s&&(i+=r&&r[3]||(dt.cssNumber[a]?"":"px")),ct.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l[e]=i)),void 0)}},css:function(t,e,i,n){var r,s,o,a=dt.camelCase(e);return e=dt.cssProps[a]||(dt.cssProps[a]=P(a)||a),o=dt.cssHooks[e]||dt.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=A(t,e,n)),"normal"===r&&e in le&&(r=le[e]),""===i||i?(s=parseFloat(r),i===!0||isFinite(s)?s||0:r):r}}),dt.each(["height","width"],function(t,e){dt.cssHooks[e]={get:function(t,i,n){if(i)return!oe.test(dt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?I(t,e,n):zt(t,ae,function(){return I(t,e,n)})},set:function(t,i,n){var r,s=n&&se(t),o=n&&$(t,e,n,"border-box"===dt.css(t,"boxSizing",!1,s),s);return o&&(r=Rt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=dt.css(t,e)),j(t,i,o)}}}),dt.cssHooks.marginLeft=M(ct.reliableMarginLeft,function(t,e){if(e)return(parseFloat(A(t,"marginLeft"))||t.getBoundingClientRect().left-zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(t,e){dt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Ft[n]+e]=s[n]||s[n-2]||s[0];return r}},ne.test(t)||(dt.cssHooks[t+e].set=j)}),dt.fn.extend({css:function(t,e){return Mt(this,function(t,e,i){var n,r,s={},o=0;if(dt.isArray(e)){for(n=se(t),r=e.length;o<r;o++)s[e[o]]=dt.css(t,e[o],!1,n);return s}return void 0!==i?dt.style(t,e,i):dt.css(t,e)},t,e,arguments.length>1)}}),dt.Tween=N,N.prototype={constructor:N,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(dt.cssNumber[i]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,i=N.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=N.prototype.init,dt.fx.step={};var he,de,fe=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;dt.Animation=dt.extend(Y,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return f(i.elem,t,Rt.exec(e),i),i}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var i,n=0,r=t.length;n<r;n++)i=t[n],Y.tweeners[i]=Y.tweeners[i]||[],Y.tweeners[i].unshift(e)},prefilters:[z],prefilter:function(t,e){e?Y.prefilters.unshift(t):Y.prefilters.push(t)}}),dt.speed=function(t,e,i){var n=t&&"object"==typeof t?dt.extend({},t):{complete:i||!i&&e||dt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!dt.isFunction(e)&&e};return dt.fx.off||Q.hidden?n.duration=0:n.duration="number"==typeof n.duration?n.duration:n.duration in dt.fx.speeds?dt.fx.speeds[n.duration]:dt.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){dt.isFunction(n.old)&&n.old.call(this),n.queue&&dt.dequeue(this,n.queue)},n},dt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=dt.isEmptyObject(t),s=dt.speed(e,i,n),o=function(){var e=Y(this,dt.extend({},t),s);(r||jt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=dt.timers,o=jt.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&pe.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||dt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=jt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=dt.timers,o=n?n.length:0;for(i.finish=!0,dt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),dt.each(["toggle","show","hide"],function(t,e){var i=dt.fn[e];dt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(F(e,!0),t,n,r)}}),dt.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){dt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),dt.timers=[],dt.fx.tick=function(){var t,e=0,i=dt.timers;for(he=dt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||dt.fx.stop(),he=void 0},dt.fx.timer=function(t){dt.timers.push(t),t()?dt.fx.start():dt.timers.pop()},dt.fx.interval=13,dt.fx.start=function(){de||(de=t.requestAnimationFrame?t.requestAnimationFrame(L):t.setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(de):t.clearInterval(de),de=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(e,i){return e=dt.fx?dt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),i=e.appendChild(Q.createElement("option"));t.type="checkbox",ct.checkOn=""!==t.value,ct.optSelected=i.selected,t=Q.createElement("input"),t.value="t",t.type="radio",ct.radioValue="t"===t.value}();var ge,me=dt.expr.attrHandle;dt.fn.extend({attr:function(t,e){return Mt(this,dt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof t.getAttribute?dt.prop(t,e,i):(1===s&&dt.isXMLDoc(t)||(r=dt.attrHooks[e.toLowerCase()]||(dt.expr.match.bool.test(e)?ge:void 0)),void 0!==i?null===i?void dt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=dt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&dt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Et);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ge={set:function(t,e,i){return e===!1?dt.removeAttr(t,i):t.setAttribute(i,i),i}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=me[e]||dt.find.attr;me[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=me[o],me[o]=r,r=null!=i(t,e,n)?o:null,me[o]=s),r}});var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Mt(this,dt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[dt.propFix[t]||t]})}}),dt.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,r=dt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ct.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this});var _e=/[\t\r\n\f]/g;dt.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,l=0;if(dt.isFunction(t))return this.each(function(e){dt(this).addClass(t.call(this,e,B(this)))});if("string"==typeof t&&t)for(e=t.match(Et)||[];i=this[l++];)if(r=B(i),n=1===i.nodeType&&(" "+r+" ").replace(_e," ")){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=dt.trim(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,l=0;if(dt.isFunction(t))return this.each(function(e){dt(this).removeClass(t.call(this,e,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Et)||[];i=this[l++];)if(r=B(i),n=1===i.nodeType&&(" "+r+" ").replace(_e," ")){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=dt.trim(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):dt.isFunction(t)?this.each(function(i){dt(this).toggleClass(t.call(this,i,B(this),e),e)}):this.each(function(){var e,n,r,s;if("string"===i)for(n=0,r=dt(this),s=t.match(Et)||[];e=s[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=B(this),e&&jt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":jt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+B(i)+" ").replace(_e," ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g,we=/[\x20\t\r\n\f]+/g;dt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=dt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,dt(this).val()):t,null==r?r="":"number"==typeof r?r+="":dt.isArray(r)&&(r=dt.map(r,function(t){return null==t?"":t+""})),e=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=dt.valHooks[r.type]||dt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(be,""):null==i?"":i)}}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:dt.trim(dt.text(t)).replace(we," ")}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,s="select-one"===t.type,o=s?null:[],a=s?r+1:n.length,l=r<0?a:s?r:0;l<a;l++)if(i=n[l],(i.selected||l===r)&&!i.disabled&&(!i.parentNode.disabled||!dt.nodeName(i.parentNode,"optgroup"))){if(e=dt(i).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var i,n,r=t.options,s=dt.makeArray(e),o=r.length;o--;)n=r[o],(n.selected=dt.inArray(dt.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),
s}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(dt.isArray(e))return t.checked=dt.inArray(dt(t).val(),e)>-1}},ct.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var xe=/^(?:focusinfocus|focusoutblur)$/;dt.extend(dt.event,{trigger:function(e,i,n,r){var s,o,a,l,u,c,h,d=[n||Q],f=at.call(e,"type")?e.type:e,p=at.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!xe.test(f+dt.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[dt.expando]?e:new dt.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:dt.makeArray(i,[e]),h=dt.event.special[f]||{},r||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!r&&!h.noBubble&&!dt.isWindow(n)){for(l=h.delegateType||f,xe.test(l+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||Q)&&d.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=d[s++])&&!e.isPropagationStopped();)e.type=s>1?l:h.bindType||f,c=(jt.get(o,"events")||{})[e.type]&&jt.get(o,"handle"),c&&c.apply(o,i),c=u&&o[u],c&&c.apply&&Pt(o)&&(e.result=c.apply(o,i),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),i)!==!1||!Pt(n)||u&&dt.isFunction(n[f])&&!dt.isWindow(n)&&(a=n[u],a&&(n[u]=null),dt.event.triggered=f,n[f](),dt.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(t,e,i){var n=dt.extend(new dt.Event,i,{type:t,isSimulated:!0});dt.event.trigger(n,null,e)}}),dt.fn.extend({trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return dt.event.trigger(t,e,i,!0)}}),dt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){dt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ct.focusin="onfocusin"in t,ct.focusin||dt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){dt.event.simulate(e,t.target,dt.event.fix(t))};dt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=jt.access(n,e);r||n.addEventListener(t,i,!0),jt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=jt.access(n,e)-1;r?jt.access(n,e,r):(n.removeEventListener(t,i,!0),jt.remove(n,e))}}});var ke=t.location,Te=dt.now(),Ce=/\?/;dt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+e),i};var De=/\[\]$/,Se=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var i,n=[],r=function(t,e){var i=dt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(dt.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){r(this.name,this.value)});else for(i in t)U(i,t[i],e,r);return n.join("&")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&Oe.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!Yt.test(t))}).map(function(t,e){var i=dt(this).val();return null==i?null:dt.isArray(i)?dt.map(i,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:i.replace(Se,"\r\n")}}).get()}});var Ae=/%20/g,Me=/#.*$/,Pe=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,$e=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ie=/^(?:GET|HEAD)$/,Ne=/^\/\//,Le={},Re={},Fe="*/".concat("*"),He=Q.createElement("a");He.href=ke.href,dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:$e.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,dt.ajaxSettings),e):X(dt.ajaxSettings,t)},ajaxPrefilter:G(Le),ajaxTransport:G(Re),ajax:function(e,i){function n(e,i,n,a){var u,d,f,b,w,x=i;c||(c=!0,l&&t.clearTimeout(l),r=void 0,o=a||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(b=q(p,k,n)),b=K(p,b,k,u),u?(p.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(dt.lastModified[s]=w),w=k.getResponseHeader("etag"),w&&(dt.etag[s]=w)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=b.state,d=b.data,f=b.error,u=!f)):(f=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(i||x)+"",u?v.resolveWith(g,[d,x,k]):v.rejectWith(g,[k,x,f]),k.statusCode(_),_=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,p,u?d:f]),y.fireWith(g,[k,x]),h&&(m.trigger("ajaxComplete",[k,p]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,s,o,a,l,u,c,h,d,f,p=dt.ajaxSetup({},i),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?dt(g):dt.event,v=dt.Deferred(),y=dt.Callbacks("once memory"),_=p.statusCode||{},b={},w={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=je.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),n(0,e),this}};if(v.promise(k),p.url=((e||p.url||ke.href)+"").replace(Ne,ke.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Et)||[""],null==p.crossDomain){u=Q.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=He.protocol+"//"+He.host!=u.protocol+"//"+u.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=dt.param(p.data,p.traditional)),V(Le,p,i,k),c)return k;h=dt.event&&p.global,h&&0===dt.active++&&dt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ie.test(p.type),s=p.url.replace(Me,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ae,"+")):(f=p.url.slice(s.length),p.data&&(s+=(Ce.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(s=s.replace(Pe,""),f=(Ce.test(s)?"&":"?")+"_="+Te++ +f),p.url=s+f),p.ifModified&&(dt.lastModified[s]&&k.setRequestHeader("If-Modified-Since",dt.lastModified[s]),dt.etag[s]&&k.setRequestHeader("If-None-Match",dt.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(g,k,p)===!1||c))return k.abort();if(x="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),r=V(Re,p,i,k)){if(k.readyState=1,h&&m.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,r.send(b,n)}catch(T){if(c)throw T;n(-1,T)}}else n(-1,"No Transport");return k},getJSON:function(t,e,i){return dt.get(t,e,i,"json")},getScript:function(t,e){return dt.get(t,void 0,e,"script")}}),dt.each(["get","post"],function(t,e){dt[e]=function(t,i,n,r){return dt.isFunction(i)&&(r=r||n,n=i,i=void 0),dt.ajax(dt.extend({url:t,type:e,dataType:r,data:i,success:n},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},dt.fn.extend({wrapAll:function(t){var e;return this[0]&&(dt.isFunction(t)&&(t=t.call(this[0])),e=dt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return dt.isFunction(t)?this.each(function(e){dt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=dt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=dt.isFunction(t);return this.each(function(i){dt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){dt(this).replaceWith(this.childNodes)}),this}}),dt.expr.pseudos.hidden=function(t){return!dt.expr.pseudos.visible(t)},dt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},dt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var ze={0:200,1223:204},We=dt.ajaxSettings.xhr();ct.cors=!!We&&"withCredentials"in We,ct.ajax=We=!!We,dt.ajaxTransport(function(e){var i,n;if(ct.cors||We&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(i)throw l}},abort:function(){i&&i()}}}),dt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),dt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=dt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ye=[],Be=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||dt.expando+"_"+Te++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(e,i,n){var r,s,o,a=e.jsonp!==!1&&(Be.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Be.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=dt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Be,"$1"+r):e.jsonp!==!1&&(e.url+=(Ce.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||dt.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},n.always(function(){void 0===s?dt(t).removeProp(r):t[r]=s,e[r]&&(e.jsonpCallback=i.jsonpCallback,Ye.push(r)),o&&dt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),ct.createHTMLDocument=function(){var t=Q.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),dt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,s;return e||(ct.createHTMLDocument?(e=Q.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=Q.location.href,e.head.appendChild(n)):e=Q),r=wt.exec(t),s=!i&&[],r?[e.createElement(r[1])]:(r=y([t],e,s),s&&s.length&&dt(s).remove(),dt.merge([],r.childNodes))},dt.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return a>-1&&(n=dt.trim(t.slice(a)),t=t.slice(0,a)),dt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&dt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?dt("<div>").append(dt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.pseudos.animated=function(t){return dt.grep(dt.timers,function(e){return t===e.elem}).length},dt.offset={setOffset:function(t,e,i){var n,r,s,o,a,l,u,c=dt.css(t,"position"),h=dt(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),s=dt.css(t,"top"),l=dt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,u?(n=h.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),dt.isFunction(e)&&(e=e.call(t,i,dt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+o),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},dt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){dt.offset.setOffset(this,t,e)});var e,i,n,r,s=this[0];if(s)return s.getClientRects().length?(n=s.getBoundingClientRect(),n.width||n.height?(r=s.ownerDocument,i=Z(r),e=r.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n):{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===dt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),dt.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+dt.css(t[0],"borderTopWidth",!0),left:n.left+dt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-dt.css(i,"marginTop",!0),left:e.left-n.left-dt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||Xt})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;dt.fn[t]=function(n){return Mt(this,function(t,n,r){var s=Z(t);return void 0===r?s?s[e]:t[n]:void(s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r)},t,n,arguments.length)}}),dt.each(["top","left"],function(t,e){dt.cssHooks[e]=M(ct.pixelPosition,function(t,i){if(i)return i=A(t,e),re.test(i)?dt(t).position()[e]+"px":i})}),dt.each({Height:"height",Width:"width"},function(t,e){dt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){dt.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||s===!0?"margin":"border");return Mt(this,function(e,i,r){var s;return dt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?dt.css(e,i,a):dt.style(e,i,r,a)},e,o?r:void 0,o)}})}),dt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),dt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var Ue=t.jQuery,Ge=t.$;return dt.noConflict=function(e){return t.$===dt&&(t.$=Ge),e&&t.jQuery===dt&&(t.jQuery=Ue),dt},e||(t.jQuery=t.$=dt),dt})},{}],180:[function(t,e,i){!function(t,n){"object"==typeof i&&"undefined"!=typeof e?e.exports=n():"function"==typeof define&&define.amd?define(n):t.moment=n()}(this,function(){"use strict";function i(){return ln.apply(null,arguments)}function n(t){ln=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var i in e)a(e,i)&&(t[i]=e[i]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,i,n){return Lt(t,e,i,n,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=c()),t._pf}function d(t){if(null==t._isValid){var e=h(t),i=un.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function f(t){var e=u(NaN);return null!=t?l(h(e),t):h(e).userInvalidated=!0,e}function p(t){return void 0===t}function g(t,e){var i,n,r;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=h(e)),p(e._locale)||(t._locale=e._locale),cn.length>0)for(i in cn)n=cn[i],r=e[n],p(r)||(t[n]=r);return t}function m(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),hn===!1&&(hn=!0,i.updateOffset(this),hn=!1)}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t):Math.floor(t)}function _(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=y(e)),i}function b(t,e,i){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&_(t[n])!==_(e[n]))&&o++;return o+s}function w(t){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,e){var n=!0;return l(function(){return null!=i.deprecationHandler&&i.deprecationHandler(null,t),n&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function k(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),dn[t]||(w(e),dn[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){return"[object Object]"===Object.prototype.toString.call(t)}function D(t){var e,i;for(i in t)e=t[i],T(e)?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function S(t,e){var i,n=l({},t);for(i in e)a(e,i)&&(C(t[i])&&C(e[i])?(n[i]={},l(n[i],t[i]),l(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);return n}function E(t){null!=t&&this.set(t)}function O(t){return t?t.toLowerCase().replace("_","-"):t}function A(t){for(var e,i,n,r,s=0;s<t.length;){for(r=O(t[s]).split("-"),e=r.length,i=O(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=M(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&b(r,i,!0)>=e-1)break;e--}s++}return null}function M(i){var n=null;if(!mn[i]&&"undefined"!=typeof e&&e&&e.exports)try{n=pn._abbr,t("./locale/"+i),P(n)}catch(r){}return mn[i]}function P(t,e){var i;return t&&(i=p(e)?I(t):j(t,e),i&&(pn=i)),pn._abbr}function j(t,e){return null!==e?(e.abbr=t,null!=mn[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=S(mn[t]._config,e)):null!=e.parentLocale&&(null!=mn[e.parentLocale]?e=S(mn[e.parentLocale]._config,e):k("parentLocaleUndefined","specified parentLocale is not defined yet")),mn[t]=new E(e),P(t),mn[t]):(delete mn[t],null)}function $(t,e){if(null!=e){var i;null!=mn[t]&&(e=S(mn[t]._config,e)),i=new E(e),i.parentLocale=mn[t],mn[t]=i,P(t)}else null!=mn[t]&&(null!=mn[t].parentLocale?mn[t]=mn[t].parentLocale:null!=mn[t]&&delete mn[t]);return mn[t]}function I(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pn;if(!r(t)){if(e=M(t))return e;t=[t]}return A(t)}function N(){return fn(mn)}function L(t,e){var i=t.toLowerCase();vn[i]=vn[i+"s"]=vn[e]=t}function R(t){return"string"==typeof t?vn[t]||vn[t.toLowerCase()]:void 0}function F(t){var e,i,n={};for(i in t)a(t,i)&&(e=R(i),e&&(n[e]=t[i]));return n}function H(t,e){return function(n){return null!=n?(W(this,t,n),i.updateOffset(this,e),this):z(this,t)}}function z(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function W(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function Y(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=R(t),T(this[t]))return this[t](e);return this}function B(t,e,i){var n=""+Math.abs(t),r=e-n.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}function U(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(wn[t]=r),e&&(wn[e[0]]=function(){return B(r.apply(this,arguments),e[1],e[2])}),i&&(wn[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,i,n=t.match(yn);for(e=0,i=n.length;e<i;e++)wn[n[e]]?n[e]=wn[n[e]]:n[e]=G(n[e]);return function(e){var r,s="";for(r=0;r<i;r++)s+=n[r]instanceof Function?n[r].call(e,t):n[r];return s}}function X(t,e){return t.isValid()?(e=q(e,t.localeData()),bn[e]=bn[e]||V(e),bn[e](t)):t.localeData().invalidDate()}function q(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(_n.lastIndex=0;n>=0&&_n.test(t);)t=t.replace(_n,i),_n.lastIndex=0,n-=1;return t}function K(t,e,i){Fn[t]=T(e)?e:function(t,n){return t&&i?i:e}}function Z(t,e){return a(Fn,t)?Fn[t](e._strict,e._locale):new RegExp(J(t))}function J(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=_(t)}),i=0;i<t.length;i++)Hn[t[i]]=n}function et(t,e){tt(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function it(t,e,i){null!=e&&a(Hn,t)&&Hn[t](e,i._a,i,t)}function nt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return r(this._months)?this._months[t.month()]:this._months[Kn.test(e)?"format":"standalone"][t.month()]}function st(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Kn.test(e)?"format":"standalone"][t.month()]}function ot(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?(r=gn.call(this._shortMonthsParse,o),r!==-1?r:null):(r=gn.call(this._longMonthsParse,o),r!==-1?r:null):"MMM"===e?(r=gn.call(this._shortMonthsParse,o),r!==-1?r:(r=gn.call(this._longMonthsParse,o),r!==-1?r:null)):(r=gn.call(this._longMonthsParse,o),r!==-1?r:(r=gn.call(this._shortMonthsParse,o),r!==-1?r:null))}function at(t,e,i){var n,r,s;if(this._monthsParseExact)return ot.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=u([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function lt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return i=Math.min(t.date(),nt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ut(t){return null!=t?(lt(this,t),i.updateOffset(this,!0),this):z(this,"Month")}function ct(){return nt(this.year(),this.month())}function ht(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function dt(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ft(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;e<12;e++)i=u([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)n[e]=Q(n[e]),r[e]=Q(r[e]),s[e]=Q(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function pt(t){var e,i=t._a;return i&&h(t).overflow===-2&&(e=i[Wn]<0||i[Wn]>11?Wn:i[Yn]<1||i[Yn]>nt(i[zn],i[Wn])?Yn:i[Bn]<0||i[Bn]>24||24===i[Bn]&&(0!==i[Un]||0!==i[Gn]||0!==i[Vn])?Bn:i[Un]<0||i[Un]>59?Un:i[Gn]<0||i[Gn]>59?Gn:i[Vn]<0||i[Vn]>999?Vn:-1,h(t)._overflowDayOfYear&&(e<zn||e>Yn)&&(e=Yn),h(t)._overflowWeeks&&e===-1&&(e=Xn),h(t)._overflowWeekday&&e===-1&&(e=qn),h(t).overflow=e),t}function gt(t){var e,i,n,r,s,o,a=t._i,l=er.exec(a)||ir.exec(a);if(l){for(h(t).iso=!0,e=0,i=rr.length;e<i;e++)if(rr[e][1].exec(l[1])){r=rr[e][0],n=rr[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=sr.length;e<i;e++)if(sr[e][1].exec(l[3])){s=(l[2]||" ")+sr[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!nr.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),At(t)}else t._isValid=!1}function mt(t){var e=or.exec(t._i);return null!==e?void(t._d=new Date((+e[1]))):(gt(t),void(t._isValid===!1&&(delete t._isValid,i.createFromInputFallback(t))))}function vt(t,e,i,n,r,s,o){var a=new Date(t,e,i,n,r,s,o);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function yt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function _t(t){return bt(t)?366:365}function bt(t){return t%4===0&&t%100!==0||t%400===0}function wt(){return bt(this.year())}function xt(t,e,i){var n=7+e-i,r=(7+yt(t,0,n).getUTCDay()-e)%7;return-r+n-1}function kt(t,e,i,n,r){var s,o,a=(7+i-n)%7,l=xt(t,n,r),u=1+7*(e-1)+a+l;return u<=0?(s=t-1,o=_t(s)+u):u>_t(t)?(s=t+1,o=u-_t(t)):(s=t,o=u),{year:s,dayOfYear:o}}function Tt(t,e,i){var n,r,s=xt(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?(r=t.year()-1,n=o+Ct(r,e,i)):o>Ct(t.year(),e,i)?(n=o-Ct(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Ct(t,e,i){var n=xt(t,e,i),r=xt(t+1,e,i);return(_t(t)-n+r)/7}function Dt(t,e,i){return null!=t?t:null!=e?e:i}function St(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Et(t){var e,i,n,r,s=[];if(!t._d){for(n=St(t),t._w&&null==t._a[Yn]&&null==t._a[Wn]&&Ot(t),t._dayOfYear&&(r=Dt(t._a[zn],n[zn]),t._dayOfYear>_t(r)&&(h(t)._overflowDayOfYear=!0),i=yt(r,0,t._dayOfYear),t._a[Wn]=i.getUTCMonth(),t._a[Yn]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Bn]&&0===t._a[Un]&&0===t._a[Gn]&&0===t._a[Vn]&&(t._nextDay=!0,t._a[Bn]=0),t._d=(t._useUTC?yt:vt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Bn]=24)}}function Ot(t){var e,i,n,r,s,o,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,i=Dt(e.GG,t._a[zn],Tt(Rt(),1,4).year),n=Dt(e.W,1),r=Dt(e.E,1),(r<1||r>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,i=Dt(e.gg,t._a[zn],Tt(Rt(),s,o).year),n=Dt(e.w,1),null!=e.d?(r=e.d,(r<0||r>6)&&(l=!0)):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),n<1||n>Ct(i,s,o)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(a=kt(i,n,r,s,o),t._a[zn]=a.year,t._dayOfYear=a.dayOfYear)}function At(t){if(t._f===i.ISO_8601)return void gt(t);t._a=[],h(t).empty=!0;var e,n,r,s,o,a=""+t._i,l=a.length,u=0;for(r=q(t._f,t._locale).match(yn)||[],e=0;e<r.length;e++)s=r[e],n=(a.match(Z(s,t))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&h(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),wn[s]?(n?h(t).empty=!1:h(t).unusedTokens.push(s),it(s,n,t)):t._strict&&!n&&h(t).unusedTokens.push(s);h(t).charsLeftOver=l-u,a.length>0&&h(t).unusedInput.push(a),h(t).bigHour===!0&&t._a[Bn]<=12&&t._a[Bn]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[Bn]=Mt(t._locale,t._a[Bn],t._meridiem),Et(t),pt(t)}function Mt(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function Pt(t){var e,i,n,r,s;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],At(e),d(e)&&(s+=h(e).charsLeftOver,s+=10*h(e).unusedTokens.length,h(e).score=s,(null==n||s<n)&&(n=s,i=e));l(t,i||e)}function jt(t){if(!t._d){var e=F(t._i);t._a=o([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Et(t)}}function $t(t){var e=new m(pt(It(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function It(t){var e=t._i,i=t._f;return t._locale=t._locale||I(t._l),null===e||void 0===i&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new m(pt(e)):(r(i)?Pt(t):i?At(t):s(e)?t._d=e:Nt(t),d(t)||(t._d=null),t))}function Nt(t){var e=t._i;void 0===e?t._d=new Date(i.now()):s(e)?t._d=new Date(e.valueOf()):"string"==typeof e?mt(t):r(e)?(t._a=o(e.slice(0),function(t){return parseInt(t,10)}),Et(t)):"object"==typeof e?jt(t):"number"==typeof e?t._d=new Date(e):i.createFromInputFallback(t)}function Lt(t,e,i,n,r){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=i,s._i=t,s._f=e,s._strict=n,$t(s)}function Rt(t,e,i,n){return Lt(t,e,i,n,!1)}function Ft(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Rt();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function Ht(){var t=[].slice.call(arguments,0);return Ft("isBefore",t)}function zt(){var t=[].slice.call(arguments,0);return Ft("isAfter",t)}function Wt(t){var e=F(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=I(),
this._bubble()}function Yt(t){return t instanceof Wt}function Bt(t,e){U(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+B(~~(t/60),2)+e+B(~~t%60,2)})}function Ut(t,e){var i=(e||"").match(t)||[],n=i[i.length-1]||[],r=(n+"").match(hr)||["-",0,0],s=+(60*r[1])+_(r[2]);return"+"===r[0]?s:-s}function Gt(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(v(t)||s(t)?t.valueOf():Rt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Rt(t).local()}function Vt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Xt(t,e){var n,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Ut(Nn,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=Vt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!e||this._changeInProgress?he(this,se(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Vt(this):null!=t?this:NaN}function qt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Kt(t){return this.utcOffset(0,t)}function Zt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Vt(this),"m")),this}function Jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ut(In,this._i)),this}function Qt(t){return!!this.isValid()&&(t=t?Rt(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function te(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ee(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=It(t),t._a){var e=t._isUTC?u(t._a):Rt(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ie(){return!!this.isValid()&&!this._isUTC}function ne(){return!!this.isValid()&&this._isUTC}function re(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function se(t,e){var i,n,r,s=t,o=null;return Yt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(o=dr.exec(t))?(i="-"===o[1]?-1:1,s={y:0,d:_(o[Yn])*i,h:_(o[Bn])*i,m:_(o[Un])*i,s:_(o[Gn])*i,ms:_(o[Vn])*i}):(o=fr.exec(t))?(i="-"===o[1]?-1:1,s={y:oe(o[2],i),M:oe(o[3],i),w:oe(o[4],i),d:oe(o[5],i),h:oe(o[6],i),m:oe(o[7],i),s:oe(o[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=le(Rt(s.from),Rt(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),n=new Wt(s),Yt(t)&&a(t,"_locale")&&(n._locale=t._locale),n}function oe(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ae(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function le(t,e){var i;return t.isValid()&&e.isValid()?(e=Gt(e,t),t.isBefore(e)?i=ae(t,e):(i=ae(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ue(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ce(t,e){return function(i,n){var r,s;return null===n||isNaN(+n)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,r=se(i,n),he(this,r,t),this}}function he(t,e,n,r){var s=e._milliseconds,o=ue(e._days),a=ue(e._months);t.isValid()&&(r=null==r||r,s&&t._d.setTime(t._d.valueOf()+s*n),o&&W(t,"Date",z(t,"Date")+o*n),a&&lt(t,z(t,"Month")+a*n),r&&i.updateOffset(t,o||a))}function de(t,e){var i=t||Rt(),n=Gt(i,this).startOf("day"),r=this.diff(n,"days",!0),s=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse",o=e&&(T(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,Rt(i)))}function fe(){return new m(this)}function pe(t,e){var i=v(t)?t:Rt(t);return!(!this.isValid()||!i.isValid())&&(e=R(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function ge(t,e){var i=v(t)?t:Rt(t);return!(!this.isValid()||!i.isValid())&&(e=R(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function me(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function ve(t,e){var i,n=v(t)?t:Rt(t);return!(!this.isValid()||!n.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function ye(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function _e(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function be(t,e,i){var n,r,s,o;return this.isValid()?(n=Gt(t,this),n.isValid()?(r=6e4*(n.utcOffset()-this.utcOffset()),e=R(e),"year"===e||"month"===e||"quarter"===e?(o=we(this,n),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-n,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),i?o:y(o)):NaN):NaN}function we(t,e){var i,n,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return e-s<0?(i=t.clone().add(r-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(r+1,"months"),n=(e-s)/(i-s)),-(r+n)||0}function xe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ke(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():X(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Te(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=X(this,t);return this.localeData().postformat(e)}function Ce(t,e){return this.isValid()&&(v(t)&&t.isValid()||Rt(t).isValid())?se({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function De(t){return this.from(Rt(),t)}function Se(t,e){return this.isValid()&&(v(t)&&t.isValid()||Rt(t).isValid())?se({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ee(t){return this.to(Rt(),t)}function Oe(t){var e;return void 0===t?this._locale._abbr:(e=I(t),null!=e&&(this._locale=e),this)}function Ae(){return this._locale}function Me(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Pe(t){return t=R(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function je(){return this._d.valueOf()-6e4*(this._offset||0)}function $e(){return Math.floor(this.valueOf()/1e3)}function Ie(){return this._offset?new Date(this.valueOf()):this._d}function Ne(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Le(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Re(){return this.isValid()?this.toISOString():null}function Fe(){return d(this)}function He(){return l({},h(this))}function ze(){return h(this).overflow}function We(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ye(t,e){U(0,[t,t.length],0,e)}function Be(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ue(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ge(){return Ct(this.year(),1,4)}function Ve(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function Xe(t,e,i,n,r){var s;return null==t?Tt(this,n,r).year:(s=Ct(t,n,r),e>s&&(e=s),qe.call(this,t,e,i,n,r))}function qe(t,e,i,n,r){var s=kt(t,e,i,n,r),o=yt(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ke(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ze(t){return Tt(t,this._week.dow,this._week.doy).week}function Je(){return this._week.dow}function Qe(){return this._week.doy}function ti(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ei(t){var e=Tt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ii(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function ni(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function ri(t){return this._weekdaysShort[t.day()]}function si(t){return this._weekdaysMin[t.day()]}function oi(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?(r=gn.call(this._weekdaysParse,o),r!==-1?r:null):"ddd"===e?(r=gn.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=gn.call(this._minWeekdaysParse,o),r!==-1?r:null):"dddd"===e?(r=gn.call(this._weekdaysParse,o),r!==-1?r:(r=gn.call(this._shortWeekdaysParse,o),r!==-1?r:(r=gn.call(this._minWeekdaysParse,o),r!==-1?r:null))):"ddd"===e?(r=gn.call(this._shortWeekdaysParse,o),r!==-1?r:(r=gn.call(this._weekdaysParse,o),r!==-1?r:(r=gn.call(this._minWeekdaysParse,o),r!==-1?r:null))):(r=gn.call(this._minWeekdaysParse,o),r!==-1?r:(r=gn.call(this._weekdaysParse,o),r!==-1?r:(r=gn.call(this._shortWeekdaysParse,o),r!==-1?r:null)))}function ai(t,e,i){var n,r,s;if(this._weekdaysParseExact)return oi.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=u([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function li(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ii(t,this.localeData()),this.add(t-e,"d")):e}function ui(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ci(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function hi(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||pi.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function di(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||pi.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function fi(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||pi.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function pi(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],l=[],c=[];for(e=0;e<7;e++)i=u([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),l.push(s),c.push(n),c.push(r),c.push(s);for(o.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=Q(a[e]),l[e]=Q(l[e]),c[e]=Q(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function gi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function mi(){return this.hours()%12||12}function vi(){return this.hours()||24}function yi(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function _i(t,e){return e._meridiemParse}function bi(t){return"p"===(t+"").toLowerCase().charAt(0)}function wi(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function xi(t,e){e[Vn]=_(1e3*("0."+t))}function ki(){return this._isUTC?"UTC":""}function Ti(){return this._isUTC?"Coordinated Universal Time":""}function Ci(t){return Rt(1e3*t)}function Di(){return Rt.apply(null,arguments).parseZone()}function Si(t,e,i){var n=this._calendar[t];return T(n)?n.call(e,i):n}function Ei(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Oi(){return this._invalidDate}function Ai(t){return this._ordinal.replace("%d",t)}function Mi(t){return t}function Pi(t,e,i,n){var r=this._relativeTime[i];return T(r)?r(t,e,i,n):r.replace(/%d/i,t)}function ji(t,e){var i=this._relativeTime[t>0?"future":"past"];return T(i)?i(e):i.replace(/%s/i,e)}function $i(t,e,i,n){var r=I(),s=u().set(n,e);return r[i](s,t)}function Ii(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return $i(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=$i(t,n,i,"month");return r}function Ni(t,e,i,n){"boolean"==typeof t?("number"==typeof e&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,"number"==typeof e&&(i=e,e=void 0),e=e||"");var r=I(),s=t?r._week.dow:0;if(null!=i)return $i(e,(i+s)%7,n,"day");var o,a=[];for(o=0;o<7;o++)a[o]=$i(e,(o+s)%7,n,"day");return a}function Li(t,e){return Ii(t,e,"months")}function Ri(t,e){return Ii(t,e,"monthsShort")}function Fi(t,e,i){return Ni(t,e,i,"weekdays")}function Hi(t,e,i){return Ni(t,e,i,"weekdaysShort")}function zi(t,e,i){return Ni(t,e,i,"weekdaysMin")}function Wi(){var t=this._data;return this._milliseconds=Hr(this._milliseconds),this._days=Hr(this._days),this._months=Hr(this._months),t.milliseconds=Hr(t.milliseconds),t.seconds=Hr(t.seconds),t.minutes=Hr(t.minutes),t.hours=Hr(t.hours),t.months=Hr(t.months),t.years=Hr(t.years),this}function Yi(t,e,i,n){var r=se(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function Bi(t,e){return Yi(this,t,e,1)}function Ui(t,e){return Yi(this,t,e,-1)}function Gi(t){return t<0?Math.floor(t):Math.ceil(t)}function Vi(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Gi(qi(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=y(s/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,i=y(e/60),l.hours=i%24,o+=y(i/24),r=y(Xi(o)),a+=r,o-=Gi(qi(r)),n=y(a/12),a%=12,l.days=o,l.months=a,l.years=n,this}function Xi(t){return 4800*t/146097}function qi(t){return 146097*t/4800}function Ki(t){var e,i,n=this._milliseconds;if(t=R(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+Xi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(qi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function Zi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function Ji(t){return function(){return this.as(t)}}function Qi(t){return t=R(t),this[t+"s"]()}function tn(t){return function(){return this._data[t]}}function en(){return y(this.days()/7)}function nn(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function rn(t,e,i){var n=se(t).abs(),r=is(n.as("s")),s=is(n.as("m")),o=is(n.as("h")),a=is(n.as("d")),l=is(n.as("M")),u=is(n.as("y")),c=r<ns.s&&["s",r]||s<=1&&["m"]||s<ns.m&&["mm",s]||o<=1&&["h"]||o<ns.h&&["hh",o]||a<=1&&["d"]||a<ns.d&&["dd",a]||l<=1&&["M"]||l<ns.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=i,nn.apply(null,c)}function sn(t,e){return void 0!==ns[t]&&(void 0===e?ns[t]:(ns[t]=e,!0))}function on(t){var e=this.localeData(),i=rn(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function an(){var t,e,i,n=rs(this._milliseconds)/1e3,r=rs(this._days),s=rs(this._months);t=y(n/60),e=y(t/60),n%=60,t%=60,i=y(s/12),s%=12;var o=i,a=s,l=r,u=e,c=t,h=n,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var ln,un;un=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var cn=i.momentProperties=[],hn=!1,dn={};i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;var fn;fn=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)a(t,e)&&i.push(e);return i};var pn,gn,mn={},vn={},yn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_n=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bn={},wn={},xn=/\d/,kn=/\d\d/,Tn=/\d{3}/,Cn=/\d{4}/,Dn=/[+-]?\d{6}/,Sn=/\d\d?/,En=/\d\d\d\d?/,On=/\d\d\d\d\d\d?/,An=/\d{1,3}/,Mn=/\d{1,4}/,Pn=/[+-]?\d{1,6}/,jn=/\d+/,$n=/[+-]?\d+/,In=/Z|[+-]\d\d:?\d\d/gi,Nn=/Z|[+-]\d\d(?::?\d\d)?/gi,Ln=/[+-]?\d+(\.\d{1,3})?/,Rn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Fn={},Hn={},zn=0,Wn=1,Yn=2,Bn=3,Un=4,Gn=5,Vn=6,Xn=7,qn=8;gn=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),K("M",Sn),K("MM",Sn,kn),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Wn]=_(t)-1}),tt(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[Wn]=r:h(i).invalidMonth=t});var Kn=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Zn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Jn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qn=Rn,tr=Rn,er=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ir=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,nr=/Z|[+-]\d\d(?::?\d\d)?/,rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],or=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),L("year","y"),K("Y",$n),K("YY",Sn,kn),K("YYYY",Mn,Cn),K("YYYYY",Pn,Dn),K("YYYYYY",Pn,Dn),tt(["YYYYY","YYYYYY"],zn),tt("YYYY",function(t,e){e[zn]=2===t.length?i.parseTwoDigitYear(t):_(t)}),tt("YY",function(t,e){e[zn]=i.parseTwoDigitYear(t)}),tt("Y",function(t,e){e[zn]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var ar=H("FullYear",!0);i.ISO_8601=function(){};var lr=x("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()}),ur=x("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}),cr=function(){return Date.now?Date.now():+new Date};Bt("Z",":"),Bt("ZZ",""),K("Z",Nn),K("ZZ",Nn),tt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ut(Nn,t)});var hr=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};var dr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,fr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;se.fn=Wt.prototype;var pr=ce(1,"add"),gr=ce(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var mr=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ye("gggg","weekYear"),Ye("ggggg","weekYear"),Ye("GGGG","isoWeekYear"),Ye("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),K("G",$n),K("g",$n),K("GG",Sn,kn),K("gg",Sn,kn),K("GGGG",Mn,Cn),K("gggg",Mn,Cn),K("GGGGG",Pn,Dn),K("ggggg",Pn,Dn),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=_(t)}),et(["gg","GG"],function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),L("quarter","Q"),K("Q",xn),tt("Q",function(t,e){e[Wn]=3*(_(t)-1)}),U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),K("w",Sn),K("ww",Sn,kn),K("W",Sn),K("WW",Sn,kn),et(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=_(t)});var vr={dow:0,doy:6};U("D",["DD",2],"Do","date"),L("date","D"),K("D",Sn),K("DD",Sn,kn),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Yn),tt("Do",function(t,e){e[Yn]=_(t.match(Sn)[0],10)});var yr=H("Date",!0);U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),K("d",Sn),K("e",Sn),K("E",Sn),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:h(i).invalidWeekday=t}),et(["d","e","E"],function(t,e,i,n){e[n]=_(t)});var _r="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),br="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xr=Rn,kr=Rn,Tr=Rn;U("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),K("DDD",An),K("DDDD",Tn),tt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=_(t)}),U("H",["HH",2],0,"hour"),U("h",["hh",2],0,mi),U("k",["kk",2],0,vi),U("hmm",0,0,function(){return""+mi.apply(this)+B(this.minutes(),2)}),U("hmmss",0,0,function(){return""+mi.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),yi("a",!0),yi("A",!1),L("hour","h"),K("a",_i),K("A",_i),K("H",Sn),K("h",Sn),K("HH",Sn,kn),K("hh",Sn,kn),K("hmm",En),K("hmmss",On),K("Hmm",En),K("Hmmss",On),tt(["H","HH"],Bn),tt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),tt(["h","hh"],function(t,e,i){e[Bn]=_(t),h(i).bigHour=!0}),tt("hmm",function(t,e,i){var n=t.length-2;e[Bn]=_(t.substr(0,n)),e[Un]=_(t.substr(n)),h(i).bigHour=!0}),tt("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[Bn]=_(t.substr(0,n)),e[Un]=_(t.substr(n,2)),e[Gn]=_(t.substr(r)),h(i).bigHour=!0}),tt("Hmm",function(t,e,i){var n=t.length-2;e[Bn]=_(t.substr(0,n)),e[Un]=_(t.substr(n))}),tt("Hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[Bn]=_(t.substr(0,n)),e[Un]=_(t.substr(n,2)),e[Gn]=_(t.substr(r))});var Cr=/[ap]\.?m?\.?/i,Dr=H("Hours",!0);U("m",["mm",2],0,"minute"),L("minute","m"),K("m",Sn),K("mm",Sn,kn),tt(["m","mm"],Un);var Sr=H("Minutes",!1);U("s",["ss",2],0,"second"),L("second","s"),K("s",Sn),K("ss",Sn,kn),tt(["s","ss"],Gn);var Er=H("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),K("S",An,xn),K("SS",An,kn),K("SSS",An,Tn);var Or;for(Or="SSSS";Or.length<=9;Or+="S")K(Or,jn);for(Or="S";Or.length<=9;Or+="S")tt(Or,xi);var Ar=H("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Mr=m.prototype;Mr.add=pr,Mr.calendar=de,Mr.clone=fe,Mr.diff=be,Mr.endOf=Pe,Mr.format=Te,Mr.from=Ce,Mr.fromNow=De,Mr.to=Se,Mr.toNow=Ee,Mr.get=Y,Mr.invalidAt=ze,Mr.isAfter=pe,Mr.isBefore=ge,Mr.isBetween=me,Mr.isSame=ve,Mr.isSameOrAfter=ye,Mr.isSameOrBefore=_e,Mr.isValid=Fe,Mr.lang=mr,Mr.locale=Oe,Mr.localeData=Ae,Mr.max=ur,Mr.min=lr,Mr.parsingFlags=He,Mr.set=Y,Mr.startOf=Me,Mr.subtract=gr,Mr.toArray=Ne,Mr.toObject=Le,Mr.toDate=Ie,Mr.toISOString=ke,Mr.toJSON=Re,Mr.toString=xe,Mr.unix=$e,Mr.valueOf=je,Mr.creationData=We,Mr.year=ar,Mr.isLeapYear=wt,Mr.weekYear=Be,Mr.isoWeekYear=Ue,Mr.quarter=Mr.quarters=Ke,Mr.month=ut,Mr.daysInMonth=ct,Mr.week=Mr.weeks=ti,Mr.isoWeek=Mr.isoWeeks=ei,Mr.weeksInYear=Ve,Mr.isoWeeksInYear=Ge,Mr.date=yr,Mr.day=Mr.days=li,Mr.weekday=ui,Mr.isoWeekday=ci,Mr.dayOfYear=gi,Mr.hour=Mr.hours=Dr,Mr.minute=Mr.minutes=Sr,Mr.second=Mr.seconds=Er,Mr.millisecond=Mr.milliseconds=Ar,Mr.utcOffset=Xt,Mr.utc=Kt,Mr.local=Zt,Mr.parseZone=Jt,Mr.hasAlignedHourOffset=Qt,Mr.isDST=te,Mr.isDSTShifted=ee,Mr.isLocal=ie,Mr.isUtcOffset=ne,Mr.isUtc=re,Mr.isUTC=re,Mr.zoneAbbr=ki,Mr.zoneName=Ti,Mr.dates=x("dates accessor is deprecated. Use date instead.",yr),Mr.months=x("months accessor is deprecated. Use month instead",ut),Mr.years=x("years accessor is deprecated. Use year instead",ar),Mr.zone=x("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",qt);var Pr=Mr,jr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},$r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ir="Invalid date",Nr="%d",Lr=/\d{1,2}/,Rr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fr=E.prototype;Fr._calendar=jr,Fr.calendar=Si,Fr._longDateFormat=$r,Fr.longDateFormat=Ei,Fr._invalidDate=Ir,Fr.invalidDate=Oi,Fr._ordinal=Nr,Fr.ordinal=Ai,Fr._ordinalParse=Lr,Fr.preparse=Mi,Fr.postformat=Mi,Fr._relativeTime=Rr,Fr.relativeTime=Pi,Fr.pastFuture=ji,Fr.set=D,Fr.months=rt,Fr._months=Zn,Fr.monthsShort=st,Fr._monthsShort=Jn,Fr.monthsParse=at,Fr._monthsRegex=tr,Fr.monthsRegex=dt,Fr._monthsShortRegex=Qn,Fr.monthsShortRegex=ht,Fr.week=Ze,Fr._week=vr,Fr.firstDayOfYear=Qe,Fr.firstDayOfWeek=Je,Fr.weekdays=ni,Fr._weekdays=_r,Fr.weekdaysMin=si,Fr._weekdaysMin=wr,Fr.weekdaysShort=ri,Fr._weekdaysShort=br,Fr.weekdaysParse=ai,Fr._weekdaysRegex=xr,Fr.weekdaysRegex=hi,Fr._weekdaysShortRegex=kr,Fr.weekdaysShortRegex=di,Fr._weekdaysMinRegex=Tr,Fr.weekdaysMinRegex=fi,Fr.isPM=bi,Fr._meridiemParse=Cr,Fr.meridiem=wi,P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),i.lang=x("moment.lang is deprecated. Use moment.locale instead.",P),i.langData=x("moment.langData is deprecated. Use moment.localeData instead.",I);var Hr=Math.abs,zr=Ji("ms"),Wr=Ji("s"),Yr=Ji("m"),Br=Ji("h"),Ur=Ji("d"),Gr=Ji("w"),Vr=Ji("M"),Xr=Ji("y"),qr=tn("milliseconds"),Kr=tn("seconds"),Zr=tn("minutes"),Jr=tn("hours"),Qr=tn("days"),ts=tn("months"),es=tn("years"),is=Math.round,ns={s:45,m:45,h:22,d:26,M:11},rs=Math.abs,ss=Wt.prototype;ss.abs=Wi,ss.add=Bi,ss.subtract=Ui,ss.as=Ki,ss.asMilliseconds=zr,ss.asSeconds=Wr,ss.asMinutes=Yr,ss.asHours=Br,ss.asDays=Ur,ss.asWeeks=Gr,ss.asMonths=Vr,ss.asYears=Xr,ss.valueOf=Zi,ss._bubble=Vi,ss.get=Qi,ss.milliseconds=qr,ss.seconds=Kr,ss.minutes=Zr,ss.hours=Jr,ss.days=Qr,ss.weeks=en,ss.months=ts,ss.years=es,ss.humanize=on,ss.toISOString=an,ss.toString=an,ss.toJSON=an,ss.locale=Oe,ss.localeData=Ae,ss.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",an),ss.lang=mr,U("X",0,0,"unix"),U("x",0,0,"valueOf"),K("x",$n),K("X",Ln),tt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,i){i._d=new Date(_(t))}),i.version="2.13.0",n(Rt),i.fn=Pr,i.min=Ht,i.max=zt,i.now=cr,i.utc=u,i.unix=Ci,i.months=Li,i.isDate=s,i.locale=P,i.invalid=f,i.duration=se,i.isMoment=v,i.weekdays=Fi,i.parseZone=Di,i.localeData=I,i.isDuration=Yt,i.monthsShort=Ri,i.weekdaysMin=zi,i.defineLocale=j,i.updateLocale=$,i.locales=N,i.weekdaysShort=Hi,i.normalizeUnits=R,i.relativeTimeThreshold=sn,i.prototype=Pr;var os=i;return os})},{}],181:[function(t,e,i){i.endianness=function(){return"LE"},i.hostname=function(){return"undefined"!=typeof location?location.hostname:""},i.loadavg=function(){return[]},i.uptime=function(){return 0},i.freemem=function(){return Number.MAX_VALUE},i.totalmem=function(){return Number.MAX_VALUE},i.cpus=function(){return[]},i.type=function(){return"Browser"},i.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},i.networkInterfaces=i.getNetworkInterfaces=function(){return{}},i.arch=function(){return"javascript"},i.platform=function(){return"browser"},i.tmpdir=i.tmpDir=function(){return"/tmp"},i.EOL="\n"},{}],182:[function(t,e,i){(function(t){"use strict";function i(e){for(var i=new Array(arguments.length-1),n=0;n<i.length;)i[n++]=arguments[n];t.nextTick(function(){e.apply(null,i)})}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=i:e.exports=t.nextTick}).call(this,t("_process"))},{_process:183}],183:[function(t,e,i){function n(){d&&c&&(d=!1,c.length?h=c.concat(h):f=-1,h.length&&r())}function r(){if(!d){var t=a(n);d=!0;for(var e=h.length;e;){for(c=h,h=[];++f<e;)c&&c[f].run();
f=-1,e=h.length}c=null,d=!1,l(t)}}function s(t,e){this.fun=t,this.array=e}function o(){}var a,l,u=e.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(t){l=function(){throw new Error("clearTimeout is not defined")}}}();var c,h=[],d=!1,f=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new s(t,e)),1!==h.length||d||a(r,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],184:[function(t,e,i){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":185}],185:[function(t,e,i){"use strict";function n(t){return this instanceof n?(u.call(this,t),c.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new n(t)}function r(){this.allowHalfOpen||this._writableState.ended||a(s,this)}function s(t){t.end()}var o=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};e.exports=n;var a=t("process-nextick-args"),l=t("core-util-is");l.inherits=t("inherits");var u=t("./_stream_readable"),c=t("./_stream_writable");l.inherits(n,u);for(var h=o(c.prototype),d=0;d<h.length;d++){var f=h[d];n.prototype[f]||(n.prototype[f]=c.prototype[f])}},{"./_stream_readable":187,"./_stream_writable":189,"core-util-is":169,inherits:174,"process-nextick-args":182}],186:[function(t,e,i){"use strict";function n(t){return this instanceof n?void r.call(this,t):new n(t)}e.exports=n;var r=t("./_stream_transform"),s=t("core-util-is");s.inherits=t("inherits"),s.inherits(n,r),n.prototype._transform=function(t,e,i){i(null,t)}},{"./_stream_transform":188,"core-util-is":169,inherits:174}],187:[function(t,e,i){(function(i){"use strict";function n(e,i){$=$||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,i instanceof $&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(j||(j=t("string_decoder/").StringDecoder),this.decoder=new j(e.encoding),this.encoding=e.encoding)}function r(e){return $=$||t("./_stream_duplex"),this instanceof r?(this._readableState=new n(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void E.call(this)):new r(e)}function s(t,e,i,n,r){var s=u(e,i);if(s)t.emit("error",s);else if(null===i)e.reading=!1,c(t,e);else if(e.objectMode||i&&i.length>0)if(e.ended&&!r){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&r){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else!e.decoder||r||n||(i=e.decoder.write(i)),r||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&h(t)),f(t,e);else r||(e.reading=!1);return o(e)}function o(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function l(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function u(t,e){var i=null;return S.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function c(t,e){if(!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,h(t)}}function h(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(M("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?C(d,t):d(t))}function d(t){M("emit readable"),t.emit("readable"),_(t)}function f(t,e){e.readingMore||(e.readingMore=!0,C(p,t,e))}function p(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(M("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;M("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&O(t,"data")&&(e.flowing=!0,_(t))}}function m(t){M("readable nexttick read 0"),t.read(0)}function v(t,e){e.resumeScheduled||(e.resumeScheduled=!0,C(y,t,e))}function y(t,e){e.reading||(M("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),_(t),e.flowing&&!e.reading&&t.read(0)}function _(t){var e=t._readableState;if(M("flow",e.flowing),e.flowing)do var i=t.read();while(null!==i&&e.flowing)}function b(t,e){var i,n=e.buffer,r=e.length,s=!!e.decoder,o=!!e.objectMode;if(0===n.length)return null;if(0===r)i=null;else if(o)i=n.shift();else if(!t||t>=r)i=s?n.join(""):1===n.length?n[0]:S.concat(n,r),n.length=0;else if(t<n[0].length){var a=n[0];i=a.slice(0,t),n[0]=a.slice(t)}else if(t===n[0].length)i=n.shift();else{i=s?"":new S(t);for(var l=0,u=0,c=n.length;u<c&&l<t;u++){var a=n[0],h=Math.min(t-l,a.length);s?i+=a.slice(0,h):a.copy(i,l,0,h),h<a.length?n[0]=a.slice(h):n.shift(),l+=h}}return i}function w(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,C(x,e,t))}function x(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function k(t,e){for(var i=0,n=t.length;i<n;i++)e(t[i],i)}function T(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}e.exports=r;var C=t("process-nextick-args"),D=t("isarray"),S=t("buffer").Buffer;r.ReadableState=n;var E,O=(t("events"),function(t,e){return t.listeners(e).length});!function(){try{E=t("stream")}catch(e){}finally{E||(E=t("events").EventEmitter)}}();var S=t("buffer").Buffer,A=t("core-util-is");A.inherits=t("inherits");var M,P=t("util");M=P&&P.debuglog?P.debuglog("stream"):function(){};var j;A.inherits(r,E);var $,$;r.prototype.push=function(t,e){var i=this._readableState;return i.objectMode||"string"!=typeof t||(e=e||i.defaultEncoding,e!==i.encoding&&(t=new S(t,e),e="")),s(this,i,t,e,!1)},r.prototype.unshift=function(t){var e=this._readableState;return s(this,e,t,"",!0)},r.prototype.isPaused=function(){return this._readableState.flowing===!1},r.prototype.setEncoding=function(e){return j||(j=t("string_decoder/").StringDecoder),this._readableState.decoder=new j(e),this._readableState.encoding=e,this};var I=8388608;r.prototype.read=function(t){M("read",t);var e=this._readableState,i=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return M("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?w(this):h(this),null;if(t=l(t,e),0===t&&e.ended)return 0===e.length&&w(this),null;var n=e.needReadable;M("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,M("length less than watermark",n)),(e.ended||e.reading)&&(n=!1,M("reading or ended",n)),n&&(M("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),n&&!e.reading&&(t=l(i,e));var r;return r=t>0?b(t,e):null,null===r&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),i!==t&&e.ended&&0===e.length&&w(this),null!==r&&this.emit("data",r),r},r.prototype._read=function(t){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(t,e){function n(t){M("onunpipe"),t===h&&s()}function r(){M("onend"),t.end()}function s(){M("cleanup"),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("drain",m),t.removeListener("error",a),t.removeListener("unpipe",n),h.removeListener("end",r),h.removeListener("end",s),h.removeListener("data",o),v=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function o(e){M("ondata");var i=t.write(e);!1===i&&(1!==d.pipesCount||d.pipes[0]!==t||1!==h.listenerCount("data")||v||(M("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++),h.pause())}function a(e){M("onerror",e),c(),t.removeListener("error",a),0===O(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",u),c()}function u(){M("onfinish"),t.removeListener("close",l),c()}function c(){M("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,M("pipe count=%d opts=%j",d.pipesCount,e);var f=(!e||e.end!==!1)&&t!==i.stdout&&t!==i.stderr,p=f?r:s;d.endEmitted?C(p):h.once("end",p),t.on("unpipe",n);var m=g(h);t.on("drain",m);var v=!1;return h.on("data",o),t._events&&t._events.error?D(t._events.error)?t._events.error.unshift(a):t._events.error=[a,t._events.error]:t.on("error",a),t.once("close",l),t.once("finish",u),t.emit("pipe",h),d.flowing||(M("pipe resume"),h.resume()),t},r.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<n;r++)i[r].emit("unpipe",this);return this}var r=T(e.pipes,t);return r===-1?this:(e.pipes.splice(r,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},r.prototype.on=function(t,e){var i=E.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&h(this,n):C(m,this))}return i},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var t=this._readableState;return t.flowing||(M("resume"),t.flowing=!0,v(this,t)),this},r.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(t){var e=this._readableState,i=!1,n=this;t.on("end",function(){if(M("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(r){if(M("wrapped data"),e.decoder&&(r=e.decoder.write(r)),(!e.objectMode||null!==r&&void 0!==r)&&(e.objectMode||r&&r.length)){var s=n.push(r);s||(i=!0,t.pause())}});for(var r in t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));var s=["error","close","destroy","pause","resume"];return k(s,function(e){t.on(e,n.emit.bind(n,e))}),n._read=function(e){M("wrapped _read",e),i&&(i=!1,t.resume())},n},r._fromList=b}).call(this,t("_process"))},{"./_stream_duplex":185,_process:183,buffer:166,"core-util-is":169,events:172,inherits:174,isarray:176,"process-nextick-args":182,"string_decoder/":197,util:164}],188:[function(t,e,i){"use strict";function n(t){this.afterTransform=function(e,i){return r(t,e,i)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(t,e,i){var n=t._transformState;n.transforming=!1;var r=n.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==i&&void 0!==i&&t.push(i),r&&r(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);a.call(this,t),this._transformState=new n(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){o(e,t)}):o(e)})}function o(t,e){if(e)return t.emit("error",e);var i=t._writableState,n=t._transformState;if(i.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=s;var a=t("./_stream_duplex"),l=t("core-util-is");l.inherits=t("inherits"),l.inherits(s,a),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,i){throw new Error("not implemented")},s.prototype._write=function(t,e,i){var n=this._transformState;if(n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":185,"core-util-is":169,inherits:174}],189:[function(t,e,i){"use strict";function n(){}function r(t,e,i){this.chunk=t,this.encoding=e,this.callback=i,this.next=null}function s(e,i){S=S||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,i instanceof S&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(e){return S=S||t("./_stream_duplex"),this instanceof o||this instanceof S?(this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void C.call(this)):new o(e)}function a(t,e){var i=new Error("write after end");t.emit("error",i),x(e,i)}function l(t,e,i,n){var r=!0;if(!k.isBuffer(i)&&"string"!=typeof i&&null!==i&&void 0!==i&&!e.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),x(n,s),r=!1}return r}function u(t,e,i){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=new k(e,i)),e}function c(t,e,i,n,s){i=u(e,i,n),k.isBuffer(i)&&(n="buffer");var o=e.objectMode?1:i.length;e.length+=o;var a=e.length<e.highWaterMark;if(a||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest=new r(i,n,s),l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest}else h(t,e,!1,o,i,n,s);return a}function h(t,e,i,n,r,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,i?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function d(t,e,i,n,r){--e.pendingcb,i?x(r,n):r(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function f(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function p(t,e){var i=t._writableState,n=i.sync,r=i.writecb;if(f(i),e)d(t,i,n,e,r);else{var s=y(i);s||i.corked||i.bufferProcessing||!i.bufferedRequest||v(t,i),n?x(g,t,i,s,r):g(t,i,s,r)}}function g(t,e,i,n){i||m(t,e),e.pendingcb--,n(),b(t,e)}function m(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function v(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){for(var n=[],r=[];i;)r.push(i.callback),n.push(i),i=i.next;e.pendingcb++,e.lastBufferedRequest=null,h(t,e,!0,e.length,n,"",function(t){for(var i=0;i<r.length;i++)e.pendingcb--,r[i](t)})}else{for(;i;){var s=i.chunk,o=i.encoding,a=i.callback,l=e.objectMode?1:s.length;if(h(t,e,!1,l,s,o,a),i=i.next,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function y(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function _(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function b(t,e){var i=y(e);return i&&(0===e.pendingcb?(_(t,e),e.finished=!0,t.emit("finish")):_(t,e)),i}function w(t,e,i){e.ending=!0,b(t,e),i&&(e.finished?x(i):t.once("finish",i)),e.ended=!0}e.exports=o;var x=t("process-nextick-args"),k=t("buffer").Buffer;o.WritableState=s;var T=t("core-util-is");T.inherits=t("inherits");var C,D={deprecate:t("util-deprecate")};!function(){try{C=t("stream")}catch(e){}finally{C||(C=t("events").EventEmitter)}}();var k=t("buffer").Buffer;T.inherits(o,C);var S;s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:D.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var S;o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,i){var r=this._writableState,s=!1;return"function"==typeof e&&(i=e,e=null),k.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof i&&(i=n),r.ended?a(this,i):l(this,r,t,i)&&(r.pendingcb++,s=c(this,r,t,e,i)),s},o.prototype.cork=function(){var t=this._writableState;t.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},o.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},o.prototype._write=function(t,e,i){i(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,i){var n=this._writableState;"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||w(this,n,i)}},{"./_stream_duplex":185,buffer:166,"core-util-is":169,events:172,inherits:174,"process-nextick-args":182,"util-deprecate":199}],190:[function(t,e,i){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":186}],191:[function(t,e,i){var n=function(){try{return t("stream")}catch(e){}}();i=e.exports=t("./lib/_stream_readable.js"),i.Stream=n||i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":185,"./lib/_stream_passthrough.js":186,"./lib/_stream_readable.js":187,"./lib/_stream_transform.js":188,"./lib/_stream_writable.js":189}],192:[function(t,e,i){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":188}],193:[function(t,e,i){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":189}],194:[function(t,e,i){(function(t,i){!function(i){"use strict";function n(t,e,i,n){var r=Object.create((e||s).prototype);return r._invoke=h(t,i||null,new p(n||[])),r}function r(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}function s(){}function o(){}function a(){}function l(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){this.arg=t}function c(e){function i(t,i){var n=e[t](i),r=n.value;return r instanceof u?Promise.resolve(r.arg).then(s,o):Promise.resolve(r).then(function(t){return n.value=t,n})}function n(t,e){var n=r?r.then(function(){return i(t,e)}):new Promise(function(n){n(i(t,e))});return r=n["catch"](function(t){}),n}"object"==typeof t&&t.domain&&(i=t.domain.bind(i));var r,s=i.bind(e,"next"),o=i.bind(e,"throw");i.bind(e,"return");this._invoke=n}function h(t,e,i){var n=x;return function(s,o){if(n===T)throw new Error("Generator is already running");if(n===C){if("throw"===s)throw o;return m()}for(;;){var a=i.delegate;if(a){if("return"===s||"throw"===s&&a.iterator[s]===v){i.delegate=null;var l=a.iterator["return"];if(l){var u=r(l,a.iterator,o);if("throw"===u.type){s="throw",o=u.arg;continue}}if("return"===s)continue}var u=r(a.iterator[s],a.iterator,o);if("throw"===u.type){i.delegate=null,s="throw",o=u.arg;continue}s="next",o=v;var c=u.arg;if(!c.done)return n=k,c;i[a.resultName]=c.value,i.next=a.nextLoc,i.delegate=null}if("next"===s)n===k?i.sent=o:i.sent=v;else if("throw"===s){if(n===x)throw n=C,o;i.dispatchException(o)&&(s="next",o=v)}else"return"===s&&i.abrupt("return",o);n=T;var u=r(t,e,i);if("normal"===u.type){n=i.done?C:k;var c={value:u.arg,done:i.done};if(u.arg!==D)return c;i.delegate&&"next"===s&&(o=v)}else"throw"===u.type&&(n=C,s="throw",o=u.arg)}}}function d(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(d,this),this.reset(!0)}function g(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function r(){for(;++i<t.length;)if(y.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=v,r.done=!0,r};return n.next=n}}return{next:m}}function m(){return{value:v,done:!0}}var v,y=Object.prototype.hasOwnProperty,_="function"==typeof Symbol&&Symbol.iterator||"@@iterator",b="object"==typeof e,w=i.regeneratorRuntime;if(w)return void(b&&(e.exports=w));w=i.regeneratorRuntime=b?e.exports:{},w.wrap=n;var x="suspendedStart",k="suspendedYield",T="executing",C="completed",D={},S=a.prototype=s.prototype;o.prototype=S.constructor=a,a.constructor=o,o.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},w.mark=function(t){return t.__proto__=a,t.prototype=Object.create(S),t},w.awrap=function(t){return new u(t)},l(c.prototype),w.async=function(t,e,i,r){var s=new c(n(t,e,i,r));return w.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},l(S),S[_]=function(){return this},S.toString=function(){return"[object Generator]"},w.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},w.values=g,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=v,this.done=!1,this.delegate=null,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return s.type="throw",s.arg=t,i.next=e,!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var o=y.call(r,"catchLoc"),a=y.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?this.next=r.finallyLoc:this.complete(s),D},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),f(i),D}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;f(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:g(t),resultName:e,nextLoc:i},D}}}("object"==typeof i?i:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:183}],195:[function(t,e,i){function n(t){return"[Throws: "+(t?t.message:"?")+"]"}function r(t,e){if(o.call(t,e))try{return t[e]}catch(i){return n(i)}return t[e]}function s(t){function e(t){if(null===t||"object"!=typeof t)return t;if(i.indexOf(t)!==-1)return"[Circular]";if(i.push(t),"function"==typeof t.toJSON)try{return e(t.toJSON())}catch(s){return n(s)}return Array.isArray(t)?t.map(e):Object.keys(t).reduce(function(i,n){return i[n]=e(r(t,n)),i},{})}var i=[];return e(t)}var o=Object.prototype.hasOwnProperty;e.exports=function(t){return JSON.stringify(s(t))},e.exports.ensureProperties=s},{}],196:[function(t,e,i){function n(){r.call(this)}e.exports=n;var r=t("events").EventEmitter,s=t("inherits");s(n,r),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(t,e){function i(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function n(){u.readable&&u.resume&&u.resume()}function s(){c||(c=!0,t.end())}function o(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){u.removeListener("data",i),t.removeListener("drain",n),u.removeListener("end",s),u.removeListener("close",o),u.removeListener("error",a),t.removeListener("error",a),u.removeListener("end",l),u.removeListener("close",l),t.removeListener("close",l)}var u=this;u.on("data",i),t.on("drain",n),t._isStdio||e&&e.end===!1||(u.on("end",s),u.on("close",o));var c=!1;return u.on("error",a),t.on("error",a),u.on("end",l),u.on("close",l),t.on("close",l),t.emit("pipe",u),t}},{events:172,inherits:174,"readable-stream/duplex.js":184,"readable-stream/passthrough.js":190,"readable-stream/readable.js":191,"readable-stream/transform.js":192,"readable-stream/writable.js":193}],197:[function(t,e,i){function n(t){if(t&&!l(t))throw new Error("Unknown encoding: "+t)}function r(t){return t.toString(this.encoding)}function s(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function o(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=t("buffer").Buffer,l=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=i.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),n(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var e="";this.charLength;){var i=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,i),this.charReceived+=i,this.charReceived<this.charLength)return"";t=t.slice(i,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=e.charCodeAt(e.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r);var r=e.length-1,n=e.charCodeAt(r);if(n>=55296&&n<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,r)}return e},u.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var i=t[t.length-e];if(1==e&&i>>5==6){this.charLength=2;break}if(e<=2&&i>>4==14){this.charLength=3;break}if(e<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=e},u.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var i=this.charReceived,n=this.charBuffer,r=this.encoding;e+=n.slice(0,i).toString(r)}return e}},{buffer:166}],198:[function(t,e,i){!function(t,n){"function"==typeof define&&define.amd?define(function(){return n(t,t.document)}):"object"==typeof i?e.exports=t.document?n(t,t.document):function(t){return n(t,t.document)}:t.SVG=n(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){return t instanceof e}function n(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}function r(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function a(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function l(t,e,i){if(null==e||null==i){var n=t.bbox();null==e?e=n.width/n.height*i:null==i&&(i=n.height/n.width*e)}return{width:e,height:i}}function u(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function c(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function h(t){return t instanceof y.Matrix||(t=new y.Matrix(t)),t}function d(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function f(t){return t=t.replace(y.regex.whitespace,"").replace(y.regex.matrix,"").split(y.regex.matrixElements),c(y.utils.map(t,function(t){return parseFloat(t)}))}function p(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e][0],null!=t[e][1]&&(n+=t[e][1],null!=t[e][2]&&(n+=" ",n+=t[e][2],null!=t[e][3]&&(n+=" ",n+=t[e][3],n+=" ",n+=t[e][4],null!=t[e][5]&&(n+=" ",n+=t[e][5],n+=" ",n+=t[e][6],null!=t[e][7]&&(n+=" ",n+=t[e][7])))));return n+" "}function g(t){for(var e=t.childNodes.length-1;e>=0;e--)t.childNodes[e]instanceof SVGElement&&g(t.childNodes[e]);return y.adopt(t).id(y.eid(t.nodeName))}function m(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function v(t){var e=t.toString().match(y.regex.reference);if(e)return e[1]}var y=this.SVG=function(t){if(y.supported)return t=new y.Doc(t),y.parser.draw||y.prepare(),t};if(y.ns="http://www.w3.org/2000/svg",y.xmlns="http://www.w3.org/2000/xmlns/",y.xlink="http://www.w3.org/1999/xlink",y.svgjs="http://svgjs.com/svgjs",y.supported=function(){return!!e.createElementNS&&!!e.createElementNS(y.ns,"svg").createSVGRect}(),!y.supported)return!1;y.did=1e3,
y.eid=function(t){return"Svgjs"+s(t)+y.did++},y.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},y.extend=function(){var t,e,i,n;for(t=[].slice.call(arguments),e=t.pop(),n=t.length-1;n>=0;n--)if(t[n])for(i in e)t[n].prototype[i]=e[i];y.Set&&y.Set.inherit&&y.Set.inherit()},y.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,y.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&y.extend(e,t.extend),t.construct&&y.extend(t.parent||y.Container,t.construct),e},y.adopt=function(t){if(!t)return null;if(t.instance)return t.instance;var e;return e="svg"==t.nodeName?t.parentNode instanceof SVGElement?new y.Nested:new y.Doc:"linearGradient"==t.nodeName?new y.Gradient("linear"):"radialGradient"==t.nodeName?new y.Gradient("radial"):y[s(t.nodeName)]?new(y[s(t.nodeName)]):new y.Element(t),e.type=t.nodeName,e.node=t,t.instance=e,e instanceof y.Doc&&e.namespace().defs(),e.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),e},y.prepare=function(){var t=e.getElementsByTagName("body")[0],i=(t?new y.Doc(t):new y.Doc(e.documentElement).nested()).size(2,0);y.parser={body:t||e.documentElement,draw:i.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:i.polyline().node,path:i.path().node,"native":y.create("svg")}},y.parser={"native":y.create("svg")},e.addEventListener("DOMContentLoaded",function(){y.parser.draw||y.prepare()},!1),y.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,matrix:/matrix\(|\)/g,matrixElements:/,*\s+|,/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,negExp:/e\-/gi,comma:/,/g,hyphen:/\-/g,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,whitespaces:/\s+/,X:/X/g},y.utils={map:function(t,e){var i,n=t.length,r=[];for(i=0;i<n;i++)r.push(e(t[i]));return r},filter:function(t,e){var i,n=t.length,r=[];for(i=0;i<n;i++)e(t[i])&&r.push(t[i]);return r},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof SVGElement})}},y.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},y.Color=function(t){var e;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?y.regex.isRgb.test(t)?(e=y.regex.rgb.exec(t.replace(/\s/g,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):y.regex.isHex.test(t)&&(e=y.regex.hex.exec(o(t)),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},y.extend(y.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+a(this.r)+a(this.g)+a(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new y.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new y.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),y.Color.test=function(t){return t+="",y.regex.isHex.test(t)||y.regex.isRgb.test(t)},y.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},y.Color.isColor=function(t){return y.Color.isRgb(t)||y.Color.test(t)},y.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},y.extend(y.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],i=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(i);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,i=[];t<e;t++)i.indexOf(this.value[t])==-1&&i.push(this.value[t]);return this.value=i},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,n=[];e<i;e++)n.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new y.Array(n)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(/\s+/)},reverse:function(){return this.value.reverse(),this}}),y.PointArray=function(t,e){this.constructor.call(this,t,e||[[0,0]])},y.PointArray.prototype=new y.Array,y.extend(y.PointArray,{toString:function(){for(var t=0,e=this.value.length,i=[];t<e;t++)i.push(this.value[t].join(","));return i.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,n=[];e<i;e++)n.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new y.PointArray(n)},parse:function(t){if(t=t.valueOf(),Array.isArray(t))return t;t=this.split(t);for(var e,i=0,n=t.length,r=[];i<n;i++)e=t[i].split(","),r.push([parseFloat(e[0]),parseFloat(e[1])]);return r},move:function(t,e){var i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(var n=this.value.length-1;n>=0;n--)this.value[n]=[this.value[n][0]+t,this.value[n][1]+e];return this},size:function(t,e){var i,n=this.bbox();for(i=this.value.length-1;i>=0;i--)this.value[i][0]=(this.value[i][0]-n.x)*t/n.width+n.x,this.value[i][1]=(this.value[i][1]-n.y)*e/n.height+n.y;return this},bbox:function(){return y.parser.poly.setAttribute("points",this.toString()),y.parser.poly.getBBox()}}),y.PathArray=function(t,e){this.constructor.call(this,t,e||[["M",0,0]])},y.PathArray.prototype=new y.Array,y.extend(y.PathArray,{toString:function(){return p(this.value)},move:function(t,e){var i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(var n,r=this.value.length-1;r>=0;r--)n=this.value[r][0],"M"==n||"L"==n||"T"==n?(this.value[r][1]+=t,this.value[r][2]+=e):"H"==n?this.value[r][1]+=t:"V"==n?this.value[r][1]+=e:"C"==n||"S"==n||"Q"==n?(this.value[r][1]+=t,this.value[r][2]+=e,this.value[r][3]+=t,this.value[r][4]+=e,"C"==n&&(this.value[r][5]+=t,this.value[r][6]+=e)):"A"==n&&(this.value[r][6]+=t,this.value[r][7]+=e);return this},size:function(t,e){var i,n,r=this.bbox();for(i=this.value.length-1;i>=0;i--)n=this.value[i][0],"M"==n||"L"==n||"T"==n?(this.value[i][1]=(this.value[i][1]-r.x)*t/r.width+r.x,this.value[i][2]=(this.value[i][2]-r.y)*e/r.height+r.y):"H"==n?this.value[i][1]=(this.value[i][1]-r.x)*t/r.width+r.x:"V"==n?this.value[i][1]=(this.value[i][1]-r.y)*e/r.height+r.y:"C"==n||"S"==n||"Q"==n?(this.value[i][1]=(this.value[i][1]-r.x)*t/r.width+r.x,this.value[i][2]=(this.value[i][2]-r.y)*e/r.height+r.y,this.value[i][3]=(this.value[i][3]-r.x)*t/r.width+r.x,this.value[i][4]=(this.value[i][4]-r.y)*e/r.height+r.y,"C"==n&&(this.value[i][5]=(this.value[i][5]-r.x)*t/r.width+r.x,this.value[i][6]=(this.value[i][6]-r.y)*e/r.height+r.y)):"A"==n&&(this.value[i][1]=this.value[i][1]*t/r.width,this.value[i][2]=this.value[i][2]*e/r.height,this.value[i][6]=(this.value[i][6]-r.x)*t/r.width+r.x,this.value[i][7]=(this.value[i][7]-r.y)*e/r.height+r.y);return this},parse:function(t){if(t instanceof y.PathArray)return t.valueOf();var e,i,n,r,s,o,a=0,l=0,u={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7};if("string"==typeof t){for(t=t.replace(y.regex.negExp,"X").replace(y.regex.pathLetters," $& ").replace(y.regex.hyphen," -").replace(y.regex.comma," ").replace(y.regex.X,"e-").trim().split(y.regex.whitespaces),e=t.length;--e;)if(t[e].indexOf(".")!=t[e].lastIndexOf(".")){var c=t[e].split("."),h=[c.shift(),c.shift()].join(".");t.splice.apply(t,[e,1].concat(h,c.map(function(t){return"."+t})))}}else t=t.reduce(function(t,e){return[].concat.apply(t,e)},[]);var o=[];do{for(y.regex.isPathLetter.test(t[0])?(r=t[0],t.shift()):"M"==r?r="L":"m"==r&&(r="l"),s=[r.toUpperCase()],e=0;e<u[s[0]];++e)s.push(parseFloat(t.shift()));r==s[0]?"M"==r||"L"==r||"C"==r||"Q"==r||"S"==r||"T"==r?(a=s[u[s[0]]-1],l=s[u[s[0]]]):"V"==r?l=s[1]:"H"==r?a=s[1]:"A"==r&&(a=s[6],l=s[7]):"m"==r||"l"==r||"c"==r||"s"==r||"q"==r||"t"==r?(s[1]+=a,s[2]+=l,null!=s[3]&&(s[3]+=a,s[4]+=l),null!=s[5]&&(s[5]+=a,s[6]+=l),a=s[u[s[0]]-1],l=s[u[s[0]]]):"v"==r?(s[1]+=l,l=s[1]):"h"==r?(s[1]+=a,a=s[1]):"a"==r&&(s[6]+=a,s[7]+=l,a=s[6],l=s[7]),"M"==s[0]&&(i=a,n=l),"Z"==s[0]&&(a=i,l=n),o.push(s)}while(t.length);return o},bbox:function(){return y.parser.path.setAttribute("d",this.toString()),y.parser.path.getBBox()}}),y.Number=y.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-3.4e38:3.4e38:"string"==typeof t?(e=t.match(y.regex.numberAndUnit),e&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5])):t instanceof y.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return new y.Number(this+new y.Number(t),this.unit)},minus:function(t){return this.plus(-new y.Number(t))},times:function(t){return new y.Number(this*new y.Number(t),this.unit)},divide:function(t){return new y.Number(this/new y.Number(t),this.unit)},to:function(t){var e=new y.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new y.Number(t),this},at:function(t){return this.destination?new y.Number(this.destination).minus(this).times(t).plus(this):this}}}),y.Element=y.invent({create:function(t){this._stroke=y.defaults.attrs.stroke,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var i=l(this,t,e);return this.width(new y.Number(i.width)).height(new y.Number(i.height))},clone:function(t){var e=g(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var i=this.bbox();return t>i.x&&e>i.y&&t<i.x+i.width&&e<i.y+i.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(/\s+/)},hasClass:function(t){return this.classes().indexOf(t)!=-1},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return y.get(this.attr(t))},parent:function(t){var e=this;if(!e.node.parentNode)return null;if(e=y.adopt(e.node.parentNode),!t)return e;for(;e&&e.node instanceof SVGElement;){if("string"==typeof t?e.matches(t):e instanceof t)return e;e=y.adopt(e.node.parentNode)}},doc:function(){return this instanceof y.Doc?this:this.parent(y.Doc)},parents:function(t){var e=[],i=this;do{if(i=i.parent(t),!i||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return n(this.node,t)},"native":function(){return this.node},svg:function(t){var i=e.createElement("svg");if(!(t&&this instanceof y.Parent))return i.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var n=0,r=i.firstChild.childNodes.length;n<r;n++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){if(this.each||this.lines){var t=this.each?this:this.lines();t.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return i(this,t)}}}),y.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return-Math.cos(t*Math.PI/2)+1}},y.morph=function(t){return function(e,i){return new y.MorphObj(e,i).at(t)}},y.Situation=y.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new y.Number(t.duration).valueOf(),this.delay=new y.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=!1,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),y.Delay=function(t){this.delay=new y.Number(t).valueOf()},y.FX=y.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0},extend:{animate:function(t,e,i){"object"==typeof t&&(e=t.ease,i=t.delay,t=t.duration);var n=new y.Situation({duration:t||1e3,delay:i||0,ease:y.easing[e||"-"]||e});return this.queue(n),this},delay:function(t){var t=new y.Delay(t);return this.queue(t)},target:function(t){return t&&t instanceof y.Element?(this._target=t,this):this._target},timeToPos:function(t){return(t-this.situation.start)/this.situation.duration},posToTime:function(t){return this.situation.duration*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.situation.start=+new Date+this.situation.delay,this.situation.finish=this.situation.start+this.situation.duration,this.initAnimations(),this.active=!0,this.startAnimFrame()),this},queue:function(t){return("function"==typeof t||t instanceof y.Situation||t instanceof y.Delay)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){if(this.situation&&this.situation.stop&&this.situation.stop(),this.situation=this.situations.shift(),this.situation){var t=function(){this.situation instanceof y.Situation?this.initAnimations().at(0):this.situation instanceof y.Delay?this.dequeue():this.situation.call(this)}.bind(this);this.situation.delay?setTimeout(function(){t()},this.situation.delay):t()}return this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(t in e.animations)"viewbox"==t?e.animations[t]=this.target().viewbox().morph(e.animations[t]):(e.animations[t].value="plot"==t?this.target().array().value:this.target()[t](),e.animations[t].value.value&&(e.animations[t].value=e.animations[t].value.value),e.animations[t].relative&&(e.animations[t].destination.value=e.animations[t].destination.value+e.animations[t].value));for(t in e.attrs)if(e.attrs[t]instanceof y.Color){var i=new y.Color(this.target().attr(t));e.attrs[t].r=i.r,e.attrs[t].g=i.g,e.attrs[t].b=i.b}else e.attrs[t].value=this.target().attr(t);for(t in e.styles)e.styles[t].value=this.target().style(t);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){return this.active||this.start(),e&&this.clearQueue(),this.active=!1,t&&this.situation&&(this.situation.loop=!1,this.situation.loops%2==0&&this.situation.reversing&&(this.situation.reversed=!0),this.at(1)),this.stopAnimFrame(),clearTimeout(this.timeout),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.at(0)}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},at:function(t){return this.pos=t,this.situation.start=+new Date-t*this.situation.duration,this.situation.finish=this.situation.start+this.situation.duration,this.step(!0)},speed:function(t){return this.situation.duration=this.situation.duration*this.pos+(1-this.pos)*this.situation.duration/t,this.situation.finish=this.situation.start+this.situation.duration,this.at(this.pos)},loop:function(t,e){return this.situation.loop=this.situation.loops=t||!0,e&&(this.last().reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),clearTimeout(this.timeout),this},play:function(){return this.paused?(this.paused=!1,this.at(this.pos)):this},reverse:function(t){var e=this.last();return"undefined"==typeof t?e.reversed=!e.reversed:e.reversed=t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last(),i=function n(i){i.detail.situation==e&&(t.call(this,e),this.off("finished.fx",n))};return this.target().on("finished.fx",i),this},during:function(t){var e=this.last(),i=function(i){i.detail.situation==e&&t.call(this,i.detail.pos,y.morph(i.detail.pos),i.detail.eased,e)};return this.target().off("during.fx",i).on("during.fx",i),this.after(function(){this.off("during.fx",i)})},afterAll:function(t){var e=function i(e){t.call(this),this.off("allfinished.fx",i)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,y.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll(function(){this.off("during.fx",e)})},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,setTimeout(function(){this.start()}.bind(this),0),this},step:function(t){if(t||(this.pos=this.timeToPos(+new Date)),this.pos>=1&&(this.situation.loop===!0||"number"==typeof this.situation.loop&&--this.situation.loop))return this.situation.reversing&&(this.situation.reversed=!this.situation.reversed),this.at(this.pos-1);this.situation.reversed&&(this.pos=1-this.pos),this.pos>1&&(this.pos=1),this.pos<0&&(this.pos=0);var e=this.situation.ease(this.pos);for(var i in this.situation.once)i>this.lastPos&&i<=e&&(this.situation.once[i].call(this.target(),this.pos,e),delete this.situation.once[i]);return this.active&&this.target().fire("during",{pos:this.pos,eased:e,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.target().off(".fx"),this.active=!1),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=e,this):this},eachAt:function(){var t,e,i=this,n=this.target(),r=this.situation;for(t in r.animations)e=[].concat(r.animations[t]).map(function(t){return t.at?t.at(r.ease(i.pos),i.pos):t}),n[t].apply(n,e);for(t in r.attrs)e=[t].concat(r.attrs[t]).map(function(t){return t.at?t.at(r.ease(i.pos),i.pos):t}),n.attr.apply(n,e);for(t in r.styles)e=[t].concat(r.styles[t]).map(function(t){return t.at?t.at(r.ease(i.pos),i.pos):t}),n.style.apply(n,e);if(r.transforms.length){e=r.initialTransformation;for(t in r.transforms){var s=r.transforms[t];s instanceof y.Matrix?e=s.relative?e.multiply(s.at(r.ease(this.pos))):e.morph(s).at(r.ease(this.pos)):(s.relative||s.undo(e.extract()),e=e.multiply(s.at(r.ease(this.pos))))}n.matrix(e)}return this},once:function(t,e,i){return i||(t=this.situation.ease(t)),this.situation.once[t]=e,this}},parent:y.Element,construct:{animate:function(t,e,i){return(this.fx||(this.fx=new y.FX(this))).animate(t,e,i)},delay:function(t){return(this.fx||(this.fx=new y.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this}}}),y.MorphObj=y.invent({create:function(t,e){return y.Color.isColor(e)?new y.Color(t).morph(e):y.regex.numberAndUnit.test(e)?new y.Number(t).morph(e):(this.value=0,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),y.extend(y.FX,{attr:function(t,e,i){if("object"==typeof t)for(var n in t)this.attr(n,t[n]);else this.add(t,new y.MorphObj(null,e),"attrs");return this},style:function(t,e){if("object"==typeof t)for(var i in t)this.style(i,t[i]);else this.add(t,new y.MorphObj(null,e),"styles");return this},x:function(t,e){if(this.target()instanceof y.G)return this.transform({x:t},e),this;var i=(new y.Number).morph(t);return i.relative=e,this.add("x",i)},y:function(t,e){if(this.target()instanceof y.G)return this.transform({y:t},e),this;var i=(new y.Number).morph(t);return i.relative=e,this.add("y",i)},cx:function(t){return this.add("cx",(new y.Number).morph(t))},cy:function(t){return this.add("cy",(new y.Number).morph(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target()instanceof y.Text)this.attr("font-size",t);else{var i;t&&e||(i=this.target().bbox()),t||(t=i.width/i.height*e),e||(e=i.height/i.width*t),this.add("width",(new y.Number).morph(t)).add("height",(new y.Number).morph(e))}return this},plot:function(t){return this.add("plot",this.target().array().morph(t))},leading:function(t){return this.target().leading?this.add("leading",(new y.Number).morph(t)):this},viewbox:function(t,e,i,n){return this.target()instanceof y.Container&&this.add("viewbox",new y.ViewBox(t,e,i,n)),this},update:function(t){if(this.target()instanceof y.Stop){if("number"==typeof t||t instanceof y.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),y.BBox=y.invent({create:function(t){if(t){var i;try{if(!e.documentElement.contains(t.node))throw new Exception("Element not in the dom");i=t.node.getBBox()}catch(n){if(t instanceof y.Shape){var r=t.clone(y.parser.draw).show();i=r.bbox(),r.remove()}else i={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height}m(this)},parent:y.Element,construct:{bbox:function(){return new y.BBox(this)}}}),y.TBox=y.invent({create:function(t){if(t){var e=t.ctm().extract(),i=t.bbox();this.width=i.width*e.scaleX,this.height=i.height*e.scaleY,this.x=i.x+e.x,this.y=i.y+e.y}m(this)},parent:y.Element,construct:{tbox:function(){return new y.TBox(this)}}}),y.RBox=y.invent({create:function(e){if(e){var i=e.doc().parent(),n=e.node.getBoundingClientRect(),r=1;for(this.x=n.left,this.y=n.top,this.x-=i.offsetLeft,this.y-=i.offsetTop;i=i.offsetParent;)this.x-=i.offsetLeft,this.y-=i.offsetTop;for(i=e;i.parent&&(i=i.parent());)i.viewbox&&(r*=i.viewbox().zoom,this.x-=i.x()||0,this.y-=i.y()||0);this.width=n.width/=r,this.height=n.height/=r}m(this),this.x+=t.pageXOffset,this.y+=t.pageYOffset},parent:y.Element,construct:{rbox:function(){return new y.RBox(this)}}}),[y.BBox,y.TBox,y.RBox].forEach(function(t){y.extend(t,{merge:function(e){var i=new t;return i.x=Math.min(this.x,e.x),i.y=Math.min(this.y,e.y),i.width=Math.max(this.x+this.width,e.x+e.width)-i.x,i.height=Math.max(this.y+this.height,e.y+e.height)-i.y,m(i)}})}),y.Matrix=y.invent({create:function(t){var e,i=c([1,0,0,1,0,0]);for(t=t instanceof y.Element?t.matrixify():"string"==typeof t?f(t):6==arguments.length?c([].slice.call(arguments)):"object"==typeof t?t:i,e=b.length-1;e>=0;--e)this[b[e]]=t&&"number"==typeof t[b[e]]?t[b[e]]:i[b[e]]},extend:{extract:function(){var t=u(this,0,1),e=u(this,1,0),i=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(i*Math.PI/180)+this.f*Math.sin(i*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(i*Math.PI/180)+this.e*Math.sin(-i*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-i,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:i,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new y.Matrix(this)}},clone:function(){return new y.Matrix(this)},morph:function(t){return this.destination=new y.Matrix(t),this},at:function(t){if(!this.destination)return this;var e=new y.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t});if(this.param&&this.param.to){var i={rotation:this.param.from.rotation+(this.param.to.rotation-this.param.from.rotation)*t,cx:this.param.from.cx,cy:this.param.from.cy};e=e.rotate((this.param.to.rotation-2*this.param.from.rotation)*t,i.cx,i.cy),e.param=i}return e},multiply:function(t){return new y.Matrix(this["native"]().multiply(h(t)["native"]()))},inverse:function(){return new y.Matrix(this["native"]().inverse())},translate:function(t,e){return new y.Matrix(this["native"]().translate(t||0,e||0))},scale:function(t,e,i,n){return 1!=arguments.length&&3!=arguments.length||(e=t),3==arguments.length&&(n=i,i=e),this.around(i,n,new y.Matrix(t,0,0,e,0,0))},rotate:function(t,e,i){return t=y.utils.radians(t),this.around(e,i,new y.Matrix(Math.cos(t),Math.sin(t),(-Math.sin(t)),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):this.scale(1,-1,0,e)},skew:function(t,e,i,n){return this.around(i,n,this["native"]().skewX(t||0).skewY(e||0))},skewX:function(t,e,i){return this.around(e,i,this["native"]().skewX(t||0))},skewY:function(t,e,i){return this.around(e,i,this["native"]().skewY(t||0))},around:function(t,e,i){return this.multiply(new y.Matrix(1,0,0,1,t||0,e||0)).multiply(i).multiply(new y.Matrix(1,0,0,1,-t||0,-e||0))},"native":function(){for(var t=y.parser["native"].createSVGMatrix(),e=b.length-1;e>=0;e--)t[b[e]]=this[b[e]];return t},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:y.Element,construct:{ctm:function(){return new y.Matrix(this.node.getCTM())},screenCTM:function(){return new y.Matrix(this.node.getScreenCTM())}}}),y.Point=y.invent({create:function(t,e){var i,n={x:0,y:0};i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:null!=e?{x:t,y:e}:n,this.x=i.x,this.y=i.y},extend:{clone:function(){return new y.Point(this)},morph:function(t){return this.destination=new y.Point(t),this},at:function(t){if(!this.destination)return this;var e=new y.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t});return e},"native":function(){var t=y.parser["native"].createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new y.Point(this["native"]().matrixTransform(t["native"]()))}}}),y.extend(y.Element,{point:function(t,e){return new y.Point(t,e).transform(this.screenCTM().inverse())}}),y.extend(y.Element,{attr:function(t,e,i){if(null==t){for(t={},e=this.node.attributes,i=e.length-1;i>=0;i--)t[e[i].nodeName]=y.regex.isNumber.test(e[i].nodeValue)?parseFloat(e[i].nodeValue):e[i].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.getAttribute(t),null==e?y.defaults.attrs[t]:y.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(y.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof y.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new y.Number(e):y.Color.isColor(e)?e=new y.Color(e):Array.isArray(e)?e=new y.Array(e):e instanceof y.Matrix&&e.param&&(this.param=e.param),"leading"==t?this.leading&&this.leading(e):"string"==typeof i?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),y.extend(y.Element,{transform:function(t,e){var i,n=this;if("object"!=typeof t)return i=new y.Matrix(n).extract(),"string"==typeof t?i[t]:i;if(i=new y.Matrix(n),e=!!e||!!t.relative,null!=t.a)i=e?i.multiply(new y.Matrix(t)):new y.Matrix(t);else if(null!=t.rotation)d(t,n),i=e?i.rotate(t.rotation,t.cx,t.cy):i.rotate(t.rotation-i.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(d(t,n),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var r=i.extract();t.scaleX=1*t.scaleX/r.scaleX,t.scaleY=1*t.scaleY/r.scaleY}i=i.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skewX||null!=t.skewY){if(d(t,n),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,!e){var r=i.extract();i=i.multiply((new y.Matrix).skew(r.skewX,r.skewY,t.cx,t.cy).inverse())}i=i.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?i=i.flip(t.flip,null==t.offset?n.bbox()["c"+t.flip]:t.offset):null==t.x&&null==t.y||(e?i=i.translate(t.x,t.y):(null!=t.x&&(i.e=t.x),null!=t.y&&(i.f=t.y)));return this.attr("transform",i)}}),y.extend(y.FX,{transform:function(t,e){var i,n=this.target();return"object"!=typeof t?(i=new y.Matrix(n).extract(),"string"==typeof t?i[t]:i):(e=!!e||!!t.relative,null!=t.a?i=new y.Matrix(t):null!=t.rotation?(d(t,n),i=new y.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(d(t,n),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,i=new y.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(d(t,n),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,i=new y.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?i=(new y.Matrix).morph((new y.Matrix).flip(t.flip,null==t.offset?n.bbox()["c"+t.flip]:t.offset)):null==t.x&&null==t.y||(i=new y.Translate(t.x,t.y)),i?(i.relative=e,this.last().transforms.push(i),setTimeout(function(){this.start()}.bind(this),0),this):this)}}),y.extend(y.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var t=(this.attr("transform")||"").split(/\)\s*/).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(y.regex.matrixElements).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(c(e[1])):t[e[0]].apply(t,e[1])},new y.Matrix);return t},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.rect(1,1),n=i.screenCTM().inverse();return i.remove(),
this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),y.Transformation=y.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.create([].slice.call(arguments));if("object"==typeof t)for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[this.arguments[i]];if(Array.isArray(t))for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[i];this.inversed=!1,e===!0&&(this.inversed=!0)},extend:{at:function(t){for(var e=[],i=0,n=this.arguments.length;i<n;++i)e.push(this[this.arguments[i]]);var r=this._undo||new y.Matrix;return r=(new y.Matrix).morph(y.Matrix.prototype[this.method].apply(r,e)).at(t),this.inversed?r.inverse():r},undo:function(t){for(var e=0,i=this.arguments.length;e<i;++e)t[this.arguments[e]]="undefined"==typeof this[this.arguments[e]]?0:t[this.arguments[e]];return this._undo=new(y[s(this.method)])(t,(!0)).at(1),this}}}),y.Translate=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),y.Rotate=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new y.Matrix).rotate((new y.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){this._undo=t}}}),y.Scale=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),y.Skew=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),y.extend(y.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!y.regex.isCss.test(t))return this.node.style[r(t)];t=t.split(";");for(var i=0;i<t.length;i++)e=t[i].split(":"),this.style(e[0].replace(/\s+/g,""),e[1])}else this.node.style[r(t)]=null===e||y.regex.isBlank.test(e)?"":e;return this}}),y.Parent=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Element,extend:{children:function(){return y.utils.map(y.utils.filterSVGElements(this.node.childNodes),function(t){return y.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return y.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var i,n,r=this.children();for(i=0,n=r.length;i<n;i++)r[i]instanceof y.Element&&t.apply(r[i],[i,r]),e&&r[i]instanceof y.Container&&r[i].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),y.extend(y.Parent,{ungroup:function(t,e){return 0===e||this instanceof y.Defs?this:(t=t||(this instanceof y.Doc?this:this.parent(y.Parent)),e=e||1/0,this.each(function(){return this instanceof y.Defs?this:this instanceof y.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),y.Container=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Parent}),y.ViewBox=y.invent({create:function(t){var e,i,n,r,s,o,a,l,u=[0,0,0,0],c=1,h=1,d=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof y.Element){for(a=t,l=t,o=(t.attr("viewBox")||"").match(d),s=t.bbox,n=new y.Number(t.width()),r=new y.Number(t.height());"%"==n.unit;)c*=n.value,n=new y.Number(a instanceof y.Doc?a.parent().offsetWidth:a.parent().width()),a=a.parent();for(;"%"==r.unit;)h*=r.value,r=new y.Number(l instanceof y.Doc?l.parent().offsetHeight:l.parent().height()),l=l.parent();this.x=0,this.y=0,this.width=n*c,this.height=r*h,this.zoom=1,o&&(e=parseFloat(o[0]),i=parseFloat(o[1]),n=parseFloat(o[2]),r=parseFloat(o[3]),this.zoom=this.width/this.height>n/r?this.height/r:this.width/n,this.x=e,this.y=i,this.width=n,this.height=r)}else t="string"==typeof t?t.match(d).map(function(t){return parseFloat(t)}):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):u,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t){var t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments);return this.destination=new y.ViewBox(t),this},at:function(t){return this.destination?new y.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:y.Container,construct:{viewbox:function(t){return 0==arguments.length?new y.ViewBox(this):(t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments),this.attr("viewBox",t))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){y.Element.prototype[t]=function(e){var i=this;return this.node["on"+t]="function"==typeof e?function(){return e.apply(i,arguments)}:null,this}}),y.listeners=[],y.handlerMap=[],y.listenerId=0,y.on=function(t,e,i,n){var r=i.bind(n||t.instance||t),s=(y.handlerMap.indexOf(t)+1||y.handlerMap.push(t))-1,o=e.split(".")[0],a=e.split(".")[1]||"*";y.listeners[s]=y.listeners[s]||{},y.listeners[s][o]=y.listeners[s][o]||{},y.listeners[s][o][a]=y.listeners[s][o][a]||{},i._svgjsListenerId||(i._svgjsListenerId=++y.listenerId),y.listeners[s][o][a][i._svgjsListenerId]=r,t.addEventListener(o,r,!1)},y.off=function(t,e,i){var n=y.handlerMap.indexOf(t),r=e&&e.split(".")[0],s=e&&e.split(".")[1];if(n!=-1)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;y.listeners[n][r]&&y.listeners[n][r][s||"*"]&&(t.removeEventListener(r,y.listeners[n][r][s||"*"][i],!1),delete y.listeners[n][r][s||"*"][i])}else if(s&&r){if(y.listeners[n][r]&&y.listeners[n][r][s]){for(i in y.listeners[n][r][s])y.off(t,[r,s].join("."),i);delete y.listeners[n][r][s]}}else if(s)for(e in y.listeners[n])for(namespace in y.listeners[n][e])s===namespace&&y.off(t,[e,s].join("."));else if(r){if(y.listeners[n][r]){for(namespace in y.listeners[n][r])y.off(t,[r,namespace].join("."));delete y.listeners[n][r]}}else{for(e in y.listeners[n])y.off(t,e);delete y.listeners[n]}},y.extend(y.Element,{on:function(t,e,i){return y.on(this.node,t,e,i),this},off:function(t,e){return y.off(this.node,t,e),this},fire:function(t,e){return t instanceof Event?this.node.dispatchEvent(t):this.node.dispatchEvent(new w(t,{detail:e})),this}}),y.Defs=y.invent({create:"defs",inherit:y.Container}),y.G=y.invent({create:"g",inherit:y.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new y.G)}}}),y.extend(y.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof y.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof y.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),y.Mask=y.invent({create:function(){this.constructor.call(this,y.create("mask")),this.targets=[]},inherit:y.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new y.Mask)}}}),y.extend(y.Element,{maskWith:function(t){return this.masker=t instanceof y.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),y.ClipPath=y.invent({create:function(){this.constructor.call(this,y.create("clipPath")),this.targets=[]},inherit:y.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new y.ClipPath)}}}),y.extend(y.Element,{clipWith:function(t){return this.clipper=t instanceof y.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),y.Gradient=y.invent({create:function(t){this.constructor.call(this,y.create(t+"Gradient")),this.type=t},inherit:y.Container,extend:{at:function(t,e,i){return this.put(new y.Stop).update(t,e,i)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="gradientTransform"),y.Container.prototype.attr.call(this,t,e,i)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),y.extend(y.Gradient,y.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new y.Number(t),fy:new y.Number(e)}):this.attr({x1:new y.Number(t),y1:new y.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new y.Number(t),cy:new y.Number(e)}):this.attr({x2:new y.Number(t),y2:new y.Number(e)})}}),y.extend(y.Defs,{gradient:function(t,e){return this.put(new y.Gradient(t)).update(e)}}),y.Stop=y.invent({create:"stop",inherit:y.Element,extend:{update:function(t){return("number"==typeof t||t instanceof y.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new y.Number(t.offset)),this}}}),y.Pattern=y.invent({create:"pattern",inherit:y.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="patternTransform"),y.Container.prototype.attr.call(this,t,e,i)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),y.extend(y.Defs,{pattern:function(t,e,i){return this.put(new y.Pattern).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),y.Doc=y.invent({create:function(t){t&&(t="string"==typeof t?e.getElementById(t):t,"svg"==t.nodeName?this.constructor.call(this,t):(this.constructor.call(this,y.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:y.Container,extend:{namespace:function(){return this.attr({xmlns:y.ns,version:"1.1"}).attr("xmlns:xlink",y.xlink,y.xmlns).attr("xmlns:svgjs",y.svgjs,y.xmlns)},defs:function(){if(!this._defs){var t;(t=this.node.getElementsByTagName("defs")[0])?this._defs=y.adopt(t):this._defs=new y.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(t){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this}}}),y.Shape=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Element}),y.Bare=y.invent({create:function(t,e){if(this.constructor.call(this,y.create(t)),e)for(var i in e.prototype)"function"==typeof e.prototype[i]&&(this[i]=e.prototype[i])},inherit:y.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),y.extend(y.Parent,{element:function(t,e){return this.put(new y.Bare(t,e))},symbol:function(){return this.defs().element("symbol",y.Container)}}),y.Use=y.invent({create:"use",inherit:y.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,y.xlink)}},construct:{use:function(t,e){return this.put(new y.Use).element(t,e)}}}),y.Rect=y.invent({create:"rect",inherit:y.Shape,construct:{rect:function(t,e){return this.put(new y.Rect).size(t,e)}}}),y.Circle=y.invent({create:"circle",inherit:y.Shape,construct:{circle:function(t){return this.put(new y.Circle).rx(new y.Number(t).divide(2)).move(0,0)}}}),y.extend(y.Circle,y.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),y.Ellipse=y.invent({create:"ellipse",inherit:y.Shape,construct:{ellipse:function(t,e){return this.put(new y.Ellipse).size(t,e).move(0,0)}}}),y.extend(y.Ellipse,y.Rect,y.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),y.extend(y.Circle,y.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new y.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new y.Number(t).divide(2))},size:function(t,e){var i=l(this,t,e);return this.rx(new y.Number(i.width).divide(2)).ry(new y.Number(i.height).divide(2))}}),y.Line=y.invent({create:"line",inherit:y.Shape,extend:{array:function(){return new y.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,i,n){return t="undefined"!=typeof e?{x1:t,y1:e,x2:i,y2:n}:new y.PointArray(t).toLine(),this.attr(t)},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=l(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,i,n){return this.put(new y.Line).plot(t,e,i,n)}}}),y.Polyline=y.invent({create:"polyline",inherit:y.Shape,construct:{polyline:function(t){return this.put(new y.Polyline).plot(t)}}}),y.Polygon=y.invent({create:"polygon",inherit:y.Shape,construct:{polygon:function(t){return this.put(new y.Polygon).plot(t)}}}),y.extend(y.Polyline,y.Polygon,{array:function(){return this._array||(this._array=new y.PointArray(this.attr("points")))},plot:function(t){return this.attr("points",this._array=new y.PointArray(t))},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=l(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),y.extend(y.Line,y.Polyline,y.Polygon,{morphArray:y.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),y.Path=y.invent({create:"path",inherit:y.Shape,extend:{morphArray:y.PathArray,array:function(){return this._array||(this._array=new y.PathArray(this.attr("d")))},plot:function(t){return this.attr("d",this._array=new y.PathArray(t))},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var i=l(this,t,e);return this.attr("d",this.array().size(i.width,i.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new y.Path).plot(t)}}}),y.Image=y.invent({create:"image",inherit:y.Shape,extend:{load:function(t){if(!t)return this;var i=this,n=e.createElement("img");return n.onload=function(){var e=i.parent(y.Pattern);null!==e&&(0==i.width()&&0==i.height()&&i.size(n.width,n.height),e&&0==e.width()&&0==e.height()&&e.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:n.width,height:n.height,ratio:n.width/n.height,url:t}))},n.onerror=function(t){"function"==typeof i._error&&i._error.call(i,t)},this.attr("href",n.src=this.src=t,y.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,i){return this.put(new y.Image).load(t).size(e||0,i||e||0)}}}),y.Text=y.invent({create:function(){this.constructor.call(this,y.create("text")),this.dom.leading=new y.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",y.defaults.attrs["font-family"])},inherit:y.Shape,extend:{x:function(t){return null==t?this.attr("x"):(this.textPath||this.lines().each(function(){this.dom.newLined&&this.x(t)}),this.attr("x",t))},y:function(t){var e=this.attr("y"),i="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-i:e:this.attr("y","number"==typeof t?t+i:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if("undefined"==typeof t){for(var t="",e=this.node.childNodes,i=0,n=e.length;i<n;++i)0!=i&&3!=e[i].nodeType&&1==y.adopt(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=t.split("\n");for(var i=0,r=t.length;i<r;i++)this.tspan(t[i]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new y.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=y.utils.map(y.utils.filterSVGElements(t.childNodes),function(t){return y.adopt(t)});return new y.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,i=0,n=this.dom.leading*new y.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(this.textPath||this.attr("x",e.attr("x")),"\n"==this.text()?i+=n:(this.attr("dy",n+i),i=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new y.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new y.Text).text(t)},plain:function(t){return this.put(new y.Text).plain(t)}}}),y.Tspan=y.invent({create:"tspan",inherit:y.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(y.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),y.extend(y.Text,y.Tspan,{plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,i=new y.Tspan;return this._build===!1&&this.clear(),e.appendChild(i.node),i.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),y.TextPath=y.invent({create:"textPath",inherit:y.Parent,parent:y.Text,construct:{path:function(t){for(var e=new y.TextPath,i=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+i,y.xlink),this},plot:function(t){var e=this.track();return e&&e.plot(t),this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return y.adopt(this.node.firstChild)}}}),y.Nested=y.invent({create:function(){this.constructor.call(this,y.create("svg")),this.style("overflow","visible")},inherit:y.Container,construct:{nested:function(){return this.put(new y.Nested)}}}),y.A=y.invent({create:"a",inherit:y.Container,extend:{to:function(t){return this.attr("href",t,y.xlink)},show:function(t){return this.attr("show",t,y.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new y.A).to(t)}}}),y.extend(y.Element,{linkTo:function(t){var e=new y.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),y.Marker=y.invent({create:"marker",inherit:y.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,i){return this.defs().marker(t,e,i)}}}),y.extend(y.Defs,{marker:function(t,e,i){return this.put(new y.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(i)}}),y.extend(y.Line,y.Polyline,y.Polygon,y.Path,{marker:function(t,e,i,n){var r=["marker"];return"all"!=t&&r.push(t),r=r.join("-"),t=arguments[1]instanceof y.Marker?arguments[1]:this.doc().marker(e,i,n),this.attr(r,t)}});var _={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){var e,i={};i[t]=function(i){if("string"==typeof i||y.Color.isRgb(i)||i&&"function"==typeof i.fill)this.attr(t,i);else for(e=_[t].length-1;e>=0;e--)null!=i[_[t][e]]&&this.attr(_.prefix(t,_[t][e]),i[_[t][e]]);return this},y.extend(y.Element,y.FX,i)}),y.extend(y.Element,y.FX,{rotate:function(t,e,i){return this.transform({rotation:t,cx:e,cy:i})},skew:function(t,e,i,n){return this.transform({skewX:t,skewY:e,cx:i,cy:n})},scale:function(t,e,i,n){return 1==arguments.length||3==arguments.length?this.transform({scale:t,cx:e,cy:i}):this.transform({scaleX:t,scaleY:e,cx:i,cy:n})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return this.transform({flip:t,offset:e})},matrix:function(t){return this.attr("transform",new y.Matrix(t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x((this instanceof y.FX?0:this.x())+t,!0)},dy:function(t){return this.y((this instanceof y.FX?0:this.y())+t,!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),y.extend(y.Rect,y.Ellipse,y.Circle,y.Gradient,y.FX,{radius:function(t,e){var i=(this._target||this).type;return"radial"==i||"circle"==i?this.attr("r",new y.Number(t)):this.rx(t).ry(null==e?t:e)}}),y.extend(y.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),y.extend(y.Parent,y.Text,y.FX,{font:function(t){for(var e in t)"leading"==e?this.leading(t[e]):"anchor"==e?this.attr("text-anchor",t[e]):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t[e]):this.attr(e,t[e]);return this}}),y.Set=y.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,i=[].slice.call(arguments);for(t=0,e=i.length;t<e;t++)this.members.push(i[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var t=new y.BBox;if(0==this.members.length)return t;var e=this.members[0].rbox();return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,this.each(function(){t=t.merge(this.rbox())}),t}},construct:{set:function(t){return new y.Set(t)}}}),y.FX.Set=y.invent({create:function(t){this.set=t}}),y.Set.inherit=function(){var t,e=[];for(var t in y.Shape.prototype)"function"==typeof y.Shape.prototype[t]&&"function"!=typeof y.Set.prototype[t]&&e.push(t);e.forEach(function(t){y.Set.prototype[t]=function(){for(var e=0,i=this.members.length;e<i;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new y.FX.Set(this)):this}}),e=[];for(var t in y.FX.prototype)"function"==typeof y.FX.prototype[t]&&"function"!=typeof y.FX.Set.prototype[t]&&e.push(t);e.forEach(function(t){y.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},y.extend(y.Element,{data:function(t,e,i){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(n){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:i===!0||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),y.extend(y.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),y.get=function(t){var i=e.getElementById(v(t)||t);return y.adopt(i)},y.select=function(t,i){return new y.Set(y.utils.map((i||e).querySelectorAll(t),function(t){return y.adopt(t)}))},y.extend(y.Parent,{select:function(t){return y.select(t,this.node)}});var b="abcdef".split("");if("function"!=typeof w){var w=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=e.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n};w.prototype=t.Event.prototype,t.CustomEvent=w}return function(e){for(var i=0,n=["moz","webkit"],r=0;r<n.length&&!t.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-i)),s=e.setTimeout(function(){t(n+r)},r);return i=n+r,s},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),y})},{}],199:[function(t,e,i){(function(t){function i(t,e){function i(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}if(n("noDeprecation"))return t;var r=!1;return i}function n(e){try{if(!t.localStorage)return!1}catch(i){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],200:[function(t,e,i){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],201:[function(t,e,i){(function(e,n){function r(t,e){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&i._extend(n,e),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),l(n,t,n.depth)}function s(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function o(t,e){return t}function a(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function l(t,e,n){if(t.customInspect&&e&&D(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return _(r)||(r=l(t,r,n)),r}var s=u(t,e);if(s)return s;var o=Object.keys(e),g=a(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),C(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(e);if(0===o.length){if(D(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(T(e))return t.stylize(Date.prototype.toString.call(e),"date");if(C(e))return c(e)}var v="",y=!1,b=["{","}"];if(p(e)&&(y=!0,b=["[","]"]),D(e)){var w=e.name?": "+e.name:"";v=" [Function"+w+"]"}if(x(e)&&(v=" "+RegExp.prototype.toString.call(e)),T(e)&&(v=" "+Date.prototype.toUTCString.call(e)),C(e)&&(v=" "+c(e)),0===o.length&&(!y||0==e.length))return b[0]+v+b[1];if(n<0)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var k;return k=y?h(t,e,n,g,o):o.map(function(i){return d(t,e,n,g,i,y)}),t.seen.pop(),f(k,v,b)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,i,n,r){for(var s=[],o=0,a=e.length;o<a;++o)M(e,String(o))?s.push(d(t,e,i,n,String(o),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(d(t,e,i,n,r,!0))}),s}function d(t,e,i,n,r,s){var o,a,u;if(u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),M(n,r)||(o="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(i)?l(t,u.value,null):l(t,u.value,i-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(o)){if(s&&r.match(/^\d+$/))return a;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"));
}return o+": "+a}function f(t,e,i){var n=0,r=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return k(t)&&"[object RegExp]"===E(t)}function k(t){return"object"==typeof t&&null!==t}function T(t){return k(t)&&"[object Date]"===E(t)}function C(t){return k(t)&&("[object Error]"===E(t)||t instanceof Error)}function D(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function E(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var P=/%[sdj%]/g;i.format=function(t){if(!_(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,s=n.length,o=String(t).replace(P,function(t){if("%%"===t)return"%";if(i>=s)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return t}}),a=n[i];i<s;a=n[++i])o+=m(a)||!k(a)?" "+a:" "+r(a);return o},i.deprecate=function(t,r){function s(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return t.apply(this,arguments)}if(w(n.process))return function(){return i.deprecate(t,r).apply(this,arguments)};if(e.noDeprecation===!0)return t;var o=!1;return s};var j,$={};i.debuglog=function(t){if(w(j)&&(j=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!$[t])if(new RegExp("\\b"+t+"\\b","i").test(j)){var n=e.pid;$[t]=function(){var e=i.format.apply(i,arguments);console.error("%s %d: %s",t,n,e)}}else $[t]=function(){};return $[t]},i.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=g,i.isNull=m,i.isNullOrUndefined=v,i.isNumber=y,i.isString=_,i.isSymbol=b,i.isUndefined=w,i.isRegExp=x,i.isObject=k,i.isDate=T,i.isError=C,i.isFunction=D,i.isPrimitive=S,i.isBuffer=t("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",A(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!k(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":200,_process:183,inherits:174}],202:[function(t,e,i){!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof e&&"object"==typeof e.exports?e.exports=i(t("jquery")):i(jQuery)}(function(t){"use strict";var e=t.keyboard=function(i,n){var r,s=this;s.version="1.26.0",s.$el=t(i),s.el=i,s.$el.data("keyboard",s),s.init=function(){var i,o,a,l=e.css,u=e.events;s.settings=n||{},n&&n.position&&(o=t.extend({},n.position),n.position=null),s.options=r=t.extend(!0,{},e.defaultOptions,n),o&&(r.position=o,n.position=o),s.el.active=!0,s.namespace=".keyboard"+Math.random().toString(16).slice(2),s.extensionNamespace=[],s.shiftActive=s.altActive=s.metaActive=s.sets=s.capsLock=!1,s.rows=["","-shift","-alt","-alt-shift"],s.inPlaceholder=s.$el.attr("placeholder")||"",s.watermark=e.watermark&&""!==s.inPlaceholder,s.repeatTime=1e3/(r.repeatRate||20),r.preventDoubleEventTime=r.preventDoubleEventTime||100,s.isOpen=!1,s.wheel=t.isFunction(t.fn.mousewheel),s.escapeRegex=/[-\/\\^$*+?.()|[\]{}]/g,i=e.keyCodes,s.alwaysAllowed=[i.capsLock,i.pageUp,i.pageDown,i.end,i.home,i.left,i.up,i.right,i.down,i.insert,i["delete"]],s.$keyboard=[],s.enabled=!0,t.isEmptyObject(r.position)||(r.position.orig_at=r.position.at),s.checkCaret=r.lockInput||e.checkCaretSupport(),s.last={start:0,end:0,key:"",val:"",preVal:"",layout:"",virtual:!0,keyset:[!1,!1,!1],wheel_$Keys:null,wheelIndex:0,wheelLayers:[]},s.temp=["",0,0],t.each([u.kbInit,u.kbBeforeVisible,u.kbVisible,u.kbHidden,u.inputCanceled,u.inputAccepted,u.kbBeforeClose],function(e,i){t.isFunction(r[i])&&s.$el.bind(i+s.namespace+"callbacks",r[i])}),r.alwaysOpen&&(r.stayOpen=!0),a=t(document),s.el.ownerDocument!==document&&(a=a.add(s.el.ownerDocument)),a.bind("mousedown keyup touchstart checkkeyboard ".split(" ").join(s.namespace+" "),s.checkClose),s.$el.addClass(l.input+" "+r.css.input).attr({"aria-haspopup":"true",role:"textbox"}),(r.lockInput||s.el.readOnly)&&(r.lockInput=!0,s.$el.addClass(l.locked).attr({readonly:"readonly"})),(s.$el.is(":disabled")||s.$el.attr("readonly")&&!s.$el.hasClass(l.locked))&&s.$el.addClass(l.noKeyboard),r.openOn&&s.bindFocus(),s.watermark||""!==s.$el.val()||""===s.inPlaceholder||""===s.$el.attr("placeholder")||s.$el.addClass(l.placeholder).val(s.inPlaceholder),s.$el.trigger(u.kbInit,[s,s.el]),r.alwaysOpen&&s.reveal()},s.toggle=function(){var t=s.$keyboard.find("."+e.css.keyToggle),i=!s.enabled;s.$preview.prop("readonly",i||s.options.lockInput),s.$keyboard.toggleClass(e.css.keyDisabled,i).find("."+e.css.keyButton).not(t).prop("disabled",i).attr("aria-disabled",i),t.toggleClass(e.css.keyDisabled,i),i&&s.typing_options&&(s.typing_options.text="")},s.setCurrent=function(){var i=e.css,n=t("."+i.isCurrent),r=n.data("keyboard");t.isEmptyObject(r)||r.el===s.el||r.close(!!r.options.autoAccept&&"true"),n.removeClass(i.isCurrent),t("."+i.hasFocus).removeClass(i.hasFocus),s.$el.addClass(i.isCurrent),s.$keyboard.addClass(i.hasFocus),s.isCurrent(!0),s.isOpen=!0},s.isCurrent=function(t){var i=e.currentKeyboard||!1;return t?i=e.currentKeyboard=s.el:t===!1&&i===s.el&&(i=e.currentKeyboard=""),i===s.el},s.isVisible=function(){return!(!s.$keyboard||!s.$keyboard.length)&&s.$keyboard.is(":visible")},s.focusOn=function(){!s&&s.el.active||s.isVisible()||(clearTimeout(s.timer),s.reveal())},s.redraw=function(){s.$keyboard.length&&(s.last.preVal=""+s.last.val,s.last.val=s.$preview&&s.$preview.val()||s.$el.val(),s.$el.val(s.last.val),s.removeKeyboard(),s.shiftActive=s.altActive=s.metaActive=!1),s.isOpen=r.alwaysOpen,s.reveal(!0)},s.reveal=function(i){var n=s.isOpen,o=e.css;return s.opening=!n,t("."+o.keyboard).not("."+o.alwaysOpen).each(function(){var e=t(this).data("keyboard");t.isEmptyObject(e)||e.close(!(!e.options.autoAccept||!e.options.autoAcceptOnEsc)&&"true")}),s.$el.is(":disabled")||s.$el.attr("readonly")&&!s.$el.hasClass(o.locked)?void s.$el.addClass(o.noKeyboard):(s.$el.removeClass(o.noKeyboard),r.openOn&&s.$el.unbind(t.trim((r.openOn+" ").split(/\s+/).join(s.namespace+" "))),s.$keyboard&&(!s.$keyboard||s.$keyboard.length&&!t.contains(document.body,s.$keyboard[0]))||s.startup(),s.watermark||s.el.value!==s.inPlaceholder||s.$el.removeClass(o.placeholder).val(""),s.originalContent=s.$el.val(),s.$preview.val(s.originalContent),r.acceptValid&&s.checkValid(),r.resetDefault&&(s.shiftActive=s.altActive=s.metaActive=!1),s.showSet(),s.isVisible()||s.$el.trigger(e.events.kbBeforeVisible,[s,s.el]),s.setCurrent(),s.toggle(),s.$keyboard.show(),r.usePreview&&e.msie&&("undefined"==typeof s.width&&(s.$preview.hide(),s.width=Math.ceil(s.$keyboard.width()),s.$preview.show()),s.$preview.width(s.width)),s.position=!t.isEmptyObject(r.position)&&r.position,t.ui&&t.ui.position&&s.position&&(s.position.of=s.position.of||s.$el.data("keyboardPosition")||s.$el,s.position.collision=s.position.collision||"flipfit flipfit",r.position.at=r.usePreview?r.position.orig_at:r.position.at2,s.$keyboard.position(s.position)),s.checkDecimal(),s.lineHeight=parseInt(s.$preview.css("lineHeight"),10)||parseInt(s.$preview.css("font-size"),10)+4,r.caretToEnd&&s.saveCaret(s.originalContent.length,s.originalContent.length),e.allie&&(0===s.last.end&&s.last.start>0&&(s.last.end=s.last.start),s.last.start<0&&(s.last.start=s.last.end=s.originalContent.length)),n||i?(e.caret(s.$preview,s.last),s):(s.timer2=setTimeout(function(){var t;s.opening=!1,/(number|email)/i.test(s.el.type)||r.caretToEnd||s.saveCaret(t,t,s.$el),r.initialFocus&&e.caret(s.$preview,s.last),s.last.eventTime=(new Date).getTime(),s.$el.trigger(e.events.kbVisible,[s,s.el]),s.timer=setTimeout(function(){s&&s.saveCaret()},200)},10),s))},s.updateLanguage=function(){var i=e.layouts,n=r.language||i[r.layout]&&i[r.layout].lang&&i[r.layout].lang||[r.language||"en"],o=e.language;n=(t.isArray(n)?n[0]:n).split("-")[0],r.display=t.extend(!0,{},o.en.display,o[n]&&o[n].display||{},s.settings.display),r.combos=t.extend(!0,{},o.en.combos,o[n]&&o[n].combos||{},s.settings.combos),r.wheelMessage=o[n]&&o[n].wheelMessage||o.en.wheelMessage,r.rtl=i[r.layout]&&i[r.layout].rtl||o[n]&&o[n].rtl||!1,s.regex=o[n]&&o[n].comboRegex||e.comboRegex,s.decimal=/^\./.test(r.display.dec),s.$el.toggleClass("rtl",r.rtl).css("direction",r.rtl?"rtl":"")},s.startup=function(){var i=e.css;(r.alwaysOpen||r.userClosed)&&s.$preview||s.makePreview(),s.$keyboard&&s.$keyboard.length||("custom"===r.layout&&(r.layoutHash="custom"+s.customHash()),s.layout="custom"===r.layout?r.layoutHash:r.layout,s.last.layout=s.layout,s.updateLanguage(),"undefined"==typeof e.builtLayouts[s.layout]&&(t.isFunction(r.create)?s.$keyboard=r.create(s):s.$keyboard.length||s.buildKeyboard(s.layout,!0)),s.$keyboard=e.builtLayouts[s.layout].$keyboard.clone(),s.$keyboard.data("keyboard",s),""!==(s.el.id||"")&&s.$keyboard.attr("id",s.el.id+e.css.idSuffix),s.makePreview(),r.usePreview?t.isEmptyObject(r.position)||(r.position.at=r.position.orig_at):t.isEmptyObject(r.position)||(r.position.at=r.position.at2)),s.$decBtn=s.$keyboard.find("."+i.keyPrefix+"dec"),(r.enterNavigation||"TEXTAREA"===s.el.nodeName)&&s.alwaysAllowed.push(13),s.bindKeyboard(),s.$keyboard.appendTo(r.appendLocally?s.$el.parent():r.appendTo||"body"),s.bindKeys(),r.reposition&&t.ui&&t.ui.position&&"body"==r.appendTo&&t(window).bind("resize"+s.namespace,function(){s.position&&s.isVisible()&&s.$keyboard.position(s.position)})},s.makePreview=function(){if(r.usePreview){var i,n,o,a,l=e.css;for(s.$preview=s.$el.clone(!1).data("keyboard",s).removeClass(l.placeholder+" "+l.input).addClass(l.preview+" "+r.css.input).attr("tabindex","-1").show(),s.preview=s.$preview[0],"number"===s.preview.type&&(s.preview.type="text"),a=/^(data-|id|aria-haspopup)/i,n=s.$preview.get(0).attributes,i=n.length-1;i>=0;i--)o=n[i]&&n[i].name,a.test(o)&&s.preview.removeAttribute(o);t("<div />").addClass(l.wrapper).append(s.$preview).prependTo(s.$keyboard)}else s.$preview=s.$el,s.preview=s.el},s.saveCaret=function(t,i,n){var r=e.caret(n||s.$preview,t,i);s.last.start="undefined"==typeof t?r.start:t,s.last.end="undefined"==typeof i?r.end:i},s.setScroll=function(){if(s.last.virtual){var t,i,n,o,a="TEXTAREA"===s.preview.nodeName,l=s.last.val.substring(0,Math.max(s.last.start,s.last.end));s.$previewCopy||(s.$previewCopy=s.$preview.clone().removeAttr("id").css({position:"absolute",left:0,zIndex:-10,visibility:"hidden"}).addClass(e.css.inputClone),a||s.$previewCopy.css({"white-space":"pre",width:0}),r.usePreview?s.$preview.after(s.$previewCopy):s.$keyboard.prepend(s.$previewCopy)),a?(s.$previewCopy.height(s.lineHeight).val(l),s.preview.scrollTop=s.lineHeight*(Math.floor(s.$previewCopy[0].scrollHeight/s.lineHeight)-1)):(s.$previewCopy.val(l.replace(/\s/g,"")),n=/c/i.test(r.scrollAdjustment)?s.preview.clientWidth/2:r.scrollAdjustment,t=s.$previewCopy[0].scrollWidth-1,"undefined"==typeof s.last.scrollWidth&&(s.last.scrollWidth=t,s.last.direction=!0),o=s.last.scrollWidth===t?s.last.direction:s.last.scrollWidth<t,i=s.preview.clientWidth-n,o?t<i?s.preview.scrollLeft=0:s.preview.scrollLeft=t-i:t>=s.preview.scrollWidth-i?s.preview.scrollLeft=s.preview.scrollWidth-n:t-n>0?s.preview.scrollLeft=t-n:s.preview.scrollLeft=0,s.last.scrollWidth=t,s.last.direction=o)}},s.bindFocus=function(){r.openOn&&s&&s.el.active&&(s.$el.bind(r.openOn+s.namespace,function(){s.focusOn()}),t(":focus")[0]===s.el&&s.$el.blur())},s.bindKeyboard=function(){var i,n=e.keyCodes,o=e.builtLayouts[s.layout];s.$preview.unbind(s.namespace).bind("click"+s.namespace+" touchstart"+s.namespace,function(){r.alwaysOpen&&!s.isCurrent()&&s.reveal(),s.timer2=setTimeout(function(){s&&s.saveCaret()},150)}).bind("keypress"+s.namespace,function(a){if(r.lockInput||!s.isCurrent())return!1;var l=a.charCode||a.which,u=l>=n.A&&l<=n.Z,c=l>=n.a&&l<=n.z,h=s.last.key=String.fromCharCode(l);if(s.last.virtual=!1,s.last.event=a,s.last.$key=[],s.checkCaret&&s.saveCaret(),l!==n.capsLock&&(u||c)&&(s.capsLock=u&&!a.shiftKey||c&&a.shiftKey,s.capsLock&&!s.shiftActive&&(s.shiftActive=!0,s.showSet())),r.restrictInput){if((a.which===n.backSpace||0===a.which)&&t.inArray(a.keyCode,s.alwaysAllowed))return;t.inArray(h,o.acceptedKeys)===-1&&(a.preventDefault(),i=t.extend({},a),i.type=e.events.inputRestricted,s.$el.trigger(i,[s,s.el]),t.isFunction(r.restricted)&&r.restricted(i,s,s.el))}else if((a.ctrlKey||a.metaKey)&&(a.which===n.A||a.which===n.C||a.which===n.V||a.which>=n.X&&a.which<=n.Z))return;o.hasMappedKeys&&o.mappedKeys.hasOwnProperty(h)&&(s.last.key=o.mappedKeys[h],s.insertText(s.last.key),a.preventDefault()),"function"==typeof r.beforeInsert&&(s.insertText(s.last.key),a.preventDefault()),s.checkMaxLength()}).bind("keyup"+s.namespace,function(i){if(s.isCurrent()){switch(s.last.virtual=!1,i.which){case n.tab:if(s.tab&&r.tabNavigation&&!r.lockInput){s.shiftActive=i.shiftKey;var o=e.keyaction.tab(s);if(s.tab=!1,!o)return!1}else i.preventDefault();break;case n.escape:return r.ignoreEsc||s.close(!(!r.autoAccept||!r.autoAcceptOnEsc)&&"true"),!1}return clearTimeout(s.throttled),s.throttled=setTimeout(function(){s&&s.isVisible()&&s.checkCombos()},100),s.checkMaxLength(),s.last.preVal=""+s.last.val,s.last.val=s.$preview.val(),i.type=e.events.kbChange,i.action=s.last.key,s.$el.trigger(i,[s,s.el]),t.isFunction(r.change)?(i.type=e.events.inputChange,r.change(i,s,s.el),!1):void(r.acceptValid&&r.autoAcceptOnValid&&t.isFunction(r.validate)&&r.validate(s,s.$preview.val())&&(s.$preview.blur(),s.accept()))}}).bind("keydown"+s.namespace,function(t){if(r.alwaysOpen&&!s.isCurrent()&&s.reveal(),t.which===n.tab)return s.tab=!0,!1;if(r.lockInput)return!1;switch(s.last.virtual=!1,t.which){case n.backSpace:e.keyaction.bksp(s,null,t),t.preventDefault();break;case n.enter:e.keyaction.enter(s,null,t);break;case n.capsLock:s.shiftActive=s.capsLock=!s.capsLock,s.showSet();break;case n.V:if(t.ctrlKey||t.metaKey){if(r.preventPaste)return void t.preventDefault();s.checkCombos()}}}).bind("mouseup touchend ".split(" ").join(s.namespace+" "),function(){s.last.virtual=!0,s.saveCaret()}),s.$keyboard.bind("mousedown click touchstart ".split(" ").join(s.namespace+" "),function(e){e.stopPropagation(),s.isCurrent()||(s.reveal(),t(document).trigger("checkkeyboard"+s.namespace)),!r.noFocus&&s.$preview&&(s.$preview.focus(),e.preventDefault())}),r.preventPaste&&(s.$preview.bind("contextmenu"+s.namespace,function(t){t.preventDefault()}),s.$el.bind("contextmenu"+s.namespace,function(t){t.preventDefault()}))},s.bindKeys=function(){var i=e.css;s.$allKeys=s.$keyboard.find("button."+i.keyButton).unbind(s.namespace+" "+s.namespace+"kb").bind("mouseenter mouseleave touchstart ".split(" ").join(s.namespace+" "),function(i){if(!r.alwaysOpen&&!r.userClosed||"mouseleave"===i.type||s.isCurrent()||(s.reveal(),s.$preview.focus(),e.caret(s.$preview,s.last)),s.isCurrent()){var n,o,a=s.last,l=t(this),u=i.type;r.useWheel&&s.wheel&&(n=s.getLayers(l),o=(n.length?n.map(function(){return t(this).attr("data-value")||""}).get():"")||[l.text()],a.wheel_$Keys=n,a.wheelLayers=o,a.wheelIndex=t.inArray(l.attr("data-value"),o)),"mouseenter"!==u&&"touchstart"!==u||"password"===s.el.type||l.hasClass(r.css.buttonDisabled)||(l.addClass(r.css.buttonHover),r.useWheel&&s.wheel&&l.attr("title",function(t,e){return s.wheel&&""===e&&s.sets&&o.length>1&&"touchstart"!==u?r.wheelMessage:e})),"mouseleave"===u&&(l.removeClass("password"===s.el.type?"":r.css.buttonHover),r.useWheel&&s.wheel&&(a.wheelIndex=0,a.wheelLayers=[],a.wheel_$Keys=null,l.attr("title",function(t,e){return e===r.wheelMessage?"":e}).html(l.attr("data-html"))))}}).bind(r.keyBinding.split(" ").join(s.namespace+" ")+s.namespace+" "+e.events.kbRepeater,function(n){if(n.preventDefault(),!s.$keyboard.is(":visible"))return!1;var o,a,l=s.last,u=this,c=t(u),h=(new Date).getTime();if(r.useWheel&&s.wheel&&(a=l.wheel_$Keys,c=a&&l.wheelIndex>-1?a.eq(l.wheelIndex):c),o=c.attr("data-action"),!(h-(l.eventTime||0)<r.preventDoubleEventTime)){if(l.eventTime=h,l.event=n,l.virtual=!0,r.noFocus||(s.$preview.focus(),n.preventDefault()),l.$key=c,l.key=c.attr("data-value"),s.checkCaret&&e.caret(s.$preview,l),o.match("meta")&&(o="meta"),o===l.key&&"string"==typeof e.keyaction[o])l.key=o=e.keyaction[o];else if(o in e.keyaction&&t.isFunction(e.keyaction[o])){if(e.keyaction[o](s,this,n)===!1)return!1;o=null}return"undefined"!=typeof o&&null!==o&&(l.key=t(this).hasClass(i.keyAction)?o:l.key,s.insertText(l.key),s.capsLock||r.stickyShift||n.shiftKey||(s.shiftActive=!1,s.showSet(c.attr("data-name")))),e.caret(s.$preview,l),s.checkCombos(),n.type=e.events.kbChange,n.action=l.key,s.$el.trigger(n,[s,s.el]),l.preVal=""+l.val,l.val=s.$preview.val(),t.isFunction(r.change)?(n.type=e.events.inputChange,r.change(n,s,s.el),!1):void 0}}).bind("mouseup"+s.namespace+" "+"mouseleave touchend touchmove touchcancel ".split(" ").join(s.namespace+"kb "),function(i){s.last.virtual=!0;var n,o=t(this);if("touchmove"===i.type){if(n=o.offset(),n.right=n.left+o.outerWidth(),n.bottom=n.top+o.outerHeight(),i.originalEvent.touches[0].pageX>=n.left&&i.originalEvent.touches[0].pageX<n.right&&i.originalEvent.touches[0].pageY>=n.top&&i.originalEvent.touches[0].pageY<n.bottom)return!0}else/(mouseleave|touchend|touchcancel)/i.test(i.type)?o.removeClass(r.css.buttonHover):(!r.noFocus&&s.isCurrent()&&s.isVisible()&&s.$preview.focus(),s.checkCaret&&e.caret(s.$preview,s.last));return s.mouseRepeat=[!1,""],clearTimeout(s.repeater),r.acceptValid&&r.autoAcceptOnValid&&t.isFunction(r.validate)&&r.validate(s,s.$preview.val())&&(s.$preview.blur(),s.accept()),!1}).bind("click"+s.namespace,function(){return!1}).not("."+i.keyAction).bind("mousewheel"+s.namespace,function(e,i){if(r.useWheel&&s.wheel){i=i||e.deltaY;var n,o=s.last.wheelLayers||[];return o.length>1?(n=s.last.wheelIndex+(i>0?-1:1),n>o.length-1&&(n=0),n<0&&(n=o.length-1)):n=0,s.last.wheelIndex=n,t(this).html(o[n]),!1}}).add("."+i.keyPrefix+"tab bksp space enter".split(" ").join(",."+i.keyPrefix),s.$keyboard).bind("mousedown touchstart ".split(" ").join(s.namespace+"kb "),function(){if(0!==r.repeatRate){var e=t(this);s.mouseRepeat=[!0,e],setTimeout(function(){s&&s.mouseRepeat[0]&&s.mouseRepeat[1]===e&&!e[0].disabled&&s.repeatKey(e)},r.repeatDelay)}return!1})},s.insertText=function(t){if("function"==typeof r.beforeInsert&&(t=r.beforeInsert(s.last.event,s,s.el,t)),"undefined"==typeof t||t===!1)return void(s.last.key="");var i,n,o="\b"===t,a=s.$preview.val(),l=e.caret(s.$preview),u=a.length;l.end<l.start&&(l.end=l.start),l.start>u&&(l.end=l.start=u),"TEXTAREA"===s.preview.nodeName&&e.msie&&"\n"===a.substr(l.start,1)&&(l.start+=1,l.end+=1),"{d}"===t&&(t="",n=l.start,l.end+=1),i=o&&l.start===l.end,t=o?"":t,a=a.substr(0,l.start-(i?1:0))+t+a.substr(l.end),n=l.start+(i?-1:t.length),s.$preview.val(a),s.saveCaret(n,n),s.setScroll()},s.checkMaxLength=function(){if(s.isCurrent()){var t,i,n=s.$preview.val();r.maxLength!==!1&&n.length>r.maxLength&&(t=e.caret(s.$preview).start,i=Math.min(t,r.maxLength),r.maxInsert||(n=s.last.val,i=t-1),s.$preview.val(n.substring(0,r.maxLength)),s.saveCaret(i,i)),s.$decBtn.length&&s.checkDecimal()}},s.repeatKey=function(t){t.trigger(e.events.kbRepeater),s.mouseRepeat[0]&&(s.repeater=setTimeout(function(){s&&s.repeatKey(t)},s.repeatTime))},s.showKeySet=function(t){"string"==typeof t?(s.last.keyset=[s.shiftActive,s.altActive,s.metaActive],s.shiftActive=/shift/i.test(t),s.altActive=/alt/i.test(t),/meta/.test(t)?(s.metaActive=!0,s.showSet(t.match(/meta\d+/i)[0])):(s.metaActive=!1,s.showSet())):s.showSet(t)},s.showSet=function(t){r=s.options;var i=e.css,n="."+i.keyPrefix,o=r.css.buttonActive,a="",l=(s.shiftActive?1:0)+(s.altActive?2:0);return s.shiftActive||(s.capsLock=!1),s.metaActive?(a=/meta/i.test(t)?t:"",""===a?a=s.metaActive===!0?"":s.metaActive:s.metaActive=a,(!r.stickyShift&&s.last.keyset[2]!==s.metaActive||(s.shiftActive||s.altActive)&&!s.$keyboard.find("."+i.keySet+"-"+a+s.rows[l]).length)&&(s.shiftActive=s.altActive=!1)):!r.stickyShift&&s.last.keyset[2]!==s.metaActive&&s.shiftActive&&(s.shiftActive=s.altActive=!1),l=(s.shiftActive?1:0)+(s.altActive?2:0),a=0!==l||s.metaActive?""===a?"":"-"+a:"-normal",s.$keyboard.find("."+i.keySet+a+s.rows[l]).length?(s.$keyboard.find(n+"alt,"+n+"shift,."+i.keyAction+"[class*=meta]").removeClass(o).end().find(n+"alt").toggleClass(o,s.altActive).end().find(n+"shift").toggleClass(o,s.shiftActive).end().find(n+"lock").toggleClass(o,s.capsLock).end().find("."+i.keySet).hide().end().find("."+i.keyAction+n+a).addClass(o),s.$keyboard.find("."+i.keySet+a+s.rows[l])[0].style.display="inline-block",s.metaActive&&s.$keyboard.find(n+s.metaActive).toggleClass(o,s.metaActive!==!1),s.last.keyset=[s.shiftActive,s.altActive,s.metaActive],void s.$el.trigger(e.events.kbKeysetChange,[s,s.el])):(s.shiftActive=s.last.keyset[0],s.altActive=s.last.keyset[1],void(s.metaActive=s.last.keyset[2]))},s.checkCombos=function(){if(!s.isVisible()&&!s.$keyboard.hasClass(e.css.hasFocus))return s.$preview.val();var i,n,o,a=s.$preview.val(),l=e.caret(s.$preview),u=e.builtLayouts[s.layout],c=a.length;return""===a?(r.acceptValid&&s.checkValid(),a):(l.end<l.start&&(l.end=l.start),l.start>c&&(l.end=l.start=c),e.msie&&"\n"===a.substr(l.start,1)&&(l.start+=1,l.end+=1),r.useCombos&&(e.msie?a=a.replace(s.regex,function(t,e,i){return r.combos.hasOwnProperty(e)?r.combos[e][i]||t:t}):s.$preview.length&&(n=l.start-(l.start-2>=0?2:0),e.caret(s.$preview,n,l.end),o=(e.caret(s.$preview).text||"").replace(s.regex,function(t,e,i){return r.combos.hasOwnProperty(e)?r.combos[e][i]||t:t}),s.$preview.val(e.caret(s.$preview).replaceStr(o)),a=s.$preview.val())),r.restrictInput&&""!==a&&(n=u.acceptedKeys.length,i=u.acceptedKeysRegex,i||(o=t.map(u.acceptedKeys,function(t){return t.replace(s.escapeRegex,"\\$&")}),i=u.acceptedKeysRegex=new RegExp("("+o.join("|")+")","g")),o=a.match(i),o?a=o.join(""):(a="",c=0)),l.start+=a.length-c,l.end+=a.length-c,s.$preview.val(a),s.saveCaret(l.start,l.end),s.setScroll(),s.checkMaxLength(),r.acceptValid&&s.checkValid(),a)},s.checkValid=function(){var i=e.css,n=s.$keyboard.find("."+i.keyPrefix+"accept"),o=!0;t.isFunction(r.validate)&&(o=r.validate(s,s.$preview.val(),!1)),n.toggleClass(i.inputInvalid,!o).toggleClass(i.inputValid,o).attr("title",n.attr("data-title")+" ("+r.display[o?"valid":"invalid"]+")")},s.checkDecimal=function(){s.decimal&&/\./g.test(s.preview.value)||!s.decimal&&/\,/g.test(s.preview.value)?s.$decBtn.attr({disabled:"disabled","aria-disabled":"true"}).removeClass(r.css.buttonHover).addClass(r.css.buttonDisabled):s.$decBtn.removeAttr("disabled").attr({"aria-disabled":"false"}).addClass(r.css.buttonDefault).removeClass(r.css.buttonDisabled)},s.getLayers=function(i){var n=e.css,r=i.attr("data-pos"),s=i.closest("."+n.keyboard).find('button[data-pos="'+r+'"]');return s.filter(function(){return""!==t(this).find("."+n.keyText).text()}).add(i)},s.switchInput=function(e,i){if(t.isFunction(r.switchInput))r.switchInput(s,e,i);else{s.$keyboard.length&&s.$keyboard.hide();var n,o=!1,a=t("button, input, textarea, a").filter(":visible").not(":disabled"),l=a.index(s.$el)+(e?1:-1);if(s.$keyboard.length&&s.$keyboard.show(),l>a.length-1&&(o=r.stopAtEnd,l=0),l<0&&(o=r.stopAtEnd,l=a.length-1),!o){if(i=s.close(i),!i)return;n=a.eq(l).data("keyboard"),n&&n.options.openOn.length?n.focusOn():a.eq(l).focus()}}return!1},s.close=function(i){if(s.isOpen&&s.$keyboard.length){clearTimeout(s.throttled);var n=e.css,o=e.events,a=i?s.checkCombos():s.originalContent;if(i&&t.isFunction(r.validate)&&!r.validate(s,a,!0)&&(a=s.originalContent,i=!1,r.cancelClose))return;s.isCurrent(!1),s.isOpen=r.alwaysOpen||r.userClosed,s.$preview.val(a),s.$el.removeClass(n.isCurrent+" "+n.inputAutoAccepted).addClass(i?i===!0?"":n.inputAutoAccepted:"").val(a).trigger(o.inputChange),r.alwaysOpen||s.$el.trigger(o.kbBeforeClose,[s,s.el,i||!1]),s.$el.trigger(i?o.inputAccepted:o.inputCanceled,[s,s.el]).trigger(r.alwaysOpen?o.kbInactive:o.kbHidden,[s,s.el]).blur(),e.caret(s.$preview,s.last),s&&(s.last.eventTime=(new Date).getTime(),r.alwaysOpen||r.userClosed&&"true"===i||!s.$keyboard.length||(s.removeKeyboard(),s.timer=setTimeout(function(){s&&s.bindFocus()},500)),s.watermark||""!==s.el.value||""===s.inPlaceholder||s.$el.addClass(n.placeholder).val(s.inPlaceholder))}return!!i},s.accept=function(){return s.close(!0)},s.checkClose=function(e){if(!s.opening){s.escClose(e);var i=t.keyboard.css,n=t(e.target);if(n.hasClass(i.input)){var r=n.data("keyboard");r!==s||r.$el.hasClass(i.isCurrent)||e.type!==r.options.openOn||r.focusOn()}}},s.escClose=function(i){if(i&&"keyup"===i.type)return i.which!==e.keyCodes.escape||r.ignoreEsc?"":s.close(!(!r.autoAccept||!r.autoAcceptOnEsc)&&"true");if(s.isOpen&&(!s.isCurrent()&&s.isOpen||s.isOpen&&i.target!==s.el)){if((r.stayOpen||r.userClosed)&&!t(i.target).hasClass(e.css.input))return;e.allie&&i.preventDefault(),s.close(!!r.autoAccept&&"true")}},s.keyBtn=t("<button />").attr({role:"button",type:"button","aria-disabled":"false",tabindex:"-1"}).addClass(e.css.keyButton),s.processName=function(t){var e,i,n=(t||"").replace(/[^a-z0-9-_]/gi,""),r=n.length,s=[];if(r>1&&t===n)return t;if(r=t.length){for(e=0;e<r;e++)i=t[e],s.push(/[a-z0-9-_]/i.test(i)?/[-_]/.test(i)&&0!==e?"":i:(0===e?"":"-")+i.charCodeAt(0));return s.join("")}return t},s.processKeys=function(e){var i,n=e.split(":"),r={name:null,map:"",title:""};return/\(.+\)/.test(n[0])||/^:\(.+\)/.test(e)||/\([(:)]\)/.test(e)?/\([(:)]\)/.test(e)?(i=n[0].match(/([^(]+)\((.+)\)/),i&&i.length?(r.name=i[1],r.map=i[2],r.title=n.length>1?n.slice(1).join(":"):""):(r.name=e.match(/([^(]+)/)[0],":"===r.name&&(n=n.slice(1)),null===i&&(r.map=":",n=n.slice(2)),r.title=n.length?n.join(":"):"")):(r.map=e.match(/\(([^()]+?)\)/)[1],e=e.replace(/\(([^()]+)\)/,""),i=e.split(":"),""===i[0]?(r.name=":",n=n.slice(1)):r.name=i[0],r.title=n.length>1?n.slice(1).join(":"):""):(""===n[0]?(r.name=":",n=n.slice(1)):r.name=n[0],r.title=n.length>1?n.slice(1).join(":"):""),r.title=t.trim(r.title).replace(/_/g," "),r},s.addKey=function(t,i,n){var o,a,l,u={},c=s.processKeys(n?t:i),h=e.css;return!n&&r.display[c.name]?(l=s.processKeys(r.display[c.name]),l.action=s.processKeys(t).name):(l=c,l.action=c.name),u.name=s.processName(c.name),""!==l.map?(e.builtLayouts[s.layout].mappedKeys[l.map]=l.name,e.builtLayouts[s.layout].acceptedKeys.push(l.name)):n&&e.builtLayouts[s.layout].acceptedKeys.push(l.name),o=n?""===u.name?"":h.keyPrefix+u.name:h.keyAction+" "+h.keyPrefix+l.action,o+=(l.name.length>2?" "+h.keyWide:"")+" "+r.css.buttonDefault,u.html='<span class="'+h.keyText+'">'+l.name.replace(/[\u00A0-\u9999]/gim,function(t){return"&#"+t.charCodeAt(0)+";"})+"</span>",u.$key=s.keyBtn.clone().attr({"data-value":n?l.name:l.action,"data-name":l.action,"data-pos":s.temp[1]+","+s.temp[2],"data-action":l.action,"data-html":u.html}).addClass(o).html(u.html).appendTo(s.temp[0]),l.map&&u.$key.attr("data-mapped",l.map),(l.title||c.title)&&u.$key.attr({"data-title":c.title||l.title,title:c.title||l.title}),"function"==typeof r.buildKey&&(u=r.buildKey(s,u),a=u.$key.html(),u.$key.attr("data-html",a)),u.$key},s.customHash=function(t){var e,i,n,s,o,a=[],l=[];t="undefined"==typeof t?r.customLayout:t;for(i in t)t.hasOwnProperty(i)&&a.push(t[i]);if(l=l.concat.apply(l,a).join(" "),n=0,o=l.length,0===o)return n;for(e=0;e<o;e++)s=l.charCodeAt(e),n=(n<<5)-n+s,n&=n;return n},s.buildKeyboard=function(i,n){t.isEmptyObject(r.display)&&s.updateLanguage();var o,a,l,u=e.css,c=0,h=e.builtLayouts[i||s.layout||r.layout]={mappedKeys:{},acceptedKeys:[]},d=h.acceptedKeys=r.restrictInclude?(""+r.restrictInclude).split(/\s+/)||[]:[],f=u.keyboard+" "+r.css.popup+" "+r.css.container+(r.alwaysOpen||r.userClosed?" "+u.alwaysOpen:""),p=t("<div />").addClass(f).attr({role:"textbox"}).hide();return n&&"custom"===r.layout||!e.layouts.hasOwnProperty(r.layout)?(r.layout="custom",f=e.layouts.custom=r.customLayout||{normal:["{cancel}"]}):f=e.layouts[n?r.layout:i||s.layout||r.layout],t.each(f,function(e,i){if(""!==e&&!/^(name|lang|rtl)$/i.test(e))for("default"===e&&(e="normal"),c++,a=t("<div />").attr("name",e).addClass(u.keySet+" "+u.keySet+"-"+e).appendTo(p).toggle("normal"===e),o=0;o<i.length;o++)l=t.trim(i[o]).replace(/\{(\.?)[\s+]?:[\s+]?(\.?)\}/g,"{$1:$2}"),s.buildRow(a,o,l.split(/\s+/),d),a.find("."+u.keyButton+",."+u.keySpacer).filter(":last").after('<br class="'+u.endRow+'"/>')}),c>1&&(s.sets=!0),h.hasMappedKeys=!t.isEmptyObject(h.mappedKeys),h.$keyboard=p,p},s.buildRow=function(i,n,o,a){var l,u,c,h,d,f,p=e.css;for(c=0;c<o.length;c++)if(s.temp=[i,n,c],h=!1,0!==o[c].length)if(/^\{\S+\}$/.test(o[c])){if(d=o[c].match(/^\{(\S+)\}$/)[1],/\!\!/.test(d)&&(d=d.replace("!!",""),h=!0),/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i.test(d)&&(f=parseFloat(d.replace(/,/,".").match(/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i)[1]||0),t('<span class="'+p.keyText+'"></span>').width(d.match(/px/i)?f+"px":2*f+"em").addClass(p.keySpacer).appendTo(i)),/^empty(:((\d+)?([\.|,]\d+)?)(em|px)?)?$/i.test(d)&&(f=/:/.test(d)?parseFloat(d.replace(/,/,".").match(/^empty:((\d+)?([\.|,]\d+)?)(em|px)?$/i)[1]||0):"",s.addKey(""," ").addClass(r.css.buttonDisabled+" "+r.css.buttonEmpty).attr("aria-disabled",!0).width(f?d.match("px")?f+"px":2*f+"em":"")),/^meta\d+\:?(\w+)?/i.test(d)){s.addKey(d.split(":")[0],d).addClass(p.keyHasActive);continue}switch(u=d.split(":"),u[0].toLowerCase()){case"a":case"accept":s.addKey("accept",d).addClass(r.css.buttonAction+" "+p.keyAction);break;case"alt":case"altgr":s.addKey("alt",d).addClass(p.keyHasActive);break;case"b":case"bksp":s.addKey("bksp",d);break;case"c":case"cancel":s.addKey("cancel",d).addClass(r.css.buttonAction+" "+p.keyAction);break;case"combo":s.addKey("combo",d).addClass(p.keyHasActive).attr("title",function(t,e){return e+" "+r.display[r.useCombos?"active":"disabled"]}).toggleClass(r.css.buttonActive,r.useCombos);break;case"dec":a.push(s.decimal?".":","),s.addKey("dec",d);break;case"e":case"enter":s.addKey("enter",d).addClass(r.css.buttonAction+" "+p.keyAction);break;case"lock":s.addKey("lock",d).addClass(p.keyHasActive);break;case"s":case"shift":s.addKey("shift",d).addClass(p.keyHasActive);break;case"sign":a.push("-"),s.addKey("sign",d);break;case"space":a.push(" "),s.addKey("space",d);break;case"t":case"tab":s.addKey("tab",d);break;default:e.keyaction.hasOwnProperty(u[0])&&s.addKey(u[0],d).toggleClass(r.css.buttonAction+" "+p.keyAction,h)}}else l=o[c],s.addKey(l,l,!0)},s.removeBindings=function(e){t(document).unbind(e),s.el.ownerDocument!==document&&t(s.el.ownerDocument).unbind(e),t(window).unbind(e),s.$el.unbind(e)},s.removeKeyboard=function(){s.$allKeys=null,s.$decBtn=null,r.usePreview&&s.$preview.removeData("keyboard"),s.preview=null,s.$preview=null,s.$previewCopy=null,s.$keyboard.removeData("keyboard"),s.$keyboard.remove(),s.$keyboard=[],s.isOpen=!1,s.isCurrent(!1)},s.destroy=function(t){var i,n=e.css,o=s.extensionNamespace.length,a=[n.input,n.locked,n.placeholder,n.noKeyboard,n.alwaysOpen,r.css.input,n.isCurrent].join(" ");
for(clearTimeout(s.timer),clearTimeout(s.timer2),s.$keyboard.length&&s.removeKeyboard(),s.removeBindings(s.namespace),s.removeBindings(s.namespace+"callbacks"),i=0;i<o;i++)s.removeBindings(s.extensionNamespace[i]);s.el.active=!1,s.$el.removeClass(a).removeAttr("aria-haspopup").removeAttr("role").removeData("keyboard"),s=null,"function"==typeof t&&t()},s.init()};return e.keyCodes={backSpace:8,tab:9,enter:13,capsLock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,A:65,Z:90,V:86,C:67,X:88,a:97,z:122},e.css={idSuffix:"_keyboard",input:"ui-keyboard-input",inputClone:"ui-keyboard-preview-clone",wrapper:"ui-keyboard-preview-wrapper",preview:"ui-keyboard-preview",keyboard:"ui-keyboard",keySet:"ui-keyboard-keyset",keyButton:"ui-keyboard-button",keyWide:"ui-keyboard-widekey",keyPrefix:"ui-keyboard-",keyText:"ui-keyboard-text",keyHasActive:"ui-keyboard-hasactivestate",keyAction:"ui-keyboard-actionkey",keySpacer:"ui-keyboard-spacer",keyToggle:"ui-keyboard-toggle",keyDisabled:"ui-keyboard-disabled",locked:"ui-keyboard-lockedinput",alwaysOpen:"ui-keyboard-always-open",noKeyboard:"ui-keyboard-nokeyboard",placeholder:"ui-keyboard-placeholder",hasFocus:"ui-keyboard-has-focus",isCurrent:"ui-keyboard-input-current",inputValid:"ui-keyboard-valid-input",inputInvalid:"ui-keyboard-invalid-input",inputAutoAccepted:"ui-keyboard-autoaccepted",endRow:"ui-keyboard-button-endrow"},e.events={kbChange:"keyboardChange",kbBeforeClose:"beforeClose",kbBeforeVisible:"beforeVisible",kbVisible:"visible",kbInit:"initialized",kbInactive:"inactive",kbHidden:"hidden",kbRepeater:"repeater",kbKeysetChange:"keysetChange",inputAccepted:"accepted",inputCanceled:"canceled",inputChange:"change",inputRestricted:"restricted"},e.keyaction={accept:function(t){return t.close(!0),!1},alt:function(t){t.altActive=!t.altActive,t.showSet()},bksp:function(t){t.insertText("\b")},cancel:function(t){return t.close(),!1},clear:function(t){t.$preview.val(""),t.$decBtn.length&&t.checkDecimal()},combo:function(t){var i=t.options,n=!i.useCombos,r=t.$keyboard.find("."+e.css.keyPrefix+"combo");return i.useCombos=n,r.toggleClass(i.css.buttonActive,n).attr("title",r.attr("data-title")+" ("+i.display[n?"active":"disabled"]+")"),n&&t.checkCombos(),!1},dec:function(t){t.insertText(t.decimal?".":",")},del:function(t){t.insertText("{d}")},"default":function(t){t.shiftActive=t.altActive=t.metaActive=!1,t.showSet()},enter:function(i,n,r){var s=i.el.nodeName,o=i.options;return r.shiftKey?o.enterNavigation?i.switchInput(!r[o.enterMod],!0):i.close(!0):o.enterNavigation&&("TEXTAREA"!==s||r[o.enterMod])?i.switchInput(!r[o.enterMod],!!o.autoAccept&&"true"):void("TEXTAREA"===s&&t(r.target).closest("button").length&&i.insertText((e.msie?" ":"")+"\n"))},lock:function(t){t.last.keyset[0]=t.shiftActive=t.capsLock=!t.capsLock,t.showSet()},left:function(t){var i=e.caret(t.$preview);i.start-1>=0&&(t.last.start=t.last.end=i.start-1,e.caret(t.$preview,t.last),t.setScroll())},meta:function(e,i){var n=t(i);e.metaActive=!n.hasClass(e.options.css.buttonActive),e.showSet(n.attr("data-name"))},next:function(t){return t.switchInput(!0,t.options.autoAccept),!1},normal:function(t){t.shiftActive=t.altActive=t.metaActive=!1,t.showSet()},prev:function(t){return t.switchInput(!1,t.options.autoAccept),!1},right:function(t){var i=e.caret(t.$preview);i.start+1<=t.$preview.val().length&&(t.last.start=t.last.end=i.start+1,e.caret(t.$preview,t.last),t.setScroll())},shift:function(t){t.last.keyset[0]=t.shiftActive=!t.shiftActive,t.showSet()},sign:function(t){/^\-?\d*\.?\d*$/.test(t.$preview.val())&&t.$preview.val(t.$preview.val()*-1)},space:function(t){t.insertText(" ")},tab:function(t){var e=t.el.nodeName,i=t.options;return"INPUT"===e?!!i.tabNavigation&&t.switchInput(!t.shiftActive,!0):void t.insertText("\t")},toggle:function(t){t.enabled=!t.enabled,t.toggle()},NBSP:"",ZWSP:"",ZWNJ:"",ZWJ:"",LRM:"",RLM:""},e.builtLayouts={},e.layouts={alpha:{normal:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} a b c d e f g h i j [ ] \\","k l m n o p q r s ; ' {enter}","{shift} t u v w x y z , . / {shift}","{accept} {space} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} A B C D E F G H I J { } |",'K L M N O P Q R S : " {enter}',"{shift} T U V W X Y Z < > ? {shift}","{accept} {space} {cancel}"]},qwerty:{normal:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}","{accept} {space} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{accept} {space} {cancel}"]},international:{normal:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}","{accept} {alt} {space} {alt} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}","{accept} {alt} {space} {alt} {cancel}"],alt:["~             {bksp}","{tab}             ","   f g h j k    {enter}","{shift}  x  v b    >  {shift}","{accept} {alt} {space} {alt} {cancel}"],"alt-shift":["~             {bksp}","{tab}             ","   F G H J K    {enter}","{shift}  X  V B    .  {shift}","{accept} {alt} {space} {alt} {cancel}"]},colemak:{normal:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w f p g j l u y ; [ ] \\","{bksp} a r s t d h n e i o ' {enter}","{shift} z x c v b k m , . / {shift}","{accept} {space} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W F P G J L U Y : { } |",'{bksp} A R S T D H N E I O " {enter}',"{shift} Z X C V B K M < > ? {shift}","{accept} {space} {cancel}"]},dvorak:{normal:["` 1 2 3 4 5 6 7 8 9 0 [ ] {bksp}","{tab} ' , . p y f g c r l / = \\","a o e u i d h t n s - {enter}","{shift} ; q j k x b m w v z {shift}","{accept} {space} {cancel}"],shift:["~ ! @ # $ % ^ & * ( ) { } {bksp}",'{tab} " < > P Y F G C R L ? + |',"A O E U I D H T N S _ {enter}","{shift} : Q J K X B M W V Z {shift}","{accept} {space} {cancel}"]},num:{normal:["= ( ) {b}","{clear} / * -","7 8 9 +","4 5 6 {sign}","1 2 3 %","0 {dec} {a} {c}"]}},e.language={en:{display:{a:":Accept (Shift+Enter)",accept:"Accept:Accept (Shift+Enter)",alt:"Alt: AltGr",b:":Backspace",bksp:"Bksp:Backspace",c:":Cancel (Esc)",cancel:"Cancel:Cancel (Esc)",clear:"C:Clear",combo:":Toggle Combo Keys",dec:".:Decimal",e:":Enter",empty:"",enter:"Enter:Enter ",left:"",lock:"Lock: Caps Lock",next:"Next ",prev:" Prev",right:"",s:":Shift",shift:"Shift:Shift",sign:":Change Sign",space:":Space",t:":Tab",tab:" Tab:Tab",toggle:" ",valid:"valid",invalid:"invalid",active:"active",disabled:"disabled"},wheelMessage:"Use mousewheel to see other keys",comboRegex:/([`\'~\^\"ao])([a-z])/gim,combos:{"`":{a:"",A:"",e:"",E:"",i:"",I:"",o:"",O:"",u:"",U:"",y:"",Y:""},"'":{a:"",A:"",e:"",E:"",i:"",I:"",o:"",O:"",u:"",U:"",y:"",Y:""},'"':{a:"",A:"",e:"",E:"",i:"",I:"",o:"",O:"",u:"",U:"",y:"",Y:""},"^":{a:"",A:"",e:"",E:"",i:"",I:"",o:"",O:"",u:"",U:"",y:"",Y:""},"~":{a:"",A:"",e:"",E:"",i:"",I:"",o:"",O:"",u:"",U:"",y:"",Y:"",n:"",N:""}}}},e.defaultOptions={language:null,rtl:!1,layout:"qwerty",customLayout:null,position:{of:null,my:"center top",at:"center top",at2:"center bottom"},reposition:!0,usePreview:!0,alwaysOpen:!1,initialFocus:!0,noFocus:!1,stayOpen:!1,ignoreEsc:!1,css:{input:"ui-widget-content ui-corner-all",container:"ui-widget-content ui-widget ui-corner-all ui-helper-clearfix",popup:"",buttonDefault:"ui-state-default ui-corner-all",buttonHover:"ui-state-hover",buttonAction:"ui-state-active",buttonActive:"ui-state-active",buttonDisabled:"ui-state-disabled",buttonEmpty:"ui-keyboard-empty"},autoAccept:!1,autoAcceptOnEsc:!1,lockInput:!1,restrictInput:!1,restrictInclude:"",acceptValid:!1,autoAcceptOnValid:!1,cancelClose:!0,tabNavigation:!1,enterNavigation:!1,enterMod:"altKey",stopAtEnd:!0,appendLocally:!1,appendTo:"body",stickyShift:!0,preventPaste:!1,caretToEnd:!1,scrollAdjustment:10,maxLength:!1,maxInsert:!0,repeatDelay:500,repeatRate:20,resetDefault:!0,openOn:"focus",keyBinding:"mousedown touchstart",useWheel:!0,useCombos:!0,validate:function(t,e,i){return!0}},e.comboRegex=/([`\'~\^\"ao])([a-z])/gim,e.currentKeyboard="",t('<!--[if lte IE 8]><script>jQuery("body").addClass("oldie");</script><![endif]--><!--[if IE]><script>jQuery("body").addClass("ie");</script><![endif]-->').appendTo("body").remove(),e.msie=t("body").hasClass("oldie"),e.allie=t("body").hasClass("ie"),e.watermark="undefined"!=typeof document.createElement("input").placeholder,e.checkCaretSupport=function(){if("boolean"!=typeof e.checkCaret){var i=t('<div style="height:0px;width:0px;overflow:hidden;position:fixed;top:0;left:-100px;"><input type="text" value="testing"/></div>').prependTo("body");e.caret(i.find("input"),3,3),e.checkCaret=3!==e.caret(i.find("input").hide().show()).start,i.remove()}return e.checkCaret},e.caret=function(t,e,i){if(!t||!t.length||t.is(":hidden")||"hidden"===t.css("visibility"))return{};var n,r,s,o,a=t.data("keyboard"),l=a&&a.options.noFocus;return l||t.focus(),"undefined"!=typeof e?("object"==typeof e&&"start"in e&&"end"in e?(n=e.start,r=e.end):"undefined"==typeof i&&(i=e),"number"==typeof e&&"number"==typeof i?(n=e,r=i):"start"===e?n=r=0:"string"==typeof e&&(n=r=t.val().length),t.caret(n,r,l)):(o=t.caret(),n=o.start,r=o.end,s=t[0].value||t.text()||"",{start:n,end:r,text:s.substring(n,r),replaceStr:function(t){return s.substring(0,n)+t+s.substring(r,s.length)}})},t.fn.keyboard=function(e){return this.each(function(){t(this).data("keyboard")||new t.keyboard(this,e)})},t.fn.getkeyboard=function(){return this.data("keyboard")},t.fn.caret=function(t,e,i){if("undefined"==typeof this[0]||this.is(":hidden")||"hidden"===this.css("visibility"))return this;var n,r,s,o,a,l=document.selection,u=this,c=u[0],h=c.scrollTop,d=!1,f=!0;try{d="selectionStart"in c}catch(t){f=!1}return f&&"undefined"!=typeof t?(/(email|number)/i.test(c.type)||(d?(c.selectionStart=t,c.selectionEnd=e):(n=c.createTextRange(),n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e-t),n.select())),i||!u.is(":visible")&&"hidden"===u.css("visibility")||c.focus(),c.scrollTop=h,this):(/(email|number)/i.test(c.type)?t=e=u.val().length:d?(t=c.selectionStart,e=c.selectionEnd):l?"TEXTAREA"===c.nodeName?(a=u.val(),r=l.createRange(),s=r.duplicate(),s.moveToElementText(c),s.setEndPoint("EndToEnd",r),t=s.text.replace(/\r/g,"\n").length,e=t+r.text.replace(/\r/g,"\n").length):(a=u.val().replace(/\r/g,"\n"),r=l.createRange().duplicate(),r.moveEnd("character",a.length),t=""===r.text?a.length:a.lastIndexOf(r.text),r=l.createRange().duplicate(),r.moveStart("character",-a.length),e=r.text.length):t=e=(c.value||"").length,o=c.value||"",{start:t,end:e,text:o.substring(t,e),replace:function(i){return o.substring(0,t)+i+o.substring(e,o.length)}})},e})},{jquery:179}],203:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("../utils/EventEmitter.js"),l=t("../target/TargetManager.js"),u=t("../utils/Logger.js").child({component:"ws-base"}),c=t("../utils/Constants.js"),h=function(t){function e(t){n(this,e);var i=r(this,Object.getPrototypeOf(e).call(this,t));return i.options=t||{},i.id=i.options.id,i.period=i.options.period,i.periodReadEnabled=!0,i._timer=null,i._target=null,i._url=i.options.url,i.initCalled=!1,i.reinit=!1,i.state=c.State.NONE,i._url||(i.isDefURL=!0),i.period||(i.isDefPeriod=!0),i.log=u,i}return s(e,t),o(e,[{key:"startPeriodicReading",value:function(t){this.period=t||this.period,this.periodReadEnabled===!1&&(this.periodReadEnabled=!0),this._timer&&clearTimeout(this._timer),this._readPeriodic()}},{key:"stopPeriodicReading",value:function(){this.periodReadEnabled=!1}},{key:"_changeState",value:function(t){if(this.state!==t){var e=this.state;switch(this.state=t,t){case c.State.ONLINE:e===c.State.OFFLINE&&this._readPeriodic();break;case c.State.OFFLINE:this._timer&&clearTimeout(this._timer)}this.emit("state",this)}}},{key:"init",value:function(){return this._timer&&clearTimeout(this._timer),this.initCalled=!0,Promise.resolve()}},{key:"_getTarget",value:function(){var t=this;return this._target?Promise.resolve():new Promise(function(e,i){t._url||(t._url=l.getDefaultURL()),l.getTarget(t._url).then(function(i){t._target=i,t._onTargetOnlineHandle=t._onTargetOnline.bind(t),t._onTargetOfflineHandle=t._onTargetOffline.bind(t),t._target.on("online",t._onTargetOnlineHandle),t._target.on("offline",t._onTargetOfflineHandle),t.emit("online"),e(t._target)})["catch"](i)})}},{key:"_onTargetOnline",value:function(){var t=this;this.init().then(function(){t._changeState(c.State.ONLINE),t.emit("online",t)})["catch"](function(e){t._changeState(c.State.ERROR),e instanceof Error?t.emit("error",e):t.emit("error",new Error(e))})}},{key:"_onTargetOffline",value:function(){this._timer&&clearTimeout(this._timer),this._changeState(c.State.OFFLINE),this.emit("offline",this)}},{key:"read",value:function(){return new Promise.resolve}},{key:"dispose",value:function(){return this._timer&&clearTimeout(this._timer),this._target?(this.emit("offline"),this._target.removeListener("online",this._onTargetOnline),this._target.removeListener("offline",this._onTargetOffline),this._changeState(c.State.NONE),this.initCalled=!1,this._target=null):this._url&&l.disposeTarget(this._url)["catch"](function(t){u.debug(t)}),Promise.resolve()}},{key:"changePeriod",value:function(t){this.period=t,this._timer&&clearTimeout(this._timer),this._readPeriodic()}},{key:"_readPeriodic",value:function(){var t=this;return!this._target||!this.periodReadEnabled||!this.period||this.period<=0?void(this._timer&&clearTimeout(this._timer)):void this.read().then(function(){t.emit("periodic",null,t),t.period>0&&(t._timer=setTimeout(function(){t._readPeriodic()},t.period))})["catch"](function(e){t._timer&&clearTimeout(t._timer),t.emit("periodic",e,t),t.period>0&&t.state===c.State.ONLINE&&(t._timer=setTimeout(function(){t._readPeriodic()},t.period))})}},{key:"_setURL",value:function(t){this._url=t}}]),e}(a);e.exports=h},{"../target/TargetManager.js":211,"../utils/Constants.js":224,"../utils/EventEmitter.js":226,"../utils/Logger.js":228}],204:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./Base.js"),u=t("../target/TargetManager.js"),c=t("./Item.js"),h=t("../utils/Logger.js").child({component:"ws-group"}),d=t("../utils/Constants.js"),f=function(t){function e(t){n(this,e);var i=r(this,Object.getPrototypeOf(e).call(this,t));if(i.log=h,i.items=[],i.activeItems=[],i.timestamp=null,i.options.items){var s=!0,o=!1,a=void 0;try{for(var l,u=i.options.items[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var c=l.value;i.items.push(i,c,c)}}catch(d){o=!0,a=d}finally{try{!s&&u["return"]&&u["return"]()}finally{if(o)throw a}}}return i.servHandle=null,i}return s(e,t),o(e,[{key:"size",value:function(){return this.items.length}},{key:"_changeState",value:function(t){if(this.state!==t)if(t!==d.State.ONLINE){var i=!0,n=!1,r=void 0;try{for(var s,o=this.items[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;l._changeState(t)}}catch(u){n=!0,r=u}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw r}}}else{var c=!0,h=!1,f=void 0;try{for(var p,g=this.activeItems[Symbol.iterator]();!(c=(p=g.next()).done);c=!0){var m=p.value;m._changeState(t)}}catch(u){h=!0,f=u}finally{try{!c&&g["return"]&&g["return"]()}finally{if(h)throw f}}}a(Object.getPrototypeOf(e.prototype),"_changeState",this).call(this,t)}},{key:"addItem",value:function(t){var e=this;if(this.initCalled)return new Promise(function(i,n){var r=e._getNewItem(t);r.init().then(function(){return r.browse()}).then(function(){return e.items.push(r),e.init()}).then(function(){i(r)})["catch"](function(t){r._changeState(d.State.ERROR),n(t)})});var i=this._getNewItem(t);return this.items.push(i),Promise.resolve(i)}},{key:"removeItem",value:function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].id===t)return this.items.splice(e,1),this.initCalled?this.init():Promise.resolve();return Promise.reject("Item: "+t+" not found")}},{key:"addItems",value:function(t){var e=this;if(this.initCalled){var i=[],n=[],r=!0,s=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,c=this._getNewItem(u);n.push(c);var h=function(t){return new Promise(function(e,i){t.init().then(function(){return t.browse()}).then(e)["catch"](function(e){t._changeState(d.State.ERROR),i(e)})})}(c);i.push(h)}}catch(f){s=!0,o=f}finally{try{!r&&l["return"]&&l["return"]()}finally{if(s)throw o}}return new Promise(function(t,r){Promise.all(i).then(function(){var i=!0,s=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;e.items.push(u)}}catch(c){s=!0,o=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw o}}e.init().then(t)["catch"](r)})})}var p=!0,g=!1,m=void 0;try{for(var v,y=t[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var _=v.value;this.addItem(_)}}catch(f){g=!0,m=f}finally{try{!p&&y["return"]&&y["return"]()}finally{if(g)throw m}}}},{key:"removeItems",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=t[Symbol.iterator]();!(e=(r=s.next()).done);e=!0)for(var o=r.value,a=0;a<this.items.length;a++)if(this.items[a].id===o){this.items.splice(a,1);break}}catch(l){i=!0,n=l}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}}},{key:"get",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=this.items[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;if(o.id===t||o.readCString===t)return o}}catch(a){i=!0,n=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}return null}},{key:"$i",value:function(t){return this.get(t)}},{key:"init",value:function(){var t=this;return this.items&&0!==this.items.length?a(Object.getPrototypeOf(e.prototype),"init",this).call(this).then(function(){return new Promise(function(e,i){t._getTarget().then(function(){var n=[];t.activeItems=[];var r=!0,s=!1,o=void 0;try{for(var a,l=t.items[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;u.state!==d.State.ERROR&&(n.push(u.readCString),t.activeItems.push(u))}}catch(c){s=!0,o=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(s)throw o}}t._target.addGroup(n)["catch"](function(e){var i=!0,n=!1,r=void 0;try{for(var s,o=t.items[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value;a._changeState(d.State.ERROR,e)}}catch(e){n=!0,r=e}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw r}}return Promise.reject()}).then(function(e){return new Promise(function(i,n){t.servHandle=e.groupid;for(var r=0;r<e.ids.length;r++){var s=t.activeItems[r];e.ids[r].errno<0&&(h.error({cstring:s.readCString,response:e.ids[r]},s.id+": Failed to add item to group "+t.id+" Error: "+e.ids[r].err),s._changeState(d.State.ERROR))}var o=[],a=!0,l=!1,u=void 0;try{for(var c,f=t.activeItems[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var p=c.value;p.state!==d.State.ERROR&&o.push(function(t){return t.init()["catch"](function(e){return h.error(e),t._changeState(d.State.ERROR),t})}(p))}}catch(g){l=!0,u=g}finally{try{!a&&f["return"]&&f["return"]()}finally{if(l)throw u}}Promise.all(o).then(function(){var e=!0,r=!1,s=void 0;try{for(var o,a=t.activeItems[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var l=o.value;if(l.state===d.State.ERROR){n();break}}}catch(u){r=!0,s=u}finally{try{!e&&a["return"]&&a["return"]()}finally{if(r)throw s}}i()})})})["catch"](function(e){return new Promise(function(e,i){if(t.reinit)return t.reinit=!1,t._changeState(d.State.ERROR),h.error("Failed to reinit group."),void i(c);if(void 0!==t.servHandle&&null!==t.servHandle)t._target.removeGroup(t.servHandle).then(function(){return t.reinit=!0,t.init()}).then(e)["catch"](i);else{var n=!1,r=!0,s=!1,o=void 0;try{for(var a,l=t.items[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u.state!==d.State.ERROR){n=!0;break}}}catch(c){s=!0,o=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(s)throw o}}if(n)return t.reinit=!0,t.init().then(e)["catch"](i);var f=t.activeItems[0]?t.activeItems[0].readCString:"";i(new Error(t.id+": Adding group failed. Connection string "+f+" and many more was not found on target!"))}})}).then(function(){var e=Promise.resolve(),i=!0,n=!1,r=void 0;try{for(var s,o=function(){var t=s.value;e=e.then(function(){return new Promise(function(e,i){t.browse().then(function(){return new Promise(function(t){setTimeout(t,500)})}).then(e)["catch"](function(t){h.error(t),e()})})})},a=t.activeItems[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)o()}catch(l){n=!0,r=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw r}}}).then(function(){return t._changeState(d.State.ONLINE),t.read()}).then(function(){e(t.items),t._readPeriodic()})["catch"](i)})["catch"](i)})}):Promise.reject("Group must have items specified")}},{key:"_onTargetOffline",value:function(){this.servHandle=null,a(Object.getPrototypeOf(e.prototype),"_onTargetOffline",this).call(this)}},{key:"read",value:function(){var t=this;return void 0!==this.servHandle&&null!==this.servHandle?new Promise(function(e,i){var n=null,r=new Promise(function(t){n=t});t._target.readGroup(t.servHandle).then(function(i){t.timestamp=i.t;for(var s=0;s<i.values.length;s++)t.activeItems[s].setValue(i.values[s],r),t.activeItems[s].timestamp=i.t;t._changeState(d.State.ONLINE),t.emit("read",t.items),e(t.items),n()})["catch"](function(e){t.state===d.State.ONLINE&&t._changeState(d.State.ERROR),i(e)})}):Promise.reject("Group is not initialized. Call init() function first!")}},{key:"dispose",value:function(){var t=this,i=this._target;return a(Object.getPrototypeOf(e.prototype),"dispose",this).call(this).then(function(){if(i){var e=!0,n=!1,r=void 0;try{for(var s,o=t.items[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;a.dispose()}}catch(l){n=!0,r=l}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}return i.removeGroup(t.servHandle)["catch"](function(t){h.error(t)}).then(function(){u.disposeTarget(i)["catch"](function(t){h.debug(t)})})}})}},{key:"_setURL",value:function(t){a(Object.getPrototypeOf(e.prototype),"_setURL",this).call(this,t);var i=!0,n=!1,r=void 0;try{for(var s,o=this.items[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;l._url=t}}catch(u){n=!0,r=u}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"_getNewItem",value:function(t){return t instanceof c?(t._url=this._url,t):(t.url=this._url,new c(t))}}]),e}(l);e.exports=f},{"../target/TargetManager.js":211,"../utils/Constants.js":224,"../utils/Logger.js":228,"./Base.js":203,"./Item.js":205}],205:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("events"),l=t("../utils/Constants.js"),u=t("../target/TargetManager.js"),c=function(t){function e(t){n(this,e),t=t||{};var i=r(this,Object.getPrototypeOf(e).call(this,t));return i.readCString=t.readCString||t.cstring,i.id=t.id||t.alias||i.readCString,i._url=t.url,i._url||(i._url=u.getDefaultURL()),i.kind=null,i.value=null,i.timestamp=null,i.maxUpdatePeriod=t.maxUpdatePeriod,i.state=l.State.NONE,i}return s(e,t),o(e,[{key:"init",value:function(){var t=this;if(!this.id||!this.readCString)throw new Error("Item readCString not specified.");return new Promise(function(e,i){t._getTarget().then(function(){t._changeState(l.State.ONLINE),e(t)})["catch"](i)})}},{key:"browse",value:function(){var t=this;return this.kind?Promise.resolve(this):new Promise(function(e,i){var n=/(.+):(\w+)/,r=n.exec(t.readCString);t._target.browseSymbol(r[1]).then(function(i){var n=null,s=!0,o=!1,a=void 0;try{for(var u,c=i.children[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var h=u.value;h.symbol===r[2]&&(n=h)}}catch(d){o=!0,a=d}finally{try{!s&&c["return"]&&c["return"]()}finally{if(o)throw a}}n?t.kind=l.getSymbolKind(n.kind):t.kind=l.getSymbolKind(15),e(t)})["catch"](function(e){t._changeState(l.State.ERROR),i(e)})})}},{key:"_setMaxPeriodTimer",value:function(){var t=this;this.maxUpdatePeriod&&this.maxUpdatePeriod>0&&(this._maxPeriodTimer&&clearTimeout(this._maxPeriodTimer),this._maxPeriodTimer=setTimeout(function(){t._emit("change",t)},this.maxUpdatePeriod))}},{key:"read",value:function(){var t=this;return new Promise(function(e,i){t._target.readItems([t.readCString]).then(function(i){t.setValue(i.values[0]),e(t)})["catch"](i)})}},{key:"write",value:function(){return Promise.reject("Item "+this.id+" is read-only!")}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(t,e){void 0!==this.value&&null!==this.value?this.value!==t&&("number"==typeof t?this.value-t>Number.EPSILON&&(this.value>t?this._emit("falling",e):this._emit("raising",e)):"boolean"==typeof t&&(this.value===!0?this._emit("falling",e):this._emit("raising",e)),this.value=t,this._emit("change",e)):(this.value=t,this._emit("change",e)),this._setMaxPeriodTimer(),this._emit("read",e)}},{key:"isOnline",value:function(){return this.state===l.State.ONLINE}},{key:"_changeState",value:function(t){if(this.state!==t){var e=this.state;switch(this.state=t,t){case l.State.ONLINE:e===l.State.OFFLINE&&this._setMaxPeriodTimer();break;case l.State.OFFLINE:this._maxPeriodTimer&&clearTimeout(this._maxPeriodTimer)}this.emit("state",this)}}},{key:"_getTarget",value:function(){var t=this;return this._target?Promise.resolve():new Promise(function(e,i){u.getTarget(t._url).then(function(i){t._target=i,t._onTargetOnlineHandle=t._onTargetOnline.bind(t),t._onTargetOfflineHandle=t._onTargetOffline.bind(t),t._target.on("online",t._onTargetOnlineHandle),t._target.on("offline",t._onTargetOfflineHandle),e(t._target)})["catch"](i)})}},{key:"_onTargetOnline",value:function(){this.state!==l.State.ERROR&&(this._changeState(l.State.ONLINE),this.emit("online",this))}},{key:"_onTargetOffline",value:function(){this.state!==l.State.ERROR&&(this._changeState(l.State.OFFLINE),this.emit("offline",this))}},{key:"dispose",value:function(){this._maxPeriodTimer&&clearTimeout(this._maxPeriodTimer),this._target?(this._target.removeListener("online",this._onTargetOnlineHandle),this._target.removeListener("offline",this._onTargetOfflineHandle),u.disposeTarget(this._target)):this._url&&u.disposeTarget(this._url),this._changeState(l.State.NONE),this._target=null}},{key:"_emit",value:function(t,e){var i=this;e?e.then(function(){i.emit(t,i)}):this.emit(t,this)}}]),e}(a.EventEmitter);e.exports=c},{"../target/TargetManager.js":211,"../utils/Constants.js":224,events:172}],206:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:h(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./Item.js"),u=t("../utils/Constants.js"),c=function(t){function e(t){n(this,e),t=t||{},t.readCString=t.readCString||t.cstring||t.writeCString;var i=r(this,Object.getPrototypeOf(e).call(this,t));return i.rKind=null,i.wKind=null,i.writeCString=t.writeCString||i.readCString,i.readCString=i.readCString||i.writeCString,i}return s(e,t),o(e,[{key:"init",value:function(){return a(Object.getPrototypeOf(e.prototype),"init",this).call(this)}},{key:"browse",value:function(){var t=this;return this.rKind&&this.wKind?Promise.resolve(this):new Promise(function(e,i){var n,r=/(.+):(\w+)/,s=r.exec(t.readCString),o=r.exec(t.writeCString);if(s[1]===o[1])n=t._target.browseSymbol(s[1]).then(function(e){var i=null,n=!0,r=!1,a=void 0;try{for(var l,c=e.children[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value;h.symbol===s[2]&&(i=h)}}catch(d){r=!0,a=d}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}t.rKind=u.getSymbolKind(i.kind),t.kind=t.rKind,i=null;var f=!0,p=!1,g=void 0;try{for(var m,v=e.children[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var y=m.value;y.symbol===o[2]&&(i=y)}}catch(d){p=!0,g=d}finally{try{!f&&v["return"]&&v["return"]()}finally{if(p)throw g}}t.wKind=u.getSymbolKind(i.kind),t.kind=t.wKind});else{var a=t._target.browseSymbol(s[1]).then(function(e){var i=null,n=!0,r=!1,o=void 0;try{for(var a,l=e.children[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;c.symbol===s[2]&&(i=c)}}catch(h){r=!0,o=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw o}}t.rKind=u.getSymbolKind(i.kind),t.kind=t.rKind}),l=t._target.browseSymbol(o[1]).then(function(e){var i=null,n=!0,r=!1,s=void 0;try{for(var a,l=e.children[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){
var c=a.value;c.symbol===o[2]&&(i=c)}}catch(h){r=!0,s=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw s}}t.wKind=u.getSymbolKind(i.kind)});n=Promise.all([a,l])}n.then(function(){return t.kind.read?t.wKind.write?(t.valid=!0,t._changeState(u.State.ONLINE),void e(t)):(t.valid=!1,void i("Item "+t.id+"("+t.writeCString+") is not writable")):(t.valid=!1,void i("Item "+t.id+"("+t.readCString+") is not readable"))})["catch"](function(e){t._changeState(u.State.ERROR),i(e)})})}},{key:"write",value:function(t){var e=this;return new Promise(function(i,n){return e._target?void e._target.writeItems([e.writeCString],[t]).then(function(){i(e)})["catch"](n):void n("Writing value failed! "+e.id+" is not online!")})}}]),e}(l);e.exports=c},{"../utils/Constants.js":224,"./Item.js":205}],207:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function f(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./Base.js"),u=(t("../target/TargetManager.js"),t("../utils/Constants.js")),c=t("../utils/Logger.js").child({component:"ws-trend"}),h=t("../utils/utils.js"),d=function(t){function e(t){n(this,e);var i=r(this,Object.getPrototypeOf(e).call(this,t));if(i.log=c,i.trndCfg=null,!i.options.cstring)throw new Error(i.id+" trend connection string (cstring) is not defined!");return i.cstring=i.options.cstring,i.readWholeBuffer=h.check(i.options.readWholeBuffer,!0),i.MAX_UPDATE_PERIOD=5,i}return s(e,t),o(e,[{key:"init",value:function(){var t=this;return a(Object.getPrototypeOf(e.prototype),"init",this).call(this).then(function(){return new Promise(function(e,i){t._getTarget().then(function(){t._target.getTrendConfig(t.cstring)["catch"](function(e){return t.log.debug("Adding trend failed! Connection string "+t.cstring+" is not pointing to the TRND block!"),Promise.reject()}).then(function(e){t.trndCfg=e,t.emit("init")}).then(function(){return t._changeState(u.State.ONLINE),t.read()}).then(function(){e(t.items),t._readPeriodic()})["catch"](i)})["catch"](i)})})}},{key:"_onTargetOffline",value:function(){this.trndCfg=null,this.readWholeBuffer=h.check(this.options.readWholeBuffer,!0),a(Object.getPrototypeOf(e.prototype),"_onTargetOffline",this).call(this)}},{key:"read",value:function(){var t=this;return void 0!==this.trndCfg&&null!==this.trndCfg?new Promise(function(e,i){t._target.readTrend(t.trndCfg.trendid).then(function(i){t.emit("read",i),e(i)})["catch"](i)}):Promise.reject("Trend is not initialized. Call init() function first!")}},{key:"_readPeriodic",value:function(){var t=this;return!this._target||!this.periodReadEnabled||!this.period||this.period<=0?void(this._timer&&clearTimeout(this._timer)):void this.read().then(function(e){t.emit("periodic",null,t),t.readWholeBuffer&&!e.underflow&&e.unread>0?t._timer=setTimeout(function(){t._readPeriodic()},t.MAX_UPDATE_PERIOD):t.period>0&&(t._timer=setTimeout(function(){t._readPeriodic()},t.period))})["catch"](function(e){t._timer&&clearTimeout(t._timer),t.emit("periodic",e,t),t.period>0&&t.state===u.State.ONLINE&&(t._timer=setTimeout(function(){t._readPeriodic()},t.period))})}},{key:"dispose",value:function(){this.trndCfg=null,this.readWholeBuffer=h.check(this.options.readWholeBuffer,!0),a(Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(l);e.exports=d},{"../target/TargetManager.js":211,"../utils/Constants.js":224,"../utils/Logger.js":228,"../utils/utils.js":230,"./Base.js":203}],208:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("./Group.js"),l=t("./RWItem.js"),u=function(t){function e(t){return n(this,e),t=t||{},r(this,Object.getPrototypeOf(e).call(this,t))}return s(e,t),o(e,[{key:"write",value:function(t){var e=this;return new Promise(function(i,n){if(void 0!==e.servHandle&&null!==e.servHandle){if(t)for(var r=0;r<t.length;r++)e.activeItems[r].value=t[r];else{t=[];var s=!0,o=!1,a=void 0;try{for(var l,u=e.activeItems[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var c=l.value;t.push(c.value)}}catch(h){o=!0,a=h}finally{try{!s&&u["return"]&&u["return"]()}finally{if(o)throw a}}}e._target.writeGroup(e.servHandle,t).then(function(){i(e.items)})["catch"](n)}else n(new Error("Group not initialized"))})}},{key:"_getNewItem",value:function(t){return new l(t)}}]),e}(a);e.exports=u},{"./Group.js":204,"./RWItem.js":206}],209:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=t("./target/TargetManager.js"),u=t("./utils/Logger.js").child({component:"hmi"}),c=t("./utils/EventEmitter.js"),h=t("./group-management/Base.js"),d=t("./group-management/Group.js"),f=t("./group-management/Item.js"),p=t("./group-management/RWItem.js"),g=(t("events"),t("./ui/HMIGraph.js")),m=t("./utils/EventSync"),v=t("./utils/utils.js"),y=t("./utils/Constants.js"),_=function(t){function e(){n(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.GROUP_MAX_SIZE=100,t.DEFAULT_REFRESH_RATE=500,t.groups=[],t.baseObjects=[],t._defaultRefreshRate=t.DEFAULT_REFRESH_RATE,t.initialized=!1,t.defTarget=null,t._onTargetTimeHandle=t._onTargetTime.bind(t),t._onTargetOnlineHandle=t._onTargetOnline.bind(t),t._onTargetOfflineHandle=t._onTargetOffline.bind(t),t._showHeartBeatClock=!1,t._useClientTime=!1,t.Graph=g,t.log=u,t.headerTitleElement=null,t._ownTarget=!1,t.kioskMode=null,t.disableAutoReload=!1,t.on("init",function(){t.getTarget().on("headerFlags",function(e){e&y.WSF_HMI_CHANGED&&!t.disableAutoReload&&window.location.reload(!0)})}),t}return s(e,t),a(e,[{key:"init",value:function(){}},{key:"connect",value:function(){var t=this;return 1===this.init.length?new Promise(function(e,i){t.init(function(t){t?i(t):e()})}).then(function(){return t._initBaseObjects()}):(this.init(),this._initBaseObjects())}},{key:"_initBaseObjects",value:function(){var t=this;if(0===this.baseObjects.length)return l.getTarget().then(function(e){return t._setDefaultTarget(e),t._ownTarget=!0,t.initialized=!0,t.emit("init"),t.defTarget});var e=[],i=!0,n=!1,r=void 0;try{for(var s,o=this.baseObjects[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value;a.initCalled||e.push(a.init())}}catch(u){n=!0,r=u}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw r}}var c=Promise.all(e);return this.initialized=!0,c.then(function(){return t._setDefaultTarget(),t.emit("init"),t.defTarget})["catch"](function(e){return t.getTarget()&&(t._setDefaultTarget(),t.emit("init")),Promise.reject(e)})}},{key:"disconnect",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.baseObjects[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;s.stopPeriodicReading(),s.dispose()}}catch(o){e=!0,i=o}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw i}}}},{key:"getTarget",value:function(t){if(!t){if(this.defTarget)return this.defTarget;var e=!0,i=!1,n=void 0;try{for(var r,s=this.baseObjects[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;if(o.isDefURL)return o._target}}catch(a){i=!0,n=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}return null}var l=!0,u=!1,c=void 0;try{for(var h,d=this.baseObjects[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;if(f._target.url===t)return f._target}}catch(a){u=!0,c=a}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw c}}}},{key:"setTargetUrl",value:function(t,e){var i=this;if(e||location&&location.hostname&&(t=""),t&&!new RegExp("^(?:ws|wss|http|https):\\/\\/").test(t)&&(t="ws://"+t),l.getDefaultURL()===t)return Promise.resolve();this._disposeTarget(),l.setDefaultURL(t);var n=[],r=!0,s=!1,o=void 0;try{for(var a,c=this.baseObjects[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var h=a.value;h.isDefURL&&n.push(h)}}catch(d){s=!0,o=d}finally{try{!r&&c["return"]&&c["return"]()}finally{if(s)throw o}}var f=[];if(this.initialized){if(0===n.length)return this._ownTarget=!0,l.getTarget().then(function(t){i._setDefaultTarget(t)});var p=!0,g=!1,m=void 0;try{for(var v,y=n[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var _=v.value;_.dispose(),_._setURL(t),f.push(_.init())}}catch(d){g=!0,m=d}finally{try{!p&&y["return"]&&y["return"]()}finally{if(g)throw m}}return Promise.all(f).then(function(){return i._setDefaultTarget(),u.info("Target URL changed"),i.defTarget})["catch"](function(t){return u.error(t),Promise.reject(t)})}var b=!0,w=!1,x=void 0;try{for(var k,T=n[Symbol.iterator]();!(b=(k=T.next()).done);b=!0){var C=k.value;C._setURL(t)}}catch(d){w=!0,x=d}finally{try{!b&&T["return"]&&T["return"]()}finally{if(w)throw x}}return Promise.resolve()}},{key:"setRefreshRate",value:function(t){if(!v.isNumber(t))throw new Exception("Refresh rate must be number!");this._defaultRefreshRate=t;var e=!0,i=!1,n=void 0;try{for(var r,s=this.baseObjects[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;o.isDefPeriod&&o.changePeriod(this._defaultRefreshRate)}}catch(a){i=!0,n=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}this.emit("refreshRate"),u.info("Refresh rate changed.")}},{key:"addItem",value:function(t){var e=this,i=!1,n=t.url;t.url||(i=!0);var r=!1,s=t.period;t.period||(r=!0,s=this._defaultRefreshRate);var o,a=!0,l=!1,u=void 0;try{for(var c,h=this.groups[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var g=c.value;if(g.isDefPeriod===r&&g.isDefURL===i&&g.period===s&&(!n||g._url===n)&&g.size()<this.GROUP_MAX_SIZE){o=g;break}}}catch(m){l=!0,u=m}finally{try{!a&&h["return"]&&h["return"]()}finally{if(l)throw u}}if(!o){var v=Object.assign({},t);v.id=v.id||"HMIGroup-"+this.groups.length,o=new d(v),o.period=s,this.groups.push(o),this.baseObjects.push(o)}var y;return t.writeCString||t.write?(t.writeCString=t.writeCString||t.cstring,t.cstring="",y=new p(t)):y=new f(t),o.addItem(y)["catch"](function(i){e.log.debug("Adding %s failed! CString %s not found",t.alias,t.cstring)}),y}},{key:"addItems",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.addItem(t[i]));return e}},{key:"removeItem",value:function(t){var e=this,i=!0,n=!1,r=void 0;try{for(var s,a=function(){var i=s.value;if(i instanceof d){var n=i.get(t);if(n)return 1===i.items.length&&e._removeBaseObject(i),{v:i.removeItem(t).then(function(){if(0===i.items.length)return i.dispose()})}}},l=this.baseObjects[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=a();if("object"===("undefined"==typeof u?"undefined":o(u)))return u.v}}catch(c){n=!0,r=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(n)throw r}}return Promise.reject(t+" not found")}},{key:"get",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=this.baseObjects[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;if(o instanceof d){var a=o.get(t);if(a)return a}}}catch(l){i=!0,n=l}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}}},{key:"$i",value:function(t){return this.get(t)}},{key:"_addBaseObject",value:function(t){if(!(t instanceof h))throw new Error("Object is not instance of Base class. Cannot add!");this.baseObjects.push(t)}},{key:"_removeBaseObject",value:function(t){var e=-1;if(t instanceof d&&(e=this.groups.indexOf(t),e>-1&&this.groups.splice(e,1)),e=this.baseObjects.indexOf(t),e>-1)return this.baseObjects.splice(e,1)}},{key:"addGroup",value:function(t){this._addBaseObject(t)}},{key:"removeGroup",value:function(t){this._removeBaseObject(t)}},{key:"addTrend",value:function(t){this._addBaseObject(t)}},{key:"removeTrend",value:function(t){this._removeBaseObject(t)}},{key:"writeValues",value:function(t,e){if(t.length!==e.length)return void u.error(new Error("Length of aliases and length of values must be the same."));var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,c=this.get(l);if(!c)return void u.error(new Error("Alias '"+l+"' not found."));if(!(c instanceof p))return void u.error(new Error("Alias '"+l+"' not writable."));i.push(c)}}catch(h){r=!0,s=h}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}for(var d=[],f=0;f<i.length;f++){for(var g=!1,m=0;m<d.length;m++)if(d[m].target===i[f]._target){d[m].items.push(i[f]),d[m].values.push(e[f]),g=!0;break}g||d.push({target:i[f]._target,items:[i[f]],values:[e[f]]})}var v=[],y=!0,_=!1,b=void 0;try{for(var w,x=d[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var k=w.value,T=[],C=!0,D=!1,S=void 0;try{for(var E,O=k.items[Symbol.iterator]();!(C=(E=O.next()).done);C=!0){var A=E.value;T.push(A.writeCString)}}catch(h){D=!0,S=h}finally{try{!C&&O["return"]&&O["return"]()}finally{if(D)throw S}}var M=k.target.writeItems(T,k.values);v.push(M)}}catch(h){_=!0,b=h}finally{try{!y&&x["return"]&&x["return"]()}finally{if(_)throw b}}return Promise.all(v)}},{key:"setTitle",value:function(t){document&&document.title&&(document.title=t),this.setHeaderTitle(t)}},{key:"setHeaderTitle",value:function(t){this.headerTitleElement&&this.headerTitleElement.text(t)}},{key:"showHeartBeatClock",value:function(t){this._showHeartBeatClock=void 0===t||t}},{key:"useClientTime",value:function(t){this._useClientTime=void 0===t||t}},{key:"getItemsEventSynchonizer",value:function(t,e){"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]);var i=new m(e),n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=this.get(l);if(!u)throw new Error("Alias "+l+" is not defined. Add item first!");i.registerEventEmitter(u)}}catch(c){r=!0,s=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}},{key:"_setDefaultTarget",value:function(t){this.defTarget&&(this.emit("offline"),this._disposeTarget()),t?this.defTarget=t:this.defTarget=this.getTarget(),this.emit("online"),this.defTarget.on("time",this._onTargetTimeHandle),this.defTarget.on("online",this._onTargetOnlineHandle),this.defTarget.on("offline",this._onTargetOfflineHandle)}},{key:"_disposeTarget",value:function(){this._ownTarget&&(this.defTarget?(this.defTarget.removeListener("time",this._onTargetTimeHandle),this.defTarget.removeListener("online",this._onTargetOnlineHandle),this.defTarget.removeListener("offline",this._onTargetOfflineHandle),l.disposeTarget(this.defTarget)):l.disposeTarget(l.getDefaultURL()),this._ownTarget=!1),this.defTarget=null}},{key:"_onTargetTime",value:function(t){this.showClientTime&&(t=new Date),this.emit("time",t)}},{key:"_onTargetOnline",value:function(){this.emit("online")}},{key:"_onTargetOffline",value:function(){this.emit("offline")}}]),e}(c);e.exports=new _},{"./group-management/Base.js":203,"./group-management/Group.js":204,"./group-management/Item.js":205,"./group-management/RWItem.js":206,"./target/TargetManager.js":211,"./ui/HMIGraph.js":214,"./utils/Constants.js":224,"./utils/EventEmitter.js":226,"./utils/EventSync":227,"./utils/Logger.js":228,"./utils/utils.js":230,events:172}],210:[function(t,e,i){"use strict";var n=t("./utils/utils.js"),r=t("./utils/DivLoggerStream.js"),s=t("./hmi.js"),o=t("./utils/Logger.js"),a=t("./ui/svg/SVGManager.js"),l=t("./webwatch/Engine.js"),u=t("moment");$(document).ready(function(){function t(){d.addClass("animated"),h&&clearTimeout(h),h=setTimeout(f,2e3)}function e(){var e=s.getTarget();$("#menu .version").text(e.version),$("#target-url").val(e.url),$("#target-refresh-rate").val(s._defaultRefreshRate),$("#content").removeClass("content-error"),t()}function i(){var t=s.getTarget().url||"",e=t?"http"+t.substr(2):"http://127.0.0.1:8008",i=e.lastIndexOf("/rex");return i>=0&&(e=e.substr(0,i+1)),e}function c(){l&&0===Object.keys(l._blockInfo).length&&$.ajax({url:i()+"resources/block-info.json",success:function(t){l.setBlockInfo(JSON.parse(t)),s.log.debug("BlockInfo loaded")},dataType:"text"}).fail(function(t){s.log.error("WebWatch block information resources loading failed!")})}$("#menu-btn").button().click(function(t){$("#menu").slideToggle(),$("#menu").is(":visible")&&$("#menu-error-number").hide()}),$("<div id='menu-error-number' class='number-in-circle'></div>").hide().appendTo($("#menu-btn"));var h,d=$("#header .heart-beat"),f=function(){$("#header .heart-beat").removeClass("animated")};if($(".current-time").length>0){var p=$(".current-time"),g=$("#heart-beat-clock");s.on("time",function(e){s._useClientTime?p.text(u().format("HH:mm:ss")):p.text(u(e).format("HH:mm:ss")),s._showHeartBeatClock&&$(window).width()>800?g.is(":visible")||g.show():(g.is(":visible")&&g.hide(),t())})}if($("#content").prop("tab-index","-1"),$("#target-refresh-rate").keyup(function(t){var e=t.keyCode||t.which,i=$(this);27===e&&(i.removeClass("ui-state-error"),i.blur(),i.val(s._defaultRefreshRate)),13===e&&(i.removeClass("ui-state-error"),n.isUint(i.val())?(s.setRefreshRate(parseInt(i.val())),i.blur()):i.addClass("ui-state-error"))}),$("#target-url").keyup(function(t){var e=t.keyCode||t.which,i=$(this);if(27===e){i.removeClass("ui-state-error"),i.blur();var n=s.getTarget();i.val(n.url)}13===e&&(i.removeClass("ui-state-error"),s.setTargetUrl(i.val(),!0),i.blur())}),s.headerTitleElement=$("#header-title h1"),$("#log").length>0){var m=new r($("#log"),$("#menu-error-number"));o.addStream({name:"DivLogger",stream:m,level:"info",type:"raw"})}s.kioskMode=function(){$("#header a").removeAttr("href"),$("#controls input").prop("disabled",!0)},$("#rex-dialog-container svg").length>0&&(l.processSvg($("#rex-dialog-container svg").first()),s.log.debug("WebWatch initialized."));var v=$('#content svg[rexsvg\\:module="REXSVG"]');if(v.length>0){for(var y=0;y<v.length;y++)a.init(v[y]);s.log.debug("SVG modules initialized.")}s.connect().then(function(t){})["catch"](function(t){$("#content").addClass("content-error"),t?s.log.error(t):s.log.debug("HMI connect failed! Err is not defined!")}),s.on("online",function(){e(),c()}),s.on("offline",function(){$("#content").addClass("content-error")}),$(window).on("beforeunload",function(){s.disconnect()})})},{"./hmi.js":209,"./ui/svg/SVGManager.js":222,"./utils/DivLoggerStream.js":225,"./utils/Logger.js":228,"./utils/utils.js":230,"./webwatch/Engine.js":247,moment:180}],211:[function(t,e,i){(function(i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("../target/WSTarget.js"),o="ws://127.0.0.1:8008/rex",a=function(){function t(){n(this,t),this._wsTargets=[],this._connecting=[],this._defaultUrl=""}return r(t,[{key:"setDefaultURL",value:function(t){this._defaultUrl=t}},{key:"getDefaultURL",value:function(){if(!this._defaultUrl)if(!i.browser||"localhost:3000"===location.host||"127.0.0.1:3000"===location.host||"https:"!==location.protocol&&"http:"!==location.protocol)this._defaultUrl=o;else{var t=location.host+"/rex";t.indexOf("s://")===-1&&(t="https:"===location.protocol?"wss://"+t:"ws://"+t),this._defaultUrl=t}return this._defaultUrl}},{key:"getTarget",value:function(t){var e=this;if(t||(t=this.getDefaultURL()),new RegExp("^(?:ws|wss):\\/\\/").test(t)){var i=!0,n=!1,r=void 0;try{for(var o,a=this._wsTargets[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var l=o.value;if(l.url===t)return l.ref++,Promise.resolve(l.target)}}catch(u){n=!0,r=u}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw r}}var c=!0,h=!1,d=void 0;try{for(var f,p=this._connecting[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var g=f.value;if(g.url===t)return g.ref++,g.promise}}catch(u){h=!0,d=u}finally{try{!c&&p["return"]&&p["return"]()}finally{if(h)throw d}}var m=new s(t),v=new Promise(function(i,n){m.init().then(function(){var n;for(n=0;n<e._connecting.length;n++)if(e._connecting[n].url===t){var r=e._connecting.splice(n,1);e._wsTargets.push({target:m,url:t,ref:r[0].ref});break}i(m)})["catch"](function(t){n(t)})});return this._connecting.push({url:t,target:m,promise:v,ref:1}),v}return Promise.reject("REST not supported yet. Use WebSocket instead!")}},{key:"disposeTarget",value:function(t){var e;e="string"==typeof t?this._connecting:this._wsTargets;for(var i=0;i<e.length;i++){if("string"==typeof t){if(e[i].url!==t)continue}else if(e[i].target!==t)continue;return e[i].ref--,0===e[i].ref?e.splice(i,1)[0].target.dispose():Promise.resolve("Target is still referenced by some components")}}}]),t}();e.exports=new a}).call(this,t("_process"))},{"../target/WSTarget.js":212,_process:183}],212:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,500;case 2:return t.next=4,1e3;case 4:return t.next=6,2e3;case 6:return t.next=8,5e3;case 8:return t.next=10,1e4;case 10:return t.next=13,6e4;case 13:t.next=10;break;case 15:case"end":return t.stop()}},u[0],this)}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function g(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:g(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},u=[o].map(regeneratorRuntime.mark),c=t("../ws-client/Client.js"),h=t("../utils/Logger.js").child({component:"ws-target"}),d=t("../utils/utils.js"),f=t("../utils/Constants.js"),p=function(t){function e(t){n(this,e);var i=r(this,Object.getPrototypeOf(e).call(this));return i.url=t,i._timeout=null,i._reconnectTimer=null,i.disposed=!1,i._keepAliveTimer=null,i._keepAliveInterval=5e3,i.keepAlive=!0,i.cmdTimeout=1e4,i._timeoutedRequests=0,i._maxTimeoutedRequests=10,i.reconnecting=!1,i.version=null,i.time=null,i._syncTimeTimer=null,i._syncTimePeriod=3e5,i._calcTimeTimer=null,i._calcTimeTimerLastTime=null,i.syncTime=!0,i._onInitResolve=null,i.on("online",function(){i._resetKeepAlive(),i._resetTimeSync(),i._timeoutedRequests=0,i._calcTimeTimer=setInterval(function(){var t=new Date;i._calcTimeTimerLastTime||(i._calcTimeTimerLastTime=t);var e=t-i._calcTimeTimerLastTime;i.time.setTime(i.time.getTime()+e),i.emit("time",i.time),i._calcTimeTimerLastTime=t},1e3)}),i.on("offline",function(){i._clearTimers(),i.commands.clear()}),i.on("closed",i._onSockClose),i.on("headerFlags",function(t){t&f.WSF_CONFIG_CHANGED&&(h.info("REX configuration has been changed!"),i.disconnect().then(i._reconnect.bind(i)))}),i}return s(e,t),a(e,[{key:"init",value:function(){var t=this;return new Promise(function(e,i){t._onInitResolve=e,t.connect(t.url).then(function(){t._init()})["catch"](function(e){t._reconnect()})})}},{key:"_init",value:function(){var t=this;this.emit("online");var e=this.getVersion(),i=this.getTime();Promise.all([e,i]).then(function(e){t.version=e[0],t.time=d.getDateFromREXSeconds(e[1].utc/1e9),t._onInitResolve&&(t._onInitResolve(t),t._onInitResolve=null)})["catch"](function(t){h.error(t)})}},{key:"_makeAPICall",value:function(t,i){var n=this;this._resetKeepAlive();var r=l(Object.getPrototypeOf(e.prototype),"_makeAPICall",this).call(this,t,i);return r.promise.then(function(){clearTimeout(r.cmdTimer)})["catch"](function(){clearTimeout(r.cmdTimer)}),r.cmdTimer=setTimeout(function(){r.reject("Request "+r.header.id+" timed out"),n.commands.removeCmd(r.id),n.reconnecting||(n._timeoutedRequests++,h.debug("Remaining commands: "+n.commands.length+" message length: "+n.commands.getMsgLength()),n._timeoutedRequests>=n._maxTimeoutedRequests&&n._timeoutedRequests===n._maxTimeoutedRequests&&(n.commands.clear(),n._clearTimers(),n.idle().then(function(){h.debug("Idle cmd after timeout successful"),n._sock.close()})["catch"](function(){h.debug("Idle cmd after timeout failed"),n._sock.close()})))},this.cmdTimeout),r.promise}},{key:"_resetKeepAlive",value:function(){var t=this;this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),this.keepAlive&&"function"==typeof this._onKeepAlive&&(this._keepAliveTimer=setTimeout(function(){t._onKeepAlive()},this._keepAliveInterval))}},{key:"_onKeepAlive",value:function(){var t=this;this.idle()["catch"](function(e){t._keepAliveTimer&&clearTimeout(t._keepAliveTimer),h.debug("Keep alive (IDLE) request failed",e)})}},{key:"_resetTimeSync",value:function(){var t=this;this._syncTimeTimer&&clearTimeout(this._syncTimeTimer),this.syncTime&&(this._syncTimeTimer=setTimeout(function(){t.getTime().then(function(e){t.time=d.getDateFromREXSeconds(e.utc/1e9),t._calcTimeTimerLastTime=null,t._resetTimeSync()})["catch"](function(e){t._syncTimeTimer&&clearTimeout(t._syncTimeTimer),h.debug(e)})},this._syncTimePeriod))}},{key:"_onSockClose",value:function(){this.emit("offline"),this._reconnect()}},{key:"_clearTimers",value:function(){this._keepAliveTimer&&(clearTimeout(this._keepAliveTimer),this._keepAliveTimer=null),this._syncTimeTimer&&(clearTimeout(this._syncTimeTimer),this._syncTimeTimer=null),this._calcTimeTimer&&(clearTimeout(this._calcTimeTimer),this._calcTimeTimerLastTime=null)}},{key:"dispose",value:function(){return this.removeListener("closed",this._onSockClose),this.emit("offline"),this._clearTimers(),this._reconnectTimer&&(clearTimeout(this._reconnectTimer),this._reconnectTimer=null,this.reconnecting=!1),this.disposed=!0,h.debug("Target "+this.url+" is being disposed."),this.disconnect()}},{key:"disconnect",value:function(){return this.emit("offline"),this._clearTimers(),l(Object.getPrototypeOf(e.prototype),"disconnect",this).call(this)}},{key:"_reconnect",value:function(){this.disposed||this.reconnecting||(this._timeout=o(),this._reconnectLoop(),this.reconnecting=!0)}},{key:"_reconnectLoop",value:function(){var t=this,e=this._timeout.next().value;h.debug('Reconnecting to target "'+this.url+'" in '+e+" ms."),this._reconnectTimer=setTimeout(function(){t.reconnect().then(function(){t._reconnectTimer&&clearTimeout(t._reconnectTimer),t.reconnecting=!1,t._init()})["catch"](function(){t._reconnectLoop()})},e)}}]),e}(c);e.exports=p},{"../utils/Constants.js":224,"../utils/Logger.js":228,"../utils/utils.js":230,"../ws-client/Client.js":254}],213:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("../utils/EventEmitter.js"),l=(t("../utils/utils.js"),t("../utils/Constants.js").State),u=t("../utils/Logger.js").child({component:"UI"}),c=(t("../hmi.js"),function(e){function i(e){n(this,i);var s=r(this,Object.getPrototypeOf(i).call(this));return s.options=e=e||{},s.id=e.id||(e.element?e.element.id:""),s.state=l.NONE,s.element=e.element,s.version=e.version,s._isDisabled=!1,s._isVisible=!1,s.log=u,s.constructor.name&&(s.log=t("../utils/Logger.js").child({component:"UI-"+s.constructor.name})),s}return s(i,e),o(i,[{key:"_disable",value:function(){return this._isDisabled=!0,this.emit("disable",!0),!0}},{key:"_enable",value:function(){return this._isDisabled=!1,this.emit("disable",!1),!0}},{key:"_show",value:function(){return this._isVisible=!0,this.emit("visible",!0),!0}},{key:"_hide",value:function(){return this._isVisible=!1,this.emit("visible",!1),!0}},{key:"disable",value:function(){return this._disable()}},{key:"enable",value:function(){return this._enable()}},{key:"show",value:function(){return this._show()}},{key:"hide",value:function(){return this._hide()}},{key:"isDisabled",value:function(){return this._isDisabled}},{key:"isVisible",value:function(){return this._isVisible}},{key:"state",value:function(t){if(t){var e=!1;for(var i in l)x.hasOwnProperty(i)&&l[i]===t&&(this.state=l[i],e=!0,this.emit("state",t));if(!e)throw Error("State "+t+" is not defined!")}return this.state}}]),i}(a));e.exports=c},{"../hmi.js":209,"../utils/Constants.js":224,"../utils/EventEmitter.js":226,"../utils/Logger.js":228,"../utils/utils.js":230}],214:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{
constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function f(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./graph/Graph.js"),u=t("../utils/utils.js"),c=t("../utils/EventSync.js"),h=t("../group-management/Trend.js"),d=function(e){function i(){n(this,i);var t=r(this,Object.getPrototypeOf(i).call(this,{id:"rexhmi-graph",element:$('<div id="rexhmi-graph"></div>')[0]}));return t.trendSize=.39,t.initialized=!1,t.eventSync=new c(["read"]),t.eventSync.on("read",function(){t.refresh()}),t.eventSync.ignoreOfflineItems=!0,$(window).resize(function(){t._isVisible&&t._resize()}),t}return s(i,e),o(i,[{key:"_resize",value:function(){var t=$("#content");if(this._isVisible){var e=$(this.element),i=parseInt(t.css("top"),10),n=parseInt(e.css("bottom"),10),r=$(window).height()-i-n;e.is(":visible")?(t.css("bottom",n+this.trendSize*r+"px"),e.css("top",i+(1-this.trendSize)*r+"px")):t.css("bottom","0px")}else t.css("bottom","0px")}},{key:"resume",value:function(){a(Object.getPrototypeOf(i.prototype),"resume",this).call(this)}},{key:"pause",value:function(){a(Object.getPrototypeOf(i.prototype),"pause",this).call(this)}},{key:"show",value:function(){a(Object.getPrototypeOf(i.prototype),"show",this).call(this),this._resize()}},{key:"hide",value:function(){a(Object.getPrototypeOf(i.prototype),"hide",this).call(this),this._resize()}},{key:"addSignal",value:function(e){var i=this,n=t("../hmi.js");if(!this.initialized){var r=$("#content");r.after(this.element),this.show(),this.initialized=!0}if(e.alias||e.desc){if(e.alias=e.alias||u.createID(e.desc),e.label=e.desc||e.alias,e.alias.indexOf(" ")!==-1)return void this.log.error(e.label+": Alias "+e.alias+" in trend signal must not contain spaces!");var s=n.get(e.alias);if(s&&e.cstring&&s.cstring!==e.cstring)return void this.log.error(e.label+": Alias "+e.alias+" already defined! Must be unique!");if(!s&&!e.cstring&&!e.cstring)return void this.log.error(e.label+": Cannot create an item. There is no connection string for alias "+e.alias);s||(s=n.addItem({alias:e.alias,cstring:e.cstring}));var o=this.addSerie(e);s.on("read",function(t){i.data.addPoint(o,t.timestamp,t.value)}),this.eventSync.registerEventEmitter(s),this.refresh()}else{if(!e.cstring)return void this.log.error("addTrendSignal: Alias or ConnectionString is not define. Cannot add!");e.cstring.indexOf(":")!==-1&&(e.cstring=e.cstring.substr(0,e.cstring.indexOf(":")));var a=!1,l=e.period;e.period||(a=!0,l=n._defaultRefreshRate);var c=new h(e);c.period=l;var d=null;c.on("read",function(t){if(null===d){var n=c.trndCfg;n.labels=e.labels,d=i.addTrendConfig(n)}i.data.addTrend(d,t),i._timer||i.refresh()}),n.addTrend(c)}}},{key:"addTrend",value:function(t){return t.cstring?t.alias?void this.log.error("addTrendSignal: ALIAS is not allowed here! Only cstring should be specified."):void this.addSignal(t):void this.log.error("addTrendSignal: ConnectionString is not define. Cannot add!")}},{key:"setSize",value:function(t){return t<0||t>1?void this.log.error("Trend size must be <0;1>"):(this.trendSize=t,void $(window).trigger("resize"))}},{key:"setRefreshRate",value:function(t){u.isNumber(t)&&this.eventSync.removeAllListeners("read"),a(Object.getPrototypeOf(i.prototype),"setRefreshRate",this).call(this,t)}},{key:"hideLegend",value:function(){a(Object.getPrototypeOf(i.prototype),"hideLegend",this).call(this)}}]),i}(l);e.exports=new d},{"../group-management/Trend.js":207,"../hmi.js":209,"../utils/EventSync.js":227,"../utils/utils.js":230,"./graph/Graph.js":215}],215:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function f(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("../Component.js"),u=t("../graph/GraphData.js"),c=t("../../utils/utils.js"),h=t("../../utils/Timer.js"),d=function(t){function e(t){n(this,e);var i=r(this,Object.getPrototypeOf(e).call(this,t));return i.$element=$(i.element),i.graph=null,i._timer=null,i._pause=!1,i._autoZoom=!1,i._autoZoomRange=-1,i._autoZoomChanged=!1,i.data=new u,i._injectTemplates(),i._graphDiv=i.$element.find(".graph-graph"),i._controlsDiv=i.$element.find(".graph-controls"),i._labelsDiv=i.$element.find(".graph-labels"),i._initControls(),i.$element.css("overflow","hidden"),i}return s(e,t),o(e,[{key:"_initControls",value:function(){var t=this,e=this.$element.find(".graph-settings");e.button({text:!1,icons:{primary:"ui-icon-rex-cog"},label:"Show settings"}).click(function(){t._controlsDiv.toggle("slide",{direction:"down"})}),this._controlsDiv.append($('<button id="graphdiv-'+this.id+'-pause-btn"></button>').button({text:!1,icons:{primary:"ui-icon-rex-pause"},label:"Lock time axis"}).click(function(){var e;t._pause?(t.resume(),e={icons:{primary:"ui-icon-rex-pause"},label:"Lock time axis"}):(t.pause(),e={icons:{primary:"ui-icon-rex-play"},label:"Unlock time axis"}),$(this).button("option",e)})),this._controlsDiv.append($('<button id="graphdiv-'+this.id+'-points-btn"></button>').button({text:!1,icons:{primary:"ui-icon-rex-chart-line"},label:"Show points markers"}).click(function(){t.graph.updateOptions({drawPoints:!t.graph.getOption("drawPoints")})})),this._controlsDiv.append($('<button id="graphdiv-'+this.id+'-legend-btn"></button>').button({text:!1,icons:{primary:"ui-icon-rex-text-list-bullets"},label:"Show signal details"}).click(function(){t._labelsDiv.toggle(),t._graphDiv.toggleClass("full-width"),t.graph.resize()})),this._controlsDiv.append($('<button id="graphdiv-'+this.id+'-range-btn"></button>').button({text:!1,icons:{primary:"ui-icon-circle-arrow-s"},label:"Hide range selector"}).click(function(){var e;e=t.graph.getOption("showRangeSelector")?{icons:{primary:"ui-icon-circle-arrow-n"},label:"Show range selector"}:{icons:{primary:"ui-icon-circle-arrow-s"},label:"Hide range selector"},delete t.graph.rangeSelector_,t.graph.updateOptions({showRangeSelector:!t.graph.getOption("showRangeSelector")}),t.graph.resize(10,10),t._graphDiv.css("width","").css("height",""),t.graph.resize(),$(this).button("option",e)}))}},{key:"_initGraph",value:function(){for(var t=this,e=new Dygraph.Plugins.SuperAnnotations({defaultAnnotationProperties:{text:""}}),i=[],n=0;n<this.data.labels.length;n++)i.push(null);this.graph=new Dygraph(this._graphDiv[0],[i],{drawPoints:!1,showRoller:!1,showRangeSelector:!0,connectSeparatedPoints:!0,labels:this.data.labels,axisLabelFontSize:12,rightGap:30,interactionModel:Dygraph.Interaction.defaultModel,title:this.options.title,axes:{x:{valueFormatter:function(t){var e=new Date(t),i=e.getMilliseconds().toString();switch(i.length){case 1:i="00"+i;break;case 2:i="0"+i}return Globalize.format(e,"H:m:s")+"."+i}}},zoomCallback:function(e,i,n){t._autoZoomRange=i-e},plugins:[e]}),this.graph.resize(),$(window).resize(function(){t.graph.resize()})}},{key:"pause",value:function(){this._pause=!0,this._timer&&this._timer.stop()}},{key:"resume",value:function(){this._pause=!1,this.refresh(),this._timer&&this._timer.start()}},{key:"show",value:function(){a(Object.getPrototypeOf(e.prototype),"show",this).call(this),this._timer&&this._timer.start()}},{key:"hide",value:function(){a(Object.getPrototypeOf(e.prototype),"hide",this).call(this),this._timer&&this._timer.stop()}},{key:"refresh",value:function(){var t=this;if(!this._pause){if(this.graph||this._initGraph(),this.data.pointBuffer.length>0){if(this.graph.isZoomed()){var e=this.graph.xAxisRange(),i=this.graph.xAxisExtremes();if(e[0]<=i[0])this.graph.updateOptions({dateWindow:[i[0],i[0]+this._autoZoomRange]},!0);else if(e[1]===i[1]){var n=this.data.pointBuffer[this.data.pointBuffer.length-1][0].getTime(),r=n-this._autoZoomRange;this.graph.updateOptions({dateWindow:[r,n]},!0)}else e[1]<this.data.pointBuffer[0][0].getTime()&&this.graph.updateOptions({dateWindow:null,valueRange:null},!0)}if(this.data.needsUpdate){var s={};this.graph.updateOptions({labels:this.data.labels,file:this.data.pointBuffer,series:s})}else this.graph.updateOptions({file:this.data.pointBuffer})}if(this.data.needsUpdate){this.data.needsUpdate=!1;var o=this.data.labels,a=this;this._labelsDiv.empty();for(var l=function(e){var i='<div style = "font-size: 0.7em; font-weight: bold; color:'+t.graph.colors_[e-1]+';">';i+='<input id="'+t.id+"-signal-checkbox-"+e+'" type="checkbox" checked>',i+='<div style = "display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid '+t.graph.colors_[e-1]+';"></div>',i+=" "+o[e]+"</div>",t._labelsDiv.append(i),$("#"+t.id+"-signal-checkbox-"+e).change(function(){a.graph.setVisibility(e-1,$(this).is(":checked"))})},u=1;u<o.length;u++)l(u)}}}},{key:"resize",value:function(){this.graph.resize()}},{key:"addSerie",value:function(t){return this.data.addSerie(t)}},{key:"addPoint",value:function(t,e,i){this.data.addPoint(t,e,i)}},{key:"addTrendConfig",value:function(t){return this.data.addTrendConfig(t)}},{key:"addTrend",value:function(t,e){return this.data.addTrend(t,e)}},{key:"setMaxBufferSize",value:function(t){this.data.maxBuffSize=t}},{key:"setTitle",value:function(t){this.graph.updateOptions({title:t})}},{key:"hideLegend",value:function(){this._labelsDiv.toggle(),this._graphDiv.toggleClass("full-width"),this.graph&&this.graph.resize()}},{key:"setRefreshRate",value:function(t){var e=this;c.isNumber(t)&&(this._timer?(this._timer.stop(),this._timer.start(t)):(this._timer=new h(function(){e.refresh()}),this._timer.start(t)))}},{key:"_injectTemplates",value:function(){if(0===this.$element.find(".graph-graph").length){var t="<!-- Dygraph placeholder template -->";t+='<div id="graphdiv-'+this.id+'-graph" class="graph-graph"></div>',t+='<div id="graphdiv-'+this.id+'-labels" class="graph-labels"></div>',t+='<div id="graphdiv-'+this.id+'-controls" class="graph-controls"></div>',t+='<button id="graphdiv-'+this.id+'-settings" class="graph-settings"></button>',this.$element.append($(t))}if(0===$("#annotation-template").length){var e="<!-- Dygraph Annotation Template -->";e+='<div id="annotation-template" class="annotation-info" style="display:none">',e+="<div>{{text}}</div>",e+="<div>time: {{x}}</div>",e+="<div>{{series}}: {{y}}</div>",e+="</div>",e+="<!-- Dygraph Editable Annotation Template -->",e+='<div id="annotation-editable-template" class="annotation-info" style="display:none">',e+='<button class="annotation-update">OK</button>',e+='<button class="annotation-kill-button">Delete</button>',e+='<div><input dg-ann-field="text" type="text" size=30 value="{{text}}" placeholder="optional annotation" /></div>',e+="<div>{{x}}, {{series}}: {{y}}</div>",e+="</div>",this.$element.append(e)}}}]),e}(l);e.exports=d},{"../../utils/Timer.js":229,"../../utils/utils.js":230,"../Component.js":213,"../graph/GraphData.js":216}],216:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("./GraphSerie.js"),o=t("../../utils/utils.js"),a=function(){function t(){n(this,t),this.maxBuffSize=5e3,this.pointBuffer=[],this.labels=[],this.series=[],this.trends=[],this.timeAxisLabel="Time",this.needsUpdate=!1}return r(t,[{key:"addSerie",value:function(t){return t=t||{},t.id=t.id||"s"+this.series.length,t.index=this.series.length,this.series.push(new s(t)),this._update(t.index),this.needsUpdate=!0,this.series.length-1}},{key:"addTrendConfig",value:function(t){return t=t||{},t.index=this.trends.length,this.trends.push(t),this._update(),this.needsUpdate=!0,this.trends.length-1}},{key:"addPoint",value:function(t,e,i){if(!this.series[t])throw new Error(t+": series does not exist!");var n=this.pointBuffer[this.pointBuffer.length-1];e instanceof Date||(e=o.getDateFromREXNanoseconds(e)),n&&e.getTime()===n[0].getTime()?n[this.series[t].index+1]=i:(n=Array(this.labels.length).fill(null),n[0]=e,n[this.series[t].index+1]=i,this.pointBuffer.push(n)),this.pointBuffer.length>=this.maxBuffSize&&this.pointBuffer.shift()}},{key:"_insertData",value:function(t,e,i,n){for(var r=0;r<n.length;r++)t[e+r]=n[r][i];return t}},{key:"addTrend",value:function(t,e){var i=this.trends[t],n=!1;if(!i)throw new Error("Adding trend data failed. Trend configuration on index "+t+" is not defined!");if(!e.signals||i.signalcount!==e.signals.length)throw new Error("Trend data do not fit to trend configuration! Number of signals do not match");for(var r=this.series.length+1,s=0;s<t;s++)r+=this.trends[s].signalcount;if(0===this.pointBuffer.length)n=!0;else if(this.pointBuffer[this.pointBuffer.length-1][0]<o.getDateFromREXNanoseconds(e.times[0]))n=!0;else for(var a=0;a<e.times.length;a++){for(var l=o.getDateFromREXNanoseconds(e.times[a]),u=this.pointBuffer.length-1;this.pointBuffer[u][0]>l&&u>0;)u--;if(this.pointBuffer[u][0].getTime()===l.getTime())this._insertData(this.pointBuffer[u],r,a,e.signals);else{var c=Array(this.labels.length).fill(null);c[0]=l,this._insertData(c,r,a,e.signals),this.pointBuffer.splice(u+1,0,c)}}if(n)for(var h=0;h<e.times.length;h++){var c=Array(this.labels.length).fill(null);c[0]=o.getDateFromREXNanoseconds(e.times[h]),this._insertData(c,r,h,e.signals),this.pointBuffer.push(c)}for(;this.pointBuffer.length>=this.maxBuffSize;)this.pointBuffer.shift()}},{key:"_update",value:function(t){this.labels.length=0,this.labels.push(this.timeAxisLabel);var e=!0,i=!1,n=void 0;try{for(var r,s=this.series[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;this.labels.push(o.label)}}catch(a){i=!0,n=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}var l=!0,u=!1,c=void 0;try{for(var h,d=this.trends[Symbol.iterator]();!(l=(h=d.next()).done);l=!0)for(var f=h.value,p=0;p<f.signalcount;p++){var g="";f.labels?g=f.labels[p]:(this.trends.length>1&&(g+="t"+(this.trends.indexOf(f)+1)+"-"),g+="u"+p),this.labels.push(g)}}catch(a){u=!0,c=a}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw c}}var m=!0,v=!1,y=void 0;try{for(var _,b=this.pointBuffer[Symbol.iterator]();!(m=(_=b.next()).done);m=!0){var w=_.value;for(void 0!==t&&w.splice(t+1,0,null);w.length<this.labels.length;)w.push(null)}}catch(a){v=!0,y=a}finally{try{!m&&b["return"]&&b["return"]()}finally{if(v)throw y}}}},{key:"reset",value:function(){this.pointBuffer.length=0}}]),t}();e.exports=a},{"../../utils/utils.js":230,"./GraphSerie.js":217}],217:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function s(t){n(this,s);var e=t||{};this.id=e.id,this.index=void 0!==e.index?e.index:-1,this.label=e.label||e.name||e.id,this.color=e.color};e.exports=r},{}],218:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=t("./SVGComponent.js"),a=t("../../hmi.js"),l=t("../../utils/utils.js"),u=t("../../utils/Logger.js"),c=function(t){function e(t,i){n(this,e);var s=r(this,Object.getPrototypeOf(e).call(this,t,i));i=i||{};for(var o in i)if(i.hasOwnProperty(o)&&i[o])switch(o.toLowerCase()){case"target_url":a.setTargetUrl(i[o]);break;case"refresh_rate":l.isNumber(i[o])?a.setRefreshRate(Number(i[o])):s.log.warn("HMIConfig: Refresh rate is not number, default value is used");break;case"log_level":u.level(i[o]);break;case"use_client_time":l.parseBoolean(i[o])&&a.useClientTime();break;case"show_clock":l.parseBoolean(i[o])&&a.showHeartBeatClock();break;case"kiosk_mode":l.parseBoolean(i[o])&&a.kioskMode&&$.isFunction(a.kioskMode)&&a.kioskMode();break;case"debug":l.parseBoolean(i[o])&&u.level("debug");break;case"ws_ip":s.log.warn("HMIConfig: Parameter WS IP is obsolete use target_url instead!"),a.setTargetUrl(i[o])}return s.element.setAttribute("visibility","hidden"),s}return s(e,t),e}(o);e.exports=c},{"../../hmi.js":209,"../../utils/Logger.js":228,"../../utils/utils.js":230,"./SVGComponent.js":220}],219:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:c(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./SVGComponent.js"),u=function(t){function e(t,i){n(this,e);var s=r(this,Object.getPrototypeOf(e).call(this,t,i));s.div=document.createElement("div"),$("#content").append(s.div);var o=$(s.div);if("GeneralComponent"===$(s.element).parent().attr("rexsvg:module")){s.parGroup=s.element.parentElement;var a=s.parGroup.getAttribute("opacity");setInterval(function(){var t=s.parGroup.getAttribute("opacity");t!==a&&o.css("opacity",t).css("pointer-events",$(s.parGroup).css("pointer-events")),a=t},200)}return o.css("position","absolute").addClass("ui-svg-div").attr("id",s.element.getAttributeNS(null,"id")+"-div"),s.element.setAttributeNS(null,"visibility","hidden"),$(s.element).children().css("visibility","hidden"),$(window).resize(function(){s.updatePosition()}),o.parent().scroll(function(){s.updatePosition()}),s.updatePosition(),s}return s(e,t),o(e,[{key:"updatePosition",value:function(){var t=this.element.getBoundingClientRect(),e=$("#content").offset(),i=t.left-e.left+this.svg.parentNode.scrollLeft,n=t.top-e.top+this.svg.parentNode.scrollTop;this.div.style.left=i+"px",this.div.style.top=n+"px";var r=this.element.getScreenCTM(),s=this.element.getBBox().width*r.a,o=this.element.getBBox().height*r.d;this.div.style.width=s+"px",this.div.style.height=o+"px",this.emit("updatePosition",{left:i,top:n,width:s,height:o})}},{key:"hide",value:function(){if(a(Object.getPrototypeOf(e.prototype),"hide",this).call(this))return $(this.div).hide(),!0}},{key:"show",value:function(){if(a(Object.getPrototypeOf(e.prototype),"show",this).call(this))return $(this.div).show(),!0}}]),e}(l);e.exports=u},{"./SVGComponent.js":220}],220:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function g(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:g(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./../Component.js"),u=t("../../utils/utils.js"),c=t("../../utils/Constants.js").State,h=t("../../hmi.js"),d=t("../../group-management/RWItem.js"),f=.5,p=function(e){function i(e,s){n(this,i),s=s||{},s.element=s.element||e;var o=r(this,Object.getPrototypeOf(i).call(this,s));Object.assign(o,u),o.constructor.name&&(o.log=t("../../utils/Logger.js").child({component:"UI-SVG-"+o.constructor.name})),o.element=e,o.svg=o.options.svg,o.defs=o.options.defs,o.module=o.type=o.options.module||"SVGComponent";var a=$("#"+o.element.id+" > title")[0];o.title=a?a.childNodes[0].nodeValue:null;var l=$("#"+o.element.id+" > desc")[0];if(l){var h;try{h=JSON.parse(l.childNodes[0].nodeValue)}catch(d){o.log.warn("Failed to parse options from DESC tag in "+o.element.id)}h&&(o.$c=o.items=o._initConnections(h.connections),o.options=Object.assign(o.options,h.options))}else o.log.warn("Element "+o.element.id+" has no description tag");for(var f in o.items)if(o.items.hasOwnProperty(f)){var p=o.items[f];p.on("offline",function(t){o.disable()}),p.on("state",function(t){switch(t.state){case c.NONE:case c.OFFLINE:case c.ERROR:o.disable();break;case c.ONLINE:o.enable()}})}return o.items.disable_by&&o.items.disable_by.on("change",function(t){t.getValue()?o.disable():o.enable()}),o.items.hide_by&&o.items.hide_by.on("change",function(t){t.getValue()?o.hide():o.show()}),o.disable(),o}return s(i,e),o(i,[{key:"hide",value:function(){return this.element.setAttributeNS(null,"visibility","hidden"),a(Object.getPrototypeOf(i.prototype),"hide",this).call(this)}},{key:"show",value:function(){return this.element.setAttributeNS(null,"visibility","visible"),a(Object.getPrototypeOf(i.prototype),"show",this).call(this)}},{key:"enable",value:function(){if(!this.isDisabled())return!0;for(var t in this.items)if(this.items.hasOwnProperty(t)){var e=this.items[t];if(e.state!==c.ONLINE)return!1}return a(Object.getPrototypeOf(i.prototype),"enable",this).call(this)?(this.element.setAttributeNS(null,"opacity",this.element.oldOpacity||""),this.element.oldOpacity=null,$(this.element).css("pointer-events","auto"),!0):void 0}},{key:"disable",value:function(){return!!this.isDisabled()||void(a(Object.getPrototypeOf(i.prototype),"disable",this).call(this)&&(this.element.oldOpacity=this.element.getAttributeNS(null,"opacity"),this.element.setAttributeNS(null,"opacity",""+f),$(this.element).css("pointer-events","none")))}},{key:"_replaceString",value:function(t){return this.title?t.replace("$T",this.title):t}},{key:"_getChildOfElementByTag",value:function(t,e){for(var i=Array.prototype.slice.call(t.childNodes),n=0;n<i.length;n++){var r=i[n];if(r.getAttribute)var s=r.getAttribute("rexsvg:tag")||"";if(s===e)return r;i=i.concat(Array.prototype.slice.call(r.childNodes))}}},{key:"getChildByTag",value:function(t){return this._getChildOfElementByTag(this.element,t)}},{key:"_initConnections",value:function(t){if(!t)return{};var e={};if(t instanceof Array){for(var i=0;i<t.length;i++)if(t[i].alias&&this._replaceString(t[i].cstring)&&t[i].type){var n={alias:t[i].alias};"W"===t[i].type?n.writeCString=this._replaceString(t[i].cstring):n.readCString=this._replaceString(t[i].cstring),h.addItem(n)}else this.log.error("alias: "+t[i].alias+" cstring: "+this._replaceString(t[i].cstring)+" or type:"+t[i].type+" is not defined");return e}for(var r in t)if(t.hasOwnProperty(r))if(t[r]instanceof Object)t[r].cstring?e[r]="W"===t[r].type?h.addItem({alias:t[r].alias,writeCString:this._replaceString(t[r].cstring)}):h.addItem({alias:t[r].alias,readCString:this._replaceString(t[r].cstring)}):(e[r]=h.$i(t[r].alias),e[r]||(this.log.error(this.element.id+": Alias "+s+" is not found"),e[r]=new d));else{var s=this._replaceString(t[r]),o=h.$i(s);o?e[r]=o:(this.log.error(this.element.id+": Alias "+s+" is not found"),e[r]=new d)}return e}}]),i}(l);e.exports=p},{"../../group-management/RWItem.js":206,"../../hmi.js":209,"../../utils/Constants.js":224,"../../utils/Logger.js":228,"../../utils/utils.js":230,"./../Component.js":213}],221:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=t("../graph/Graph.js"),a=t("./HTMLComponent.js"),l=t("../../utils/utils.js"),u=t("../../utils/EventSync.js"),c=function(t){function e(t,i){n(this,e);var s=r(this,Object.getPrototypeOf(e).call(this,t,i)),a=$(s.div);s.options.chart.backgroundColor&&a.css("background-color",s.options.chart.backgroundColor),l.isNumber(s.options.chart.backgroundOpacity)&&a.css("background-color",s.options.chart.backgroundColor),s._eventSync=new u(["read"]),s._eventSync.on("read",function(){s.graph.refresh()}),s.graph=new o({id:s.id,element:s.div}),s.graph.setMaxBufferSize(l.checkNumber(i.chart.bufferSize,s.graph.data.maxBuffSize)),i.chart.refreshRate&&s.graph.setRefreshRate(l.checkNumber(i.chart.refreshRate,500));for(var c=1;c<=parseInt(i.chart.numberOfSignals);c++)if("time"!==i.chart.type.toLowerCase())s.log.warn("XY graph is not currently supported!");else{var h="signal-"+c,d=s.graph.addSerie({id:h,label:i.signals[c].name||h,color:i.signals[c].color});i.signals[c].bufferCapacity>s.graph.data.maxBuffSize&&s.graph.setMaxBufferSize(i.signals[c].bufferCapacity),s.items[h].on("read",function(){s.graph.data.addPoint(d,l.getDateFromREXNanoseconds(s.items[h].timestamp),s.items[h].getValue())}),s._eventSync.registerEventEmitter(s.items[h])}return s}return s(e,t),e}(a);e.exports=c},{"../../utils/EventSync.js":227,"../../utils/utils.js":230,"../graph/Graph.js":215,"./HTMLComponent.js":219}],222:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("../../utils/utils.js"),o=t("./HMIConfig.js"),a=t("../../utils/Logger.js").child({component:"SVGManager"}),l=function(){function t(){n(this,t),this.components=[],this.log=a}return r(t,[{key:"registerComponent",value:function(t){this.components.push(t)}},{key:"unregisterComponent",value:function(t){this.components.splice(this.components.indexOf(t),1)}},{key:"getComponentById",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=this.components[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;if(o.id===t)return o}}catch(a){i=!0,n=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}}},{key:"init",value:function(t){var e=this;if(!t)throw"SVG initialization failed. No SVG element found";var i=null,n=t.getElementsByTagNameNS(s.ns_svg,"defs");n.length>0?i=n[0]:(i=document.createElementNS(s.ns_svg,"defs"),t.appendChild(i));var r=$(t);r.find('[rexsvg\\:module="HMIConfig"]').each(function(n,r){var s=this.getAttribute("rexsvg:module")||"",a=new o(r,{type:s,svg:t,defs:i});a.init&&a.init(),e.registerComponent(a)}),r.find("[rexsvg\\:module]").not('[rexsvg\\:module="HMIConfig"]').each(function(n,r){var s=this.getAttribute("rexsvg:module")||"",o=this.getAttribute("rexsvg:version")||"";if(o.indexOf("${version}")>=0&&(o=""),REX.UI.SVG.Modules[s]=REX.UI.SVG.Modules[s]?REX.UI.SVG.Modules[s]:REX.UI.SVG[s],REX.UI.SVG.Modules[s]){var a=new REX.UI.SVG.Modules[s](r,{module:s,type:s,svg:t,defs:i,version:o});a.init&&a.init(),e.registerComponent(a)}else e.log.debug("Module %s not found!",s,r)})}}]),t}();e.exports=new l},{"../../utils/Logger.js":228,"../../utils/utils.js":230,"./HMIConfig.js":218}],223:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=t("../graph/Graph.js"),a=t("../../group-management/Trend.js"),l=t("./HTMLComponent.js"),u=t("../../utils/utils.js"),c=t("../../hmi.js"),h=function(t){function e(t,i){n(this,e);var s=r(this,Object.getPrototypeOf(e).call(this,t,i));s.graph=new o({id:s.id,element:s.div,title:s.options.title}),s.graph.setMaxBufferSize(u.checkNumber(s.options.bufferSize,s.graph.data.maxBuffSize));var l=u.checkNumber(s.options.refreshRate,-1);u.parseBoolean(s.options.hideLegend)&&s.graph.hideLegend();var h=s.$c.TRND.readCString;if(!h)return s.log.warn(s.id+": Connection string is used twice or not at all. Pick exactly one alias for each TRND."),r(s);h=h.substr(0,h.indexOf(":")),c.removeItem(s.$c.TRND.id);var d=new a({cstring:h});d.period=c._defaultRefreshRate;var f=null;return d.on("read",function(t){if(null===f){var e=d.trndCfg;if(s.options.signals){var i=s.options.signals,n=[];i.length>0&&e.signalcount!==i.length&&s.log.warn(s.id+": Length of signals array is not matching number of signals!");for(var r=0;r<e.signalcount;r++)i[r]?n.push(i[r].label):n.push("u"+(r+1));e.labels=n}f=s.graph.data.addTrendConfig(e),l>=0&&s.graph.setRefreshRate(l)}s.graph.data.addTrend(f,t),s.graph._timer||s.graph.refresh()}),c.addTrend(d),s}return s(e,t),e}(l);e.exports=h},{"../../group-management/Trend.js":207,"../../hmi.js":209,"../../utils/utils.js":230,"../graph/Graph.js":215,"./HTMLComponent.js":219}],224:[function(t,e,i){"use strict";function n(t,e){Object.defineProperty(r,t,{value:e,enumerable:!0}),t.toUpperCase().indexOf("CMD")>=0&&(s[e]=t)}var r=e.exports,s={};n("CMD_INIT",1),n("CMD_EXIT",2),n("CMD_IDLE",3),n("CMD_VERSION",17),n("CMD_READ_GROUP",49),n("CMD_WRITE_GROUP",50),n("CMD_ADD_GROUP",51),n("CMD_REMOVE_GROUP",52),
n("CMD_NAMES_TO_IDS",19),n("CMD_BROWSE_SYMBOL",21),n("CMD_READ_ITEMS",4097),n("CMD_WRITE_ITEMS",4098),n("CMD_SET_CRYPT_KEY",7),n("CMD_LOGIN",8),n("CMD_GET_TRND_CFG",85),n("CMD_TRND_READ",86),n("CMD_GET_TIME",258),n("CMD_SET_TIME",259),n("CMD_GET_ARC_CFG",81),n("CMD_GET_ARC_DGN",82),n("CMD_ARC_OPEN",92),n("CMD_ARC_CLOSE",93),n("CMD_ARC_READ",84),n("CMD_ARC_WRITE_STRING",87),n("CMD_ARC_WRITE_ACKN",90),n("CMD_ARC_STR_UPLOAD",91),n("WSF_CONFIG_CHANGED",1),n("WSF_HMI_CHANGED",2),n("WSF_SHUTDOWN",4),r.getCmdName=function(t){return s[t]?s[t]:"UNKNOWN"},r.KINDS={0:{kindName:"exec",browse:!0,read:!1,write:!1,view:!0},1:{kindName:"module",browse:!1,read:!1,write:!1,view:!1},2:{kindName:"iodrv",browse:!0,read:!1,write:!1,view:!0},3:{kindName:"archive",browse:!0,read:!1,write:!1,view:!0},4:{kindName:"level",browse:!1,read:!1,write:!1,view:!1},5:{kindName:"task",browse:!0,read:!1,write:!1,view:!0},6:{kindName:"qtask",browse:!0,read:!1,write:!1,view:!0},7:{kindName:"seq",browse:!0,read:!1,write:!1,view:!0},8:{kindName:"block",browse:!0,read:!1,write:!1,view:!0},9:{kindName:"in",browse:!1,read:!0,write:!0,view:!0,mode:"RW",type:"string"},10:{kindName:"out",browse:!1,read:!0,write:!1,view:!0,mode:"R",type:"string"},11:{kindName:"stat",browse:!1,read:!1,write:!1,view:!1},12:{kindName:"arr",browse:!1,read:!1,write:!1,view:!1},13:{kindName:"special",browse:!1,read:!1,write:!1,view:!1},15:{kindName:"type_unknown",browse:!1,read:!1,write:!1,view:!1},256:{kindName:"name",browse:!0,read:!1,write:!1,view:!1},257:{kindName:"device",browse:!0,read:!1,write:!1,view:!1}},r.getSymbolKind=function(t){return r.KINDS[t]},r.State={NONE:0,ONLINE:1,OFFLINE:2,ERROR:3},r.REX_SVG_NS="http://www.rexcontrols.com/rexsvg/"},{}],225:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("bunyan"),o=(t("./utils.js"),100),a=function(){function t(e,i){n(this,t),this.element=e,this.maxLogSize=o,this._errNum=i}return r(t,[{key:"write",value:function(t){var e=s.nameFromLevel[t.level],i="rex-log-"+e.toLowerCase();switch(e.toLowerCase()){case"error":i+=" ui-state-error";break;case"warn":i+=" ui-state-highlight"}var n='<div class="'+i+'"><b>'+t.time.toLocaleTimeString()+"</b> "+t.msg+"</div>";this.element.append(n),this.element.children().length>this.maxLogSize&&this.element.children().first().remove(),this.element.scrollTop(this.element[0].scrollHeight),"error"===e.toLowerCase()&&this._errNum&&this._errNum.length>0&&(this._errNum.text(this.element.find(".ui-state-error").length),this._errNum.show())}}]),t}();e.exports=a},{"./utils.js":230,bunyan:168}],226:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("events"),l=function(t){function e(t){return n(this,e),r(this,Object.getPrototypeOf(e).call(this,t))}return s(e,t),o(e,[{key:"off",value:function(){this.removeListener.apply(this,arguments)}}]),e}(a.EventEmitter);e.exports=l},{events:172}],227:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("./EventEmitter.js"),l=t("./Constants.js").State,u=t("events"),c=function(t){function e(t){n(this,e);var i=r(this,Object.getPrototypeOf(e).call(this));return i.eventEmitterList=[],i._eventList={},i._eventNames=t||["read"],i._eventNames.forEach(function(t){i._eventList[t]=!0}),i.ignoreOfflineItems=!0,i}return s(e,t),o(e,[{key:"registerEventEmitter",value:function(t){var e=this;if(!(t instanceof u.EventEmitter))throw new Error("Cannot register item which is not instance of EventEmitter class");var i={item:t},n=!0,r=!1,s=void 0;try{for(var o,a=function(){var n=o.value;t.on(n,function(){e._handleEvent(i,n)}),i[n]=!1},l=this._eventNames[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)a()}catch(c){r=!0,s=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw s}}this.eventEmitterList.push(i)}},{key:"_handleEvent",value:function(t,e){t[e]=!0,this._refresh()}},{key:"_refresh",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this._eventNames[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;this._eventList[s]=!0;var o=!0,a=!1,u=void 0;try{for(var c,h=this.eventEmitterList[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;if(!(this.ignoreOfflineItems&&d.item.state!==l.ONLINE||d[s])){this._eventList[s]=!1;break}}}catch(f){a=!0,u=f}finally{try{!o&&h["return"]&&h["return"]()}finally{if(a)throw u}}if(this._eventList[s]){var p=!0,g=!1,m=void 0;try{for(var v,y=this.eventEmitterList[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var _=v.value;_[s]=!1}}catch(f){g=!0,m=f}finally{try{!p&&y["return"]&&y["return"]()}finally{if(g)throw m}}this.emit(s)}}}catch(f){e=!0,i=f}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw i}}}}]),e}(a);e.exports=c},{"./Constants.js":224,"./EventEmitter.js":226,events:172}],228:[function(t,e,i){(function(i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=t("bunyan"),s={},o=[];if(i.browser){var a=function(){};a.prototype.write=function(t){t.err?console.log("[%s]%s %s: %s\t at %s",t.time.toLocaleTimeString(),t.component?" "+t.component:"",r.nameFromLevel[t.level].toUpperCase(),t.msg,t.err.stack):console.log("[%s]%s %s: %s",t.time.toLocaleTimeString(),t.component?" "+t.component:"",r.nameFromLevel[t.level].toUpperCase(),t.msg)},s=r.createLogger({name:"RexHMI",streams:[{level:"info",stream:new a,type:"raw"}]})}else s=r.createLogger({name:"RexHMI",level:"debug"});var l=s.child;s.child=function(){if("object"===n(arguments[0])&&arguments[0].component){var t=arguments[0].component,e=!0,i=!1,r=void 0;try{for(var a,u=o[Symbol.iterator]();!(e=(a=u.next()).done);e=!0){var c=a.value;if(c.component===t)return c}}catch(h){i=!0,r=h}finally{try{!e&&u["return"]&&u["return"]()}finally{if(i)throw r}}}var d=l.apply(s,arguments);return o.push(d),d};var u=s.level;s.level=function(){var t=!0,e=!1,i=void 0;try{for(var n,r=o[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var a=n.value;a.level.apply(a,arguments)}}catch(l){e=!0,i=l}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw i}}return u.apply(s,arguments)};var c=s.addStream;s.addStream=function(){var t=!0,e=!1,i=void 0;try{for(var n,r=o[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var a=n.value;a.addStream.apply(a,arguments)}}catch(l){e=!0,i=l}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw i}}return c.apply(s,arguments)},s.childLoggers=o,e.exports=s}).call(this,t("_process"))},{_process:183,bunyan:168}],229:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e){n(this,t),this.Initial=!0,this._fcn=e,this._run=!1,this._interval=null,this._tHandle=null,this._initialized=!1}return r(t,[{key:"_loop",value:function(){var t=this;this._run&&((this.Initial||this._initialized)&&this._fcn(),this._initialized=!0,this._tHandle=setTimeout(function(){t._loop()},this._interval))}},{key:"start",value:function(t){this._run||(this._interval=t,this._run=!0,this._loop())}},{key:"stop",value:function(){this._initialized=!1,this._run=!1,clearTimeout(this._tHandle)}}]),t}();e.exports=s},{}],230:[function(t,e,i){"use strict";var n=t("../utils/Logger.js").child({component:"utils"}),r={},s=new Date(2e3,0,1).getTime()-60*new Date(2e3,0,1).getTimezoneOffset()*1e3;r.ns_svg="http://www.w3.org/2000/svg",r.ns_xlink="http://www.w3.org/1999/xlink",r.round=function(t){return Math.round(1e6*t)/1e6},r.round_prec=function(t,e){return Math.round(t*e)/e},r.isUint=function(t){return/^(\d+)$/.test(t)},r.isInt=function(t,e,i){var n=/^(-?\d+)$/.test(t);return n!==!0||void 0===e&&void 0===i||(n=r.inRange(parseInt(t),e,i)),n},r.inRange=function(t,e,i){var n=!0;return void 0!==e&&t<e&&(n=!1),void 0!==i&&t>i&&(n=!1),n},r.isReal=function(t,e,i){var n=/^((-?\d+|\d+)(.\d+)?\d*((\+|-)(E|e)\d+)?)$/.test(t);return n!==!0||void 0===e&&void 0===i||(n=r.inRange(parseFloat(t),e,i)),n},r.isNumber=function(t){return t-parseFloat(t)>=0},r.appendClass=function(t,e){for(var i=t.getAttribute("class")?t.getAttribute("class").split(" "):[],n=0;n<i.length;n++)if(i[n]===e)return;t.setAttribute("class",i.join(" ")+" "+e)},r.removeClass=function(t,e){var i=[];i=t.getAttribute("class").split(" ");for(var n=0;n<i.length;n++)if(i[n]===e)return i.splice(n,1),void t.setAttribute("class",i.join(" "))},r.getDateFromREXSeconds=function(t){var e=new Date(1e3*t+s);return e},r.getREXSecondsFromDate=function(t){return(t.getTime()-s)/1e3},r.getREXNanosecondsFromDate=function(t){return 1e6*(t.getTime()-s)},r.getDateFromREXNanoseconds=function(t){return new Date(t/1e6+s)},r.str2time=function(t){if(t.indexOf(":")===-1)return Number.NaN;var e=t.split(":");return 2===e.length?3600*Number(e[0])+60*Number(e[1]):3===e.length?3600*Number(e[0])+60*Number(e[1])+Number(e[2]):Number.NaN},r.time2str=function(t,e){t<0&&(t=86400+t);var i=parseInt(t/3600)%24,n=parseInt(t/60)%60,r=t%60,s=(i<10?"0"+i:i)+":"+(n<10?"0"+n:n);return e&&"hh:mm:ss"===e.toLowerCase()&&(s+=":"+(r<10?"0"+r:r)),s},r.date2str=function(t){var e=t.getDate(),i=t.getMonth()+1,n=t.getFullYear();return(e<10?"0"+e:e)+"."+(i<10?"0"+i:i)+"."+n},r.webBuDi_validateNumericOption=function(t,e,i){return e[t]&&REX.HELPERS.isNumber(e[t])?e[t]:e[t]&&!REX.HELPERS.isNumber(e[t])?(n.debug(e.alias+": "+t+" is not a number. Set to "+i),e[t]=i,e[t]):0===e[t]?e[t]:i},r.parseBoolean=function(t){if(!t)return!1;if("string"==typeof t)switch(t.toLowerCase()){case"false":case"no":case"0":case"":return!1;default:return!0}return!1},r.check=function(t,e){return"undefined"==typeof t?e:t},r.checkNumber=function(t,e){return"undefined"==typeof t?e:r.isNumber(t)?parseFloat(t):(n.debug("Parameter "+t+" is not number, using defaultValue"),e)},r.createID=function(t){for(var e=" ()[]{}",i="aacdeeillnoooorstuuuuyrzAACDEEILLNOOOORSTUUUUYRZ-------",n="",r=0;r<t.length;r++){var s=e.indexOf(t.charAt(r));n+=s!==-1?i.charAt(s):t.charAt(r)}return n},e.exports=r},{"../utils/Logger.js":228}],231:[function(t,e,i){"use strict";$.widget("wbd.column",$.wbd.component,{options:{},_create:function(){this._super(),this.element.addClass("wbd-column")},_setOption:function(t,e){if("title"===t||"desc"===t||"name"===t||"label"===t){var i=this.element.find(".wbd-column-title");0===i.length?this.element.prepend(['<div class="wbd-column-title"><h2>',e,"</h2></div>"].join("")):i.find("h2").text(e)}this._super(t,e)},addSection:function(t){t.addClass("wbd-section_"+(this.element.find(":wbd-section").length%4+1)),this.element.append(t)}}),$.widget("wbd.section",$.wbd.component,{options:{},_create:function(){this._super(),this.element.addClass("wbd-section"),this.element.attr("id",this.element.attr("id")||"wbd-c-"+this.options.column+"-s-"+$(":wbd-section").length);var t=this.options.rows;this.options.rows=[];for(var e=0;e<t.length;e++)this.addRow(t[e])},_setOption:function(t,e){if("title"===t||"desc"===t||"name"===t||"label"===t){var i=this.element.find(".wbd-section-title");0===i.length?this.element.prepend(['<div class="wbd-section-title"><h2>',e,"</h2></div>"].join("")):i.find("h2").text(e)}"background_color"===t&&this.element.css("background-color",e),"text_color"===t&&this.element.find(".wbd-section-title").css("color",e),this._super(t,e)},addRow:function(t){var e=$("<div></div>").row(t);return e.attr("id",e.attr("id")||this.element.attr("id")+"-r-"+this.element.find(":wbd-row").length),this.element.append(e),this.options.rows.push(e),e}})},{}],232:[function(t,e,i){"use strict";var n=t("../utils/Logger.js").child({component:"webbudi"}),r=t("../hmi.js");$.widget("wbd.component",{options:{},_create:function(){this.element.addClass("wbd-component");var t=this;$.each(this.options,function(e,i){t._setOption(e,i)})},_setOption:function(t,e){var i=this;"hide_by"!==t&&"visibility"!==t||this._super(t,this._bindItem(e,function(){i.element.hide()},function(){i.element.show()})),"disable_by"!==t&&"state"!==t||this._super(t,this._bindItem(e,function(){i.disable()},function(){i.enable()})),this._super(t,e)},_bindItem:function(t,e,i){var s;return s="string"==typeof t?r.$i(t):t.cstring?r.addItem(t.alias,t.cstring):r.$i(t.alias),s?s.on("change",function(n){t.reverse_meaning?0===n.getValue()?e():i():0===n.getValue()?i():e()}):n.error(this.options.desc+": Alias "+t+" not found!"),s},disable:function(){this.element.disabler(),this.element.disabler("disable"),this.element.find(":wbd-row").row("disable"),this.options.isDisabled=!0},enable:function(){this.element.disabler(),this.element.disabler("enable"),this.element.find(":wbd-row").row("enable"),this.options.isDisabled=!1},isDisabled:function(){return this.options.isDisabled}})},{"../hmi.js":209,"../utils/Logger.js":228}],233:[function(t,e,i){"use strict";var n=0,r=t("../utils/utils.js"),s=t("../utils/Logger.js").child({component:"webbudi"}),o=t("../utils/Constants.js").State,a=t("../hmi.js"),l=t("./widget/AnalogLookupTable.js"),u=t("./widget/AnalogReadRow.js"),c=t("./widget/AnalogWriteRow.js"),h=t("./widget/DigitalReadRow.js"),d=t("./widget/DigitalWriteRow.js"),f=t("./widget/LinkButton.js"),p=t("./widget/ManualPulseRow.js"),g=t("./widget/PushButton.js"),m=t("./widget/EmptySpace.js");$.widget("wbd.row",$.wbd.component,{options:{},_create:function(){if(this.options.options&&($.extend(this.options,this.options.options),delete this.options.options),this._super(),this.element.addClass("wbd-row"),this.options.type||s.debug("Row type is not defined, assume as empty space."),this.options.name&&(this._setOption("desc",this.options.name),delete this.options.name),this.options.type&&"ES"!==this.options.type.toUpperCase()&&"LINK"!==this.options.type.toUpperCase()){if(!this.options.alias){if(!this.options.desc)return s.error("Neither alias nor description is defined! Cannot create row"),this.element.addClass("ui-state-error"),this;this._setOption("alias",r.createID(this.options.desc))}this.options.desc||this._setOption("desc",this.options.alias)}this._createRow(),this.disable()},_setOption:function(t,e){"desc"===t&&this.element.find(".wbd-row-label").text(e),this._super(t,e)},_initItem:function(t){var e=this;return this.options.alias.indexOf(" ")!==-1?void s.error(this.options.desc+": Alias "+this.options.alias+" must not contain spaces!"):(this.options.item=a.$i(this.options.alias),this.options.item&&this.options.cstring&&this.options.item.cstring!==this.options.cstring?(s.error(this.options.desc+": Alias "+this.options.alias+" already defined! Must be unique!"),void(this.options.item=null)):this.options.item&&"W"===t&&!this.options.item.write?(s.error(this.options.desc+": Alias "+this.options.alias+" item is not writable!"),void(this.options.item=null)):(this.options.id=this.options.item?this.options.alias+"-"+n++:this.options.alias,this.options.item||this.options.cstring||this.options.cstring?(this.options.item||("W"===t?(this.options.item=a.addItem({alias:this.options.alias,writeCString:this.options.cstring}),this._initRefreshItem()):this.options.item=a.addItem({alias:this.options.alias,readCString:this.options.cstring})),void this.options.item.on("state",function(t){t.state===o.ONLINE?e.enable():e.disable()})):void s.error(this.options.desc+": Cannot create an item. There is no connection string for alias "+this.options.alias)))},_initRefreshItem:function(){var t=this;if(this.options.no_refresh)return void(this.options.refresh_from=null);if(this.options.refresh_from){var e=this.options.refresh_from;if("string"==typeof e){if(this.options.refresh_from=a.$i(e),!this.options.refresh_from)return void s.error(this.options.desc+": Refresh item alias "+e+" is not defined!")}else{if(!e.alias)return void s.error(this.options.desc+": Refresh item alias is not defined");if(e.alias&&e.alias.indexOf(" ")!==-1)return void s.error(this.options.desc+": Refresh item alias "+e.alias+" must not contain spaces!");if(this.options.refresh_from=a.$i(e.alias),this.options.refresh_from&&e.cstring&&this.options.refresh_from.cstring!==e.cstring)return void s.error(this.options.desc+": Refresh item alias "+e.alias+" already defined! Must be unique!");if(!this.options.refresh_from&&!e.cstring)return void s.error(this.options.desc+": Cannot create an update item. There is no connection string for alias "+this.options.refresh_from.alias);this.options.refresh_from||(this.options.refresh_from=a.addItem({alias:e.alias,readCString:e.cstring}))}}else{if(!this.options.item)return void s.error(this.options.desc+": Cannot create an update item because either alias nor refresh_from is not defined.");this.options.refresh_from=this.options.item}this.options.refresh_from.on("state",function(e){e.state===o.ONLINE?t.enable():t.disable()})},_createRow:function(){switch(this.element.append($('<span class="wbd-row-desc">'+this.options.desc+"</span>")),this.options.type){case"AR":if(this._initItem("R"),!this.options.item)return void this.element.addClass("ui-state-error");u(this);break;case"DR":if(this._initItem("R"),!this.options.item)return void this.element.addClass("ui-state-error");h(this);break;case"AW":if(this._initItem("W"),!this.options.item)return void this.element.addClass("ui-state-error");c(this);break;case"ALT":if(this._initItem("W"),!this.options.item)return void this.element.addClass("ui-state-error");l(this);break;case"DW":if(this._initItem("W"),!this.options.item)return void this.element.addClass("ui-state-error");d(this);break;case"MP":if(this.options.no_refresh=!0,this._initItem("W"),!this.options.item)return void this.element.addClass("ui-state-error");p(this);break;case"PB":if(this.options.no_refresh=!0,this._initItem("W"),!this.options.item)return void this.element.addClass("ui-state-error");g(this);break;case"ES":m(this);break;case"LINK":f(this);break;default:this.element.empty()}}})},{"../hmi.js":209,"../utils/Constants.js":224,"../utils/Logger.js":228,"../utils/utils.js":230,"./widget/AnalogLookupTable.js":235,"./widget/AnalogReadRow.js":236,"./widget/AnalogWriteRow.js":237,"./widget/DigitalReadRow.js":238,"./widget/DigitalWriteRow.js":239,"./widget/EmptySpace.js":240,"./widget/LinkButton.js":241,"./widget/ManualPulseRow.js":242,"./widget/PushButton.js":243}],234:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t("./Component.js"),t("./Column.js"),t("./Row.js");var s=t("../hmi.js"),o=t("../utils/Logger.js").child({component:"webbudi"}),a=function(){function t(){n(this,t),this.ROUND_CONSTANT=1e4,this.DEFAULT_DECIMALS=4,this.customDivID="",this.rootDiv=null}return r(t,[{key:"addSection",value:function(t){if(arguments.length>1)throw new Error("Only 1 parameter with object is expected");t.column=t.column||1,this.rootDiv=this.customDivID?$("#"+this.customDivID):$("#content");var e=this.customDivID?"wbd-column-"+this.customDivID+"-"+t.column:"wbd-column-"+t.column,i=$("#"+e);i.length<=0&&(i=$("<div></div>").attr("id",e).appendTo(this.rootDiv).column(),i.addClass("wbd-column_"+(this.rootDiv.find(":wbd-column").length%3+1)));var n=$("<div></div>").section(t);return i.column("addSection",n),n.data("wbd-section").disable(),this}},{key:"add",value:function(){return this.addSection(arguments)}},{key:"addItems",value:function(t){return s.addItems(t)}},{key:"defineAliases",value:function(t){return o.warn("REX.WebBuDi.defineAliases is deprecated. Use REX.WebBuDi.addItems instead!"),s.addItems(t)}},{key:"setTitle",value:function(t){return o.warn("REX.WebBuDi.setTitle is deprecated. Use REX.HMI.setTitle instead!"),s.setTitle(t)}},{key:"setWsIP",value:function(t){return o.warn("REX.WebBuDi.setWsIP is deprecated. Use REX.HMI.setTargetUrl instead!"),s.setTargetUrl(t)}},{key:"setRefreshRate",value:function(t){return o.warn("REX.WebBuDi.setRefreshRate is deprecated. Use REX.HMI instead!"),s.setRefreshRate(t)}},{key:"connect",value:function(){o.warn("REX.WebBuDi.connect is deprecated. REX.HMI autoconnects to the target.")}},{key:"addTrendSignal",value:function(t){return o.warn("REX.WebBuDi.addTrendSignal is deprecated. Use REX.HMI.Graph.addSignal instead!"),s.Graph.addSignal(t)}},{key:"setTrendSize",value:function(t){return o.warn("REX.WebBuDi.setTrendSize is deprecated. Use REX.HMI.Graph.setSize instead!"),s.Graph.setSize(t)}}]),t}();e.exports=new a},{"../hmi.js":209,"../utils/Logger.js":228,"./Column.js":231,"./Component.js":232,"./Row.js":233}],235:[function(t,e,i){"use strict";function n(t){function e(e){if(i.find('option[value="'+e.value+'"]').length>0)i.val(e.value);else{var r=$("<option></option>").attr("value",e.value).appendTo(i);t.options.showKey?r.html(n+": "+t.options.values[n]):r.html(t.options.values[n]),i.val(e.value)}}t.options.show_key=t.options.show_key||!0,$(['<span id="ALT_{id}" class="ui-spinner ui-widget ui-widget-content ui-corner-all">','<select id="select_{id}" class="ui-select-custom"></select></span></span>'].join("").replace(/{id}/gi,t.options.id)).appendTo(t.element);var i=t.element.find("select");for(var n in t.options.values)if(t.options.values.hasOwnProperty(n)){var s=$("<option></option>").attr("value",Number(n)).appendTo(i);t.options.showKey?s.html(n+": "+t.options.values[n]):s.html(t.options.values[n])}i.change(function(){r.debug(t.options.id+": "+i.find("option:selected").text()),t.options.item.write(Number(i.val()))["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)})}),t.options.item.on("change",function(t){e(t)}),t.options.refresh_from&&t.options.refresh_from!==t.options.item&&t.options.refresh_from.on("change",function(t){e(t)})}var r=t("../../utils/Logger.js").child({component:"webbudi"});e.exports=n},{"../../utils/Logger.js":228}],236:[function(t,e,i){"use strict";function n(t){var e=4,i=t.options.format||"",n=r.webBuDi_validateNumericOption("scale",t.options,1),s=r.webBuDi_validateNumericOption("offset",t.options,0),o=r.webBuDi_validateNumericOption("decimals",t.options,e),a=t.options.convert||null;$('<span id="AR-{id}" class="ui-state-default ui-widget ui-widget-content ui-corner-all analog-read"><span id="ai-read-{id}"></span></span>'.replace(/{id}/gi,t.options.id)).appendTo(t.element);var l=t.element.find("#ai-read-"+t.options.id);t.options.item.on("change",function(t){switch(i.toLowerCase()){case"date":l.text(r.date2str(r.getDateFromREXSeconds(t.value)));break;case"time":l.text(r.getDateFromREXSeconds(t.value).toLocaleTimeString());break;case"datetime":l.text(r.date2str(r.getDateFromREXSeconds(t.value))+" "+r.getDateFromREXSeconds(t.value).toLocaleTimeString());break;case"text":l.text(t.value);break;default:if(a&&$.isFunction(a))l.text(""+a(t.value));else{var e=t.value*n+s;e=r.round(e,Math.pow(10,o)),l.text(""+e)}}})}var r=t("../../utils/utils.js");e.exports=n},{"../../utils/utils.js":230}],237:[function(t,e,i){"use strict";function n(t){function e(){t.options.refresh_from&&t.options.refresh_from.setValue(t.options.item.getValue())}function i(t){switch(o){case"date":g.datepicker("setDate",r.getDateFromREXSeconds(t.value));break;case"time":g.datetimepicker("setDate",r.getDateFromREXSeconds(t.value));break;case"datetime":g.datetimepicker("setDate",r.getDateFromREXSeconds(t.value));break;case"text":g.prop("value",""+t.value);break;default:if(f&&$.isFunction(f))g.prop("value",""+f(t.value));else{var e=t.value*u+c;e=r.round(e,Math.pow(10,h)),g.prop("value",""+e)}}}var n=4,o=(t.options.format||"").toLowerCase(),a=r.webBuDi_validateNumericOption("min",t.options,-Number.MAX_VALUE),l=r.webBuDi_validateNumericOption("max",t.options,Number.MAX_VALUE),u=r.webBuDi_validateNumericOption("scale",t.options,1),c=r.webBuDi_validateNumericOption("offset",t.options,0),h=r.webBuDi_validateNumericOption("decimals",t.options,n),d=t.options.set_on_blur||!1,f=t.options.convert||null,p=t.options.convert_W||null;$(['<span id="AW-{id}">','<input id="AW-input-{id}" name="value" value="NaN" /></span>'].join("").replace(/{id}/gi,t.options.id)).appendTo(t.element);var g=t.element.find("#AW-input-"+t.options.id),m=t.disable;t.disable=function(){t.element.find("#AW-"+t.options.id).addClass("ui-state-disabled"),m.apply(this,arguments)};var v=t.enable;t.enable=function(){t.element.find("#AW-"+t.options.id).removeClass("ui-state-disabled"),v.apply(this,arguments)};var y=!1;switch(o){case"date":t.element.find("#AW-"+t.options.id).addClass("ui-spinner ui-widget ui-widget-content ui-corner-all"),g.addClass("ui-spinner-input"),g.datepicker({dateFormat:t.options.dateFormat||"dd.mm.yy",onSelect:function(){t.options.isDisabled||t.options.item.write(r.getREXSecondsFromDate(g.datepicker("getDate")))["catch"](function(e){s.error(new Error(t.options.id+" writing failed! Probably R/O item!")),s.debug(e.err||e)})}});break;case"time":t.element.find("#AW-"+t.options.id).addClass("ui-spinner ui-widget ui-widget-content ui-corner-all"),g.addClass("ui-spinner-input"),g.timepicker({parse:"loose",alwaysSetTime:!1,timeFormat:t.options.timeFormat||"HH:mm",onOpen:function(){t.options.item.disableRefresh=!0},onSelect:function(){y=!0},onClose:function(i){i&&y&&!t.options.isDisabled&&(s.debug(t.options.id+": "+i),t.options.item.write(r.getREXSecondsFromDate(g.datetimepicker("getDate")))["catch"](function(e){s.error(new Error(t.options.id+" writing failed! Probably R/O item!")),s.debug(e.err||e)}),e()),y=!1,t.options.item.disableRefresh=!1}});break;case"datetime":t.element.find("#AW-"+t.options.id).addClass("ui-spinner ui-widget ui-widget-content ui-corner-all"),g.addClass("ui-spinner-input"),g.datetimepicker({parse:"loose",alwaysSetTime:!1,dateFormat:t.options.dateFormat||"dd.mm.yy",timeFormat:t.options.timeFormat||"HH:mm",onOpen:function(){t.options.item.disableRefresh=!0},onSelect:function(){y=!0},onClose:function(i){i&&y&&!t.options.isDisabled&&(s.debug(t.options.id+": "+i),t.options.item.write(r.getREXSecondsFromDate(g.datetimepicker("getDate")))["catch"](function(e){s.error(new Error(t.options.id+" writing failed! Probably R/O item!")),s.debug(e.err||e)}),e()),y=!1,t.options.item.disableRefresh=!1}});break;default:t.element.find("#AW-"+t.options.id).addClass("ui-spinner ui-widget ui-widget-content ui-corner-all"),g.addClass("ui-spinner-input"),g.focus(function(){t.options.item.disableRefresh=!0}).blur(function(){if(d){var e=$.Event("keypress");e.which=13,e.keyCode=13,g.trigger(e)}t.options.item.disableRefresh=!1,t.options.refresh_from&&t.options.refresh_from.emit("change")}),g.keypress(function(i){var n=i.keyCode||i.which;if(13===n)if("text"===o){var h=g.prop("value");s.debug(t.options.id+": "+h),t.options.item.write(h)["catch"](function(e){s.error(new Error(t.options.id+" writing failed! Probably R/O item!")),s.debug(e.err||e)}),e()}else{var d=g.prop("value").replace(",",".");if(r.isNumber(d)){var f=Number(d);if(!(f>=a&&f<=l))return void g.addClass("ui-state-error");g.removeClass("ui-state-error"),t.options.isDisabled||(f=p&&$.isFunction(p)?p(f):(f-c)/u,s.debug(t.options.id+": "+f),t.options.item.write(f)["catch"](function(e){s.error(new Error(t.options.id+" writing failed! Probably R/O item!")),s.debug(e.err||e)}),e())}else g.addClass("ui-state-error")}}),g.keyup(function(t){var e=t.keyCode||t.which;if(27===e){var i=d;d=!1,g.blur(),d=i}})}t.options.item.on("change",function(){i(t.options.item)}),t.options.refresh_from&&t.options.refresh_from!==t.options.item&&t.options.refresh_from.on("change",function(){i(t.options.refresh_from)})}var r=t("../../utils/utils.js"),s=t("../../utils/Logger.js").child({component:"webbudi"});e.exports=n},{"../../utils/Logger.js":228,"../../utils/utils.js":230}],238:[function(t,e,i){"use strict";function n(t){var e=t.options;e.label_false=e.label_false||e.false_label||(e.reverse_meaning?"OFF(1)":"OFF(0)"),e.label_true=e.label_true||e.true_label||(e.reverse_meaning?"ON(0)":"ON(1)"),e.reverse_meaning=e.reverse_meaning||!1,e.color_false=e.color_false||e.false_color||null,e.color_true=e.color_true||e.true_color||null;var i=$(['<span id="DR_{id}" class="mp-button ui-widget ui-state-default ui-corner-all digital-read">',"NaN","</span>"].join("").replace(/{id}/gi,t.options.id));i.appendTo(t.element),t.options.item.on("change",function(n){i.css("background",""),t.options.isDisabled||(n.value==e.reverse_meaning?(i.text(e.label_false).removeClass("ui-state-active").addClass("ui-state-default"),e.color_false&&i.css("background",e.color_false)):(i.text(e.label_true).removeClass("ui-state-default").addClass("ui-state-active"),e.color_true&&i.css("background",e.color_true)))});var n=t.disable;t.disable=function(){n.apply(this,arguments),i.addClass("ui-state-disabled"),i.css("background",""),i.text("---")};var r=t.enable;t.enable=function(){r.apply(this,arguments),t.options.item.isOnline()&&i.removeClass("ui-state-disabled")}}e.exports=n},{}],239:[function(t,e,i){"use strict";function n(t){function e(t){t.value==i.reverse_meaning?(a.prop("checked",!0),l.prop("checked",!1),i.color_true&&c.css("background",""),i.color_false&&u.css("background",i.color_false)):(a.prop("checked",!1),l.prop("checked",!0),i.color_true&&c.css("background",i.color_true),i.color_false&&u.css("background","")),n.controlgroup("refresh")}var i=t.options;i.reverse_meaning=i.reverse_meaning||!1,i.label_false=i.label_false||i.false_label||(i.reverse_meaning?"OFF(1)":"OFF(0)"),i.label_true=i.label_true||i.true_label||(i.reverse_meaning?"ON(0)":"ON(1)"),i.color_false=i.color_false||null,i.color_true=i.color_true||null,i.flip=i.flip||!1,i.flip?$(['<span id="DO_{id}">','<input type="radio" id="radio_{id}_1" name="radio_{id}" />','<label for="radio_{id}_1">',i.label_true,"</label>",'<input type="radio" id="radio_{id}_0" name="radio_{id}" />','<label for="radio_{id}_0">',i.label_false,"</label></span>"].join("").replace(/{id}/gi,t.options.id)).appendTo(t.element):$(['<span id="DO_{id}">','<input type="radio" id="radio_{id}_0" name="radio_{id}" />','<label for="radio_{id}_0">',i.label_false,"</label>",'<input type="radio" id="radio_{id}_1" name="radio_{id}" />','<label for="radio_{id}_1">',i.label_true,"</label></span>"].join("").replace(/{id}/gi,t.options.id)).appendTo(t.element);
var n=t.element.find("#DO_"+t.options.id).controlgroup();n.find("input").checkboxradio({icon:!1}),n.find("label").mousedown(function(e){0!==e.button||t.isDisabled()||$("#"+$(e.target).parent().attr("for")).trigger("click")}),n.find("input[type=radio]").change(function(){t.options.item.disableRefresh=!0,this.id==="radio_"+t.options.id+"_0"?i.reverse_meaning?(r.debug(t.options.id+": 1"),t.options.item.write(1)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)})):(r.debug(t.options.id+": 0"),t.options.item.write(0)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)})):i.reverse_meaning?(r.debug(t.options.id+": 0"),t.options.item.write(0)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)})):(r.debug(t.options.id+": 1"),t.options.item.write(1)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)})),t.options.item.disableRefresh=!1,t.options.refresh_from&&t.options.refresh_from.setValue(t.options.item.getValue())});var s=t.disable;t.disable=function(){s.apply(this,arguments),n.controlgroup("disable")};var o=t.enable;t.enable=function(){o.apply(this,arguments),t.options.item.isOnline()&&n.controlgroup("enable")};var a=t.element.find("#radio_"+t.options.id+"_0"),l=t.element.find("#radio_"+t.options.id+"_1"),u=t.element.find("label[for='radio_"+t.options.id+"_0'] span"),c=t.element.find("label[for='radio_"+t.options.id+"_1'] span");t.options.item.on("change",function(){e(t.options.item)}),t.options.refresh_from&&t.options.refresh_from!==t.options.item&&t.options.refresh_from.on("change",function(){e(t.options.refresh_from)})}var r=t("../../utils/Logger.js").child({component:"webbudi"});e.exports=n},{"../../utils/Logger.js":228}],240:[function(t,e,i){"use strict";function n(t){t.element.empty()}e.exports=n},{}],241:[function(t,e,i){"use strict";function n(t){var e=t.options;e.target_url=e.target_url||"",e.desc=e.desc||e.alias||"LINK",e.alias=e.alias||(Math.random().toString(16)+"000000000").substr(2,8),e.label=e.label||e.desc,$(['<span id="LINK_{id}">','<a id="LINK_BTN_{id}" class="mp-button" ','href="{url}">{label}</a></span>'].join("").replace(/{id}/gi,t.options.id).replace(/{label}/gi,t.options.label).replace(/{url}/gi,t.options.target_url)).appendTo(t.element);t.element.find("#LINK_BTN_"+t.options.id).button()}e.exports=n},{}],242:[function(t,e,i){"use strict";function n(t){var e=t.options;e.label=e.label||e.desc,$(['<span id="MP_{id}">','<button id="MP_BTN_{id}" class="mp-button">{label}</button></span>'].join("").replace(/{id}/gi,t.options.id).replace(/{label}/gi,t.options.label)).appendTo(t.element);var i=t.element.find("#MP_BTN_"+t.options.id).button();i.click(function(){r.debug(t.options.id+" pulse"),t.options.item.write(1)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)})})}var r=t("../../utils/Logger.js").child({component:"webbudi"});e.exports=n},{"../../utils/Logger.js":228}],243:[function(t,e,i){"use strict";function n(t){var e=t.options;e.reverse_meaning=e.reverse_meaning||!1,e.label_false=e.label_false||e.false_label||(e.reverse_meaning?"OFF(1)":"OFF(0)"),e.label_true=e.label_true||e.true_label||(e.reverse_meaning?"ON(0)":"ON(1)"),e.color_false=e.color_false||e.false_color||null,e.color_true=e.color_true||e.true_color||null,e.value_release=e.value_release||e.release_value||null,e.value_press=e.value_press||null,$(['<span id="PB_{id}">','<button id="PB_BTN_{id}" class="mp-button">XXX</button></span>'].join("").replace(/{id}/gi,t.options.id)).appendTo(t.element);var i=t.element.find("#PB_BTN_"+t.options.id).button(),n=!1;i.bind("touchend touchcancel touchleave mouseup mouseout",function(s){return s.stopPropagation(),s.preventDefault(),s.handled!==!0&&(s.button&&s.button>0||!n||(r.debug(t.options.id+" "+s.type),e.reverse_meaning?t.options.item.write(t.options.value_release||1)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)}):t.options.item.write(t.options.value_release||0)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)}),e.reverse_meaning?(i.button("option","label",e.label_true),i.css("background",e.color_true)):(i.button("option","label",e.label_false),i.css("background",e.color_false)),n=!1),void(s.handled=!0))}).bind("touchstart mousedown",function(s){return s.stopPropagation(),s.preventDefault(),s.handled!==!0&&(s.button&&s.button>0||(r.debug(t.options.id+" "+s.type),e.reverse_meaning?t.options.item.write(t.options.value_press||0)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)}):t.options.item.write(t.options.value_press||1)["catch"](function(e){r.error(new Error(t.options.id+" writing failed! Probably R/O item!")),r.debug(e.err||e)}),e.reverse_meaning?(i.button("option","label",e.label_false),i.css("background",e.color_false)):(i.button("option","label",e.label_true),i.css("background",e.color_true)),n=!0),void(s.handled=!0))}),e.reverse_meaning?(i.button("option","label",e.label_true),i.css("background",e.color_true)):(i.button("option","label",e.label_false),i.css("background",e.color_false))}var r=t("../../utils/Logger.js").child({component:"webbudi"});e.exports=n},{"../../utils/Logger.js":228}],244:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("../utils/Logger.js").child({component:"webwatch"}),o=t("./IntParameter.js"),a=t("./BoolParameter.js"),l=t("./DoubleParameter.js"),u=t("./StringParameter.js"),c=t("./EnumParameter.js"),h=t("../group-management/WGroup.js"),d=function(){function t(e,i){n(this,t),this.template=e,this.block=i,this.initDialog(),this.block.dialog=this.dialog}return r(t,[{key:"createMarkup",value:function(){var t=this,e=this.block.id.split(".");e=e[e.length-1],this.dialog=$('<div id="'+this.template.name+"-"+this.block.id+'"></div>').dialog({autoOpen:!1,title:e,width:300,maxHeight:$("#rex-dialog-container").height(),create:function(){var t=this;$(window).resize(function(){$(t).dialog("option","maxHeight",$("#rex-dialog-container").height())})},buttons:{OK:function(){l()&&$(this).dialog("close")},Apply:function(){l()},Close:function(){$(this).dialog("close")}},open:function(){a.hide(),$(":button:contains('OK')").focus()}}),$("body").append(this.dialog.parent());var i=this.dialog;if(i.append('<div class="rex-dialog-desc">'+this.template.description+"</div>"),this.block.parameters=[],void 0!==this.template.parameters)for(var n in this.template.parameters){var r=this.template.parameters[n],o=this.createParameter(i,this.block,r,this.block.id.replace(/\./g,"__")+"-"+n);this.block.parameters.push(o),i.append("<br/>")}void 0!==this.template.helpUrl&&i.append('<a href="'+this.template.helpUrl+'" target="_blanc"><img style="position: absolute;top:8px;right:6px;" width="16" src="images/rex-block/info.png" /></a>');var a=$("<div id='"+this.block.id+"-error' style='width:100%;color:white;text-align:center;background-color: #FF5925;font: 10pt Segoe UI;'>Unexpected type!</div>");i.append(a),this.block.group.on("read",function(){var e=!0,i=!1,n=void 0;try{for(var r,s=t.block.parameters[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;o.readHandler()}}catch(a){i=!0,n=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}});var l=function(){var e=!0,i=!0,n=!1,r=void 0;try{for(var o,l=t.block.parameters[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value,c=u.writeHandler();u.errorHandler(!c),c||(e=!1)}}catch(h){n=!0,r=h}finally{try{!i&&l["return"]&&l["return"]()}finally{if(n)throw r}}return e===!0?(t.block.group.write()["catch"](function(t){s.error(t)}),a.slideUp("fast")):a.slideDown("fast"),e}}},{key:"createParameter",value:function(t,e,i,n){var r=i.type;switch("long"===i.type&&void 0!==i["enum"]&&(r="enum"),r){case"word":case"byte":case"long":return new o(t,e,i,n);case"double":return new l(t,e,i,n);case"string":return new u(t,e,i,n);case"enum":return new c(t,e,i,n);case"bool":return new a(t,e,i,n);default:return}}},{key:"initDialog",value:function(){this.block.group=new h({id:this.block.type+"-"+this.block.id+"-group"}),this.block.group.periodReadEnabled=!1,this.createMarkup()}}]),t}();e.exports=d},{"../group-management/WGroup.js":208,"../utils/Logger.js":228,"./BoolParameter.js":245,"./DoubleParameter.js":246,"./EnumParameter.js":248,"./IntParameter.js":249,"./StringParameter.js":251}],245:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:c(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./Parameter.js"),u=function(t){function e(t,i,s,o){return n(this,e),r(this,Object.getPrototypeOf(e).call(this,t,i,s,o))}return s(e,t),o(e,[{key:"createMarkup",value:function(t){a(Object.getPrototypeOf(e.prototype),"createMarkup",this).call(this,t);var i=$("<div  title='"+this.tooltip+"' id="+this.id+"><input  value='1' type='radio' id="+this.id+"-on name="+this.id+"radio /><label for="+this.id+"-on>ON</label><input  value='0' type='radio' id="+this.id+"-off name="+this.id+"radio /><label for="+this.id+"-off>OFF</label></div>");i.controlgroup(),i.find("input").checkboxradio({icon:!1}),i.find("label").css("min-width","30px"),t.append(i)}},{key:"readHandler",value:function(){1===this.data.value?$("#"+this.id+"-on").prop("checked",!0).checkboxradio("refresh"):$("#"+this.id+"-off").prop("checked",!0).checkboxradio("refresh"),this.errorHandler(!1)}},{key:"writeHandler",value:function(){return this.data.value=$("#"+this.id+"-on").prop("checked"),!0}}]),e}(l);e.exports=u},{"./Parameter.js":250}],246:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("../utils/utils.js"),l=t("./IntParameter.js"),u=function(t){function e(t,i,s,o){return n(this,e),r(this,Object.getPrototypeOf(e).call(this,t,i,s,o))}return s(e,t),o(e,[{key:"writeHandler",value:function(){var t=$("#"+this.id).val();return!!a.isReal(t,this.param.min,this.param.max)&&(this.data.value=parseFloat(t),!0)}}]),e}(l);e.exports=u},{"../utils/utils.js":230,"./IntParameter.js":249}],247:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("../hmi.js"),l=t("../utils/Logger.js").child({component:"webwatch"}),u=t("../utils/Timer.js"),c=t("../utils/utils.js"),h=t("./SubSystem.js"),d=t("./BlockDialog.js"),f=t("./TRNDDialog.js"),p=t("../group-management/Group.js"),g=t("../utils/EventEmitter.js"),m=1e3,v=1e4,y={NONE:0,READY:1,CONNECTED:2,DISCONNECTED:3,FAILED:4},_=!0,b=function(t){function e(){n(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t._blocks=[],t._displays=[],t._taskName=null,t._svg=null,t._showHint=!0,t._blockInfo={},t}return s(e,t),o(e,[{key:"processSvg",value:function(t){var e=this;return void 0!==t&&t.is("svg")?(this._svg=t,this._recursivProcessing(this._svg[0]),this._taskname=$(this._svg[0]).attr("id"),this.State=y.READY,void(_&&(a.on("init",function(){e.State=y.CONNECTED,l.info("Connection established. Press right mouse button on block to start reading values."),e._showHint&&e.showHint(),e._initDisplays(),e._blockInfo&&e.emit("online")}),_=!1))):void l.error("Given element is not jQuery and SVG element")}},{key:"disableHint",value:function(){this._showHint=!1}},{key:"showHint",value:function(){var t=$("#rex-watch-hint");0===t.length&&(t=$(['<div id="rex-watch-hint">',"<strong>Left</strong> click or <strong>Touch</strong> on block to open dialog <br />","<strong>Right</strong> click or <strong>Long press</strong> to start reading the block.","</div>"].join("")).appendTo("body")),t.show().fadeOut(v),t.on("click",function(e){t.hide()})}},{key:"setBlockInfo",value:function(t){this._blockInfo=t,(this.State=y.CONNECTED)&&this.emit("online")}},{key:"enableMonitoring",value:function(t){var e=this;Array.isArray(t)||(t=[t]);var i=!0,n=!1,r=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value,u=!1,c=!0,h=!1,d=void 0;try{for(var f,p=function(){var t=f.value;if(a===t.id)return t.toggleMonitorFcn&&e.on("online",function(){t.monitor&&t.toggleMonitorFcn()}),u=!0,"break"},g=this._blocks[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var m=p();if("break"===m)break}}catch(v){h=!0,d=v}finally{try{!c&&g["return"]&&g["return"]()}finally{if(h)throw d}}u||l.error("Block ID {0} not found!",a)}}catch(v){n=!0,r=v}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw r}}this.disableHint()}},{key:"_recursivProcessing",value:function(t){var e=this;for(var i in t.childNodes){var n=t.childNodes[i];if(void 0!==n.getAttribute){var r=n.getAttribute("rex-block-type");if(r){var s={element:n,id:n.getAttribute("id"),type:r,orientation:n.getAttribute("rex-orientation"),monitor:!0,toggleDialogFcn:null,toggleMonitorFcn:null};s.escapedId=s.id.replace(/\./g,"-"),this._blocks.push(s),"Display"===s.type&&this._displays.push(s),"ontouchstart"in document.documentElement&&!function(t,i){var n=e._getClickHandler(i),r=e._getToggleMonitoringHandler(i),s=!1,o=new u(function(){r(),o.stop(),s=!0});o.Initial=!1,t.addEventListener("touchstart",function(t){t.preventDefault(),o.start(1e3)},!1),t.addEventListener("touchend",function(t){t.preventDefault(),o.stop(),s||n(t),s=!1},!1)}(n,s),"Display"!==s.type&&(n.addEventListener("click",this._getClickHandler(s),!1),n.addEventListener("contextmenu",this._getToggleMonitoringHandler(s),!1)),n.addEventListener("mouseover",function(t){return function(){c.appendClass(t.element,"rex-block-hover")}}(s),!1),n.addEventListener("mouseout",function(t){return function(){c.removeClass(t.element,"rex-block-hover")}}(s),!1)}}n.childNodes&&this._recursivProcessing(n)}}},{key:"_getClickHandler",value:function(t){var e=this,i=function(i){e.State===y.CONNECTED&&(t.dialog?"TRND"===t.type||"TRNDV"===t.type?(t._dialog.startPeriodicReading(a._defaultRefreshRate),t.dialog.dialog("open")):t.group.read().then(function(){t.dialog.dialog("open")})["catch"](function(){l.warn(t.id+": Failed to load dialog data. Using old one!"),t.dialog.dialog("open")}):e._createDialog(t,i).then(function(){t.group&&a.addGroup(t.group),t.trend&&a.addTrend(t.trend),t.dialog.dialog("open")})["catch"](function(t){l.error(t)}),i&&(i.preventDefault(),i.stopPropagation()))};return t.toggleDialogFcn=i,i}},{key:"_getToggleMonitoringHandler",value:function(t){var e=this,i=function(i){if(e.State===y.CONNECTED){if(t.monitor===!0){if(t.monitoringGroup)t.monitorLabelGroup.setAttribute("display","inline"),t.monitoringGroup.startPeriodicReading(),c.appendClass(t.element,"rex-block-monitor");else{var n=t.id.replace(/\./g,"\\."),r=$("#"+n+" .rex-block-in"),s=$("#"+n+" .rex-block-out");if("CNB"!==t.type&&"CNI"!==t.type&&"CNR"!==t.type&&"CNE"!==t.type||s.push($("#"+n+" text")[1]),r&&r.length>0||s&&s.length>0){var o=new p({id:"mon-"+t.id,period:a._defaultRefreshRate});o.isDefPeriod=!0,o.isDefURL=!0,t.monitoringGroup=o,o.Label=[],t.monitorLabelGroup=document.createElementNS(c.ns_svg,"g"),t.element.appendChild(t.monitorLabelGroup),o.on("periodic",function(t,e){if(t)l.error(t),e.stopPeriodicReading();else for(var i=0;i<e.Label.length;i++){var n=e.Label[i];n.textContent=c.round_prec(e.items[i].value,m)}});var u=[],h=[];if(void 0!==e._blockInfo[t.type]){var d=e._blockInfo[t.type];void 0!==d.inPorts&&(u=d.inPorts),void 0!==d.outPorts&&(h=d.outPorts)}else{for(var f=0;f<r.length;f++)u.push(r[f].textContent);for(var g=0;g<s.length;g++)h.push(s[g].textContent)}for(var v=0;v<u.length;v++)o.addItem({id:t.id+"-mon-in-"+v,readCString:t.id+":"+u[v]}),e._createLabel(t,r[v],"in");for(var _=0;_<h.length;_++)o.addItem({id:t.id+"-mon-out-"+_,readCString:t.id+":"+h[_]}),e._createLabel(t,s[_],"out");t.monitoringGroup.init().then(function(){a.addGroup(t.monitoringGroup)})["catch"](function(){l.error(new Error("Failed to initialize group of items for block: "+t.id))}),c.appendClass(t.element,"rex-block-monitor")}}t.monitor=!1}else t.monitoringGroup&&(c.removeClass(t.element,"rex-block-monitor"),t.monitorLabelGroup.setAttribute("display","none"),t.monitoringGroup.stopPeriodicReading()),t.monitor=!0;i&&(i.preventDefault(),i.stopPropagation())}};return t.toggleMonitorFcn=i,i}},{key:"_initDisplays",value:function(){var t=this;if(this._displays.length>0){this._displaysG=new p({period:a._defaultRefreshRate}),this._displaysG.Label=[];var e=!0,i=!1,n=void 0;try{for(var r,s=this._displays[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;o.monitorLabelGroup=document.createElementNS(c.ns_svg,"g"),o.element.appendChild(o.monitorLabelGroup),o.monitoringGroup=this._displaysG,o.monitorLabelGroup.setAttribute("display","inline"),this._displaysG.addItem({readCString:o.id+":u"});var u=o.id.replace(/\./g,"\\."),h=$("#"+u).find("tspan")[0];o.monitoringGroup.Label.push(h)}}catch(d){i=!0,n=d}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}this._displaysG.on("periodic",function(t,e){if(t)l.error(t),e.stopPeriodicReading();else for(var i=0;i<e.Label.length;i++){var n=e.Label[i];n.textContent=c.round_prec(e.items[i].value,m)}}),this._displaysG.init().then(function(){t._displaysG.isDefPeriod=!0,t._displaysG.isDefURL=!0,a.addGroup(t._displaysG)})["catch"](function(t){l.error(t)})}}},{key:"_createLabel",value:function(t,e,i){var n=document.createElementNS(c.ns_svg,"text"),r=parseFloat(e.getAttribute("x")),s=parseFloat(e.getAttribute("y")),o=e.getAttribute("font-family"),a=e.getAttribute("font-size"),l=e.getAttribute("fill");"CNB"!==t.type&&"CNI"!==t.type&&"CNR"!==t.type&&"CNE"!==t.type||(r+=3),"in"===i?0===t.orientation||"0"===t.orientation?(r-=12,s-=a/2,n.setAttribute("text-anchor","end")):2===t.orientation||"2"===t.orientation?(r+=12,s-=a/2,n.setAttribute("text-anchor","start")):1===t.orientation||"1"===t.orientation?(s+=10,n.setAttribute("text-anchor","middle")):3!==t.orientation&&"3"!==t.orientation||(s-=10,n.setAttribute("text-anchor","middle")):"out"===i&&(0===t.orientation||"0"===t.orientation?(r+=10,s-=a/2,n.setAttribute("text-anchor","start")):2===t.orientation||"2"===t.orientation?(r-=10,s-=a/2,n.setAttribute("text-anchor","end")):1===t.orientation||"1"===t.orientation?(s+=10,n.setAttribute("text-anchor","middle")):3!==t.orientation&&"3"!==t.orientation||(s-=10,n.setAttribute("text-anchor","middle"))),n.setAttribute("x",r),n.setAttribute("y",s),n.setAttribute("font-family",o),n.setAttribute("font-size",a),n.setAttribute("fill",l),t.monitorLabelGroup.appendChild(n),t.monitoringGroup.Label.push(n)}},{key:"_createDialog",value:function(t){var e=this;if("SubSystem"===t.type){var i=$(document.getElementById("sub-"+t.id));return new h(i,t,this),Promise.resolve()}return"TRND"===t.type||"TRNDV"===t.type?new Promise(function(i,n){t._dialog=new f(e._blockInfo[t.type],t),t._dialog.init().then(function(){t.dialog=t._dialog.dialog,t._dialog.startPeriodicReading(a._defaultRefreshRate),i()})["catch"](function(e){n(new Error("Failed to init trend "+t.id+". "+e))})}):void 0!==this._blockInfo[t.type]?(new d(this._blockInfo[t.type],t),0===t.group.items.length?Promise.resolve():null!==t.dialog&&void 0!==t.dialog?t.group.init():(t.group=null,Promise.reject("Failed to create dialog"))):Object.keys(this._blockInfo).length>0?(alert("Dialog is not supported for this block!"),Promise.reject("Dialog is not supported for this block!")):(alert("Information about block is not ready yet, try it later!"),Promise.reject("Information about block is not ready yet, try it later!"))}}]),e}(g);e.exports=new b},{"../group-management/Group.js":204,"../hmi.js":209,"../utils/EventEmitter.js":226,"../utils/Logger.js":228,"../utils/Timer.js":229,"../utils/utils.js":230,"./BlockDialog.js":244,"./SubSystem.js":252,"./TRNDDialog.js":253}],248:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:h(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("../utils/utils.js"),u=t("./Parameter.js"),c=function(t){function e(t,i,s,o){return n(this,e),r(this,Object.getPrototypeOf(e).call(this,t,i,s,o))}return s(e,t),o(e,[{key:"createMarkup",value:function(t){a(Object.getPrototypeOf(e.prototype),"createMarkup",this).call(this,t),t.append("<div class='rex-dialog-input' id='in-"+this.id+"'><select title='"+this.tooltip+"' id="+this.id+"/><img style='display:none;' src='images/rex-block/error.png'/></div>");var i=$("#"+this.id);for(var n in this.param["enum"]){var r=this.param["enum"][n],s=null,o=r.split(":");o.length>1&&(s=parseInt(o[0])),$("<option />",{value:s,text:r}).appendTo(i)}}},{key:"writeHandler",value:function(){var t=$("#"+this.id).val();return!!l.isInt(t,this.param.min,this.param.max)&&(this.data.value=parseInt(t),!0)}}]),e}(u);e.exports=c},{"../utils/utils.js":230,"./Parameter.js":250}],249:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:h(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("../utils/utils.js"),u=t("./Parameter.js"),c=function(t){function e(t,i,s,o){return n(this,e),r(this,Object.getPrototypeOf(e).call(this,t,i,s,o))}return s(e,t),o(e,[{key:"createMarkup",value:function(t){a(Object.getPrototypeOf(e.prototype),"createMarkup",this).call(this,t),t.append("<div class='rex-dialog-input' id='in-"+this.id+"'><input title='"+this.tooltip+"' type='text' maxlength='10' id="+this.id+" class='text ui-widget-content ui-corner-all' /><img style='display:none;' src='images/rex-block/error.png'/></div>")}},{key:"writeHandler",value:function(){var t=$("#"+this.id).val();return!!l.isInt(t,this.param.min,this.param.max)&&(this.data.value=parseInt(t),!0)}}]),e}(u);e.exports=c},{"../utils/utils.js":230,"./Parameter.js":250}],250:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("../utils/Logger.js").child({component:"webwatch"}),o=function(){function t(e,i,r,o){var a=this;n(this,t),this.param=r,this.id=o,this.block=i,this.container=e,i.group.addItem({id:o,cstring:i.id.replace(/__/g,".")+":"+r.name}).then(function(t){a.data=t})["catch"](function(t){s.error(t)}),this.tooltip=void 0===r.description?"":r.description,this.createMarkup(e)}return r(t,[{key:"createMarkup",value:function(t){t.append("<label for="+this.id+">"+this.param.label+"</label></br>")}},{key:"readHandler",value:function(){$("#"+this.id).val(this.data.value),this.errorHandler(!1)}},{key:"writeHandler",value:function(){return this.data.value=$("#"+this.id).val(),!0}},{key:"errorHandler",value:function(t){t?$("#in-"+this.id).addClass("rex-dialog-input-failed"):$("#in-"+this.id).removeClass("rex-dialog-input-failed")}}]),t}();e.exports=o},{"../utils/Logger.js":228}],251:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:c(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=t("./Parameter.js"),u=function(t){function e(t,i,s,o){return n(this,e),r(this,Object.getPrototypeOf(e).call(this,t,i,s,o))}return s(e,t),o(e,[{key:"createMarkup",value:function(t){a(Object.getPrototypeOf(e.prototype),"createMarkup",this).call(this,t),t.append("<div class='rex-dialog-input' id='in-"+this.id+"'><input title='"+this.tooltip+"' type='text' id="+this.id+" class='text ui-widget-content ui-corner-all' /><img style='display:none;' src='images/rex-block/error.png'/></div>")}}]),e}(l);e.exports=u},{"./Parameter.js":250}],252:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i){n(this,t),this._svg=e,this._block=i,this.createMarkup(),this._block.dialog=this.dialog}return r(t,[{key:"createMarkup",value:function(){this.dialog=$('<div id="subsystem-'+this._block.id+'"></div>').dialog({autoOpen:!1,title:this._block.id,width:$("#rex-dialog-container").height()-20,maxWidth:$("#rex-dialog-container").width()-20,maxHeight:$("#rex-dialog-container").height()-150}),$("body").append(this.dialog.parent()),this._svg.detach(),this.dialog.append(this._svg),this._svg.css("display","inline")}}]),t}();e.exports=s},{}],253:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("../ui/graph/Graph.js"),o=t("../group-management/Trend.js"),a=(t("../hmi.js"),function(){function t(e,i){n(this,t),this.template=e,this.block=i,this.graph=null,this.trend=null}return r(t,[{key:"createMarkup",value:function(){var t=this,e=this.trend.trndCfg.title;this.dialog=$('<div id="'+this.template.name+"-"+this.block.escapedId+'" style="width=650px;height:300px"></div>').dialog({autoOpen:!1,title:e,create:function(){},open:function(){$(":button:contains('OK')").focus(),$(t.dialog).find(".graph-graph").removeAttr("style"),t.graph.resize()},width:690,height:500,minWidth:300,minHeight:300}),this.dialog.on("dialogclose",function(){t.stopPeriodicReading()}),$("body").append(this.dialog.parent());var i=$('<div class="rex-dialog-desc" style="margin-bottom:5px;">'+this.template.description+"</div>"),n=$('<div id="graph-'+this.block.escapedId+'" style="width:100%; height:calc(100% - 20px);"></div>');$(this.dialog).append(i).append(n),this.graph=new s({id:this.block.escapedId,element:n[0]}),$(this.dialog).find(".graph-graph").addClass("webwatch"),$(this.dialog).find(".graph-labels").addClass("webwatch")}},{key:"startPeriodicReading",value:function(t){this.trend&&this.trend.startPeriodicReading(t)}},{key:"stopPeriodicReading",value:function(){this.trend&&this.trend.stopPeriodicReading()}},{key:"init",value:function(){var t=this;if(!this.trend){this.trend=new o({cstring:this.block.id}),this.trend.once("init",function(){t.createMarkup();
});var e=null;return this.trend.on("read",function(i){if(null===e){var n=t.trend.trndCfg;e=t.graph.data.addTrendConfig(n)}t.graph.data.addTrend(e,i),t.graph.refresh()}),this.trend.init()}return Promise.reject("Already initialized")}}]),t}());e.exports=a},{"../group-management/Trend.js":207,"../hmi.js":209,"../ui/graph/Graph.js":215}],254:[function(t,e,i){(function(i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("events"),l=i.WebSocket||i.MozWebSocket||t("ws"),u=t("../utils/Constants.js"),c=t("./Command.js"),h=t("./CommandList.js"),d=t("../utils/Logger.js").child({component:"ws-client"}),f=function(t){function e(t){n(this,e),t=t||{};var i=r(this,Object.getPrototypeOf(e).call(this,t));return i._sock=null,i._url="unset",i._recvdata="",i.subProtocol="visualization-1.1",i.callbacks={},i.commands=new h(i),i.setMaxListeners(0),i}return s(e,t),o(e,[{key:"off",value:function(){this.removeListener.apply(this,arguments)}},{key:"_onClose",value:function(){d.info("Connection closed."),this.emit("closed",this)}},{key:"_onError",value:function(t){d.error({err:t},"WebSocket connection error")}},{key:"_onMessage",value:function(t){if(this.emit("heartbeat"),d.trace("<<< msg from "+this._url+": "+t.data),"string"==typeof t){var e=t;t={data:e}}"visualization-v1"===this.subProtocol?d.error("Unsupported subprotocol."+this.subProtocol):this._parseMessage(t)}},{key:"_parseMessage",value:function(t){var e;try{if(e=JSON.parse(t.data),!e.cmd||!e.header||void 0===e.header.id||!e.header.err||void 0===e.header.errno)throw new Error("Wrong format of incoming message.")}catch(i){return this.emit("err",new Error("Failed to parse message from server: "+i)),void d.debug({msg:t},"Failed to parse message from server:"+i)}e.header.errno>=0||"Success"===e.header.err?this.commands.resolveCmd(e.header.id,e):this.commands.rejectCmd(e.header.id,e),e.header.flags&&this.emit("headerFlags",e.header.flags)}},{key:"connect",value:function(t){var e=this;return this.isConnected()?Promise.reject("Already connected"):(this._url=t,new Promise(function(i,n){d.debug("Connecting to: "+t),e._sock=new l(t,e.subProtocol),e._sock.onopen=function(){e._sock.onopen=function(){},e._sock.onerror=function(t){e._onError(t)},e._sock.onclose=function(t){e._onClose(t)},e._sock.onmessage=function(t){e._onMessage(t)},d.info("Connected to: "+t),e.emit("connected"),i()},e._sock.onerror=function(t){d.error("Connecting to: %s failed.",e._url),n(t)}}))}},{key:"reconnect",value:function(){var t=this;return this.isConnected()?Promise.resolve("Already connected"):(this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),new Promise(function(e,i){t.callbacks={},t.commands=new h(t),d.info("Reconnecting to: "+t._url),t._sock=new l(t._url,t.subProtocol),t._sock.onopen=function(){t._sock.onopen=function(){},t._sock.onerror=function(e){t._onError(e)},t._sock.onclose=function(e){t._onClose(e)},t._sock.onmessage=function(e){t._onMessage(e)},d.info("Connected successfully to: "+t._url),t.emit("connected"),e()},t._sock.onerror=function(e){d.error("Connecting to: %s failed.",t._url),i(e)}}))}},{key:"disconnect",value:function(){var t=this;return this.isConnected()?(this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),new Promise(function(e,i){d.info("Disconnecting from: "+t._url),t._sock.onclose=function(){t.emit("disconnected"),e()},t._sock.onerror=function(e){d.debug("Failed to disconnect from target "+t.url+" ."),i(e)},t._sock.close()})):(this._sock&&(this._sock.onerror=function(){},this._sock.onclose=function(){},this._sock.close(),this._sock=null),Promise.resolve("Target "+this.url+" is not connected"))}},{key:"_makeAPICall",value:function(t,e){var i=this;if(!this.isConnected())return{promise:Promise.reject(new Error("Connection to  "+this._url+" lost."))};var n=new c(this._sock,t,e);return this.commands.push(n),n.promise["catch"](function(t){d.debug(t.err||t),i.commands.removeCmd(n.id)}),n}},{key:"readItems",value:function(t){return this._makeAPICall(u.CMD_READ_ITEMS,{names:t})}},{key:"writeItems",value:function(t,e){return this._makeAPICall(u.CMD_WRITE_ITEMS,{names:t,values:e})}},{key:"addGroup",value:function(t){return this._makeAPICall(u.CMD_ADD_GROUP,{names:t})}},{key:"removeGroup",value:function(t){return this._makeAPICall(u.CMD_REMOVE_GROUP,{groupid:t})}},{key:"readGroup",value:function(t){return this._makeAPICall(u.CMD_READ_GROUP,{groupid:t})}},{key:"writeGroup",value:function(t,e){return this._makeAPICall(u.CMD_WRITE_GROUP,{groupid:t,values:e})}},{key:"idle",value:function(){return this._makeAPICall(u.CMD_IDLE)}},{key:"getVersion",value:function(){return this._makeAPICall(u.CMD_VERSION)}},{key:"getTrendConfig",value:function(t){return this._makeAPICall(u.CMD_GET_TRND_CFG,{trend:t})}},{key:"readTrend",value:function(t){return this._makeAPICall(u.CMD_TRND_READ,{trendid:t})}},{key:"browseSymbol",value:function(t){return this._makeAPICall(u.CMD_BROWSE_SYMBOL,{symbol:t})}},{key:"names2ids",value:function(t){return this._makeAPICall(u.CMD_NAMES_TO_IDS,{names:t})}},{key:"getTime",value:function(){return this._makeAPICall(u.CMD_GET_TIME,{})}},{key:"isConnected",value:function(){return!!this._sock&&this._sock.readyState===this._sock.OPEN}},{key:"setSubProtocol",value:function(t){this.subProtocol=t}}]),e}(a.EventEmitter);e.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/Constants.js":224,"../utils/Logger.js":228,"./Command.js":255,"./CommandList.js":256,events:172,ws:165}],255:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("../utils/Logger.js").child({component:"ws-client"}),o=1e4,a=function(){function t(e,i,r,o){var a=this;n(this,t),this.cmdCode=i,this.wsock=e,this.data=r||{},this.header=o||{},this.cmdTimer=null,this.msg="",this.promise=new Promise(function(e,i){a.resolve=e,a.reject=i,a.header.id||(a.id=a.header.id=t.getId());var n={cmd:a.cmdCode,header:a.header,data:a.data};a.msg=JSON.stringify(n),s.trace(">>> msg to "+a.wsock.url+" : "+a.msg),a.wsock.send(a.msg)})}return r(t,null,[{key:"getId",value:function(){return(!t.requestNo||t.requestNo>=o)&&(t.requestNo=0),t.requestNo++}}]),t}();e.exports=a},{"../utils/Logger.js":228}],256:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},u=t("./Command.js"),c=t("../utils/Logger.js").child({component:"ws-client"}),h=t("../utils/Constants.js"),d=t("events"),f=function(t){function e(t){n(this,e);var i=r(this,Object.getPrototypeOf(e).call(this));return i.evEmitter=t instanceof d.EventEmitter?t:{emit:function(){}},i}return s(e,t),a(e,[{key:"resolveCmd",value:function(t,e){var i=this.getCmd(t),n=e.data;switch(e.cmd){case h.CMD_INIT:this.evEmitter.emit("init"),i.resolve();break;case h.CMD_EXIT:this.evEmitter.emit("exit"),i.resolve();break;case h.CMD_IDLE:this.evEmitter.emit("idle"),i.resolve();break;case h.CMD_VERSION:this.evEmitter.rexVersionDetails=e.data,this.evEmitter.rexVersion=e.data.version.hi+"."+e.data.version.lo+"."+e.data.version.rel+"-"+e.data.version.rev,this.evEmitter.emit("version",this.evEmitter.rexVersion),i.resolve(this.evEmitter.rexVersion);break;case h.CMD_READ_ITEMS:n.names=i.data.names,this.evEmitter.emit("read",n),i.resolve(n);break;case h.CMD_WRITE_ITEMS:n.names=i.data.names,this.evEmitter.emit("write",n),i.resolve(n);break;case h.CMD_ADD_GROUP:if(n.names=i.data.names,n.ids.length<i.data.names.length)return void this.rejectCmd(t,e);this.evEmitter.emit("add",n),i.resolve(n);break;case h.CMD_READ_GROUP:this.evEmitter.emit("read",n),i.resolve(n);break;case h.CMD_WRITE_GROUP:this.evEmitter.emit("write",n),i.resolve(n);break;default:i?i.resolve(n):e.header.id&&c.debug("CMD id: "+e.header.id+" does not exit!")}this.removeCmd(t)}},{key:"rejectCmd",value:function(t,e){var i=this.getCmd(t);if(e.cmd)switch(e.cmd){default:var n=new Error(h.getCmdName(e.cmd)+" command failed, "+e.header.err);i.reject({err:n,msg:e}),this.evEmitter.emit("err",n)}else i.reject({err:new Error(e),msg:e});this.removeCmd(t)}},{key:"push",value:function(t){t instanceof u?l(Object.getPrototypeOf(e.prototype),"push",this).call(this,t):c.debug("CommandList accepts only instances of Command")}},{key:"getCmd",value:function(t){for(var e=0;e<this.length;e++)if(t===this[e].header.id)return this[e]}},{key:"removeCmd",value:function(t){for(var e=-1,i=0;i<this.length;i++)t===this[i].header.id&&(e=i);e>=0&&this.splice(e,1)}},{key:"getMsgLength",value:function(){for(var t=0,e=0;e<this.length;e++)this[e].msg&&(t+=this[e].msg.length);return t}},{key:"clear",value:function(){for(var t=0,e=this.length;t<e;t++)clearTimeout(this[t].cmdTimer);this.length=0}}]),e}(o(Array));e.exports=f},{"../utils/Constants.js":224,"../utils/Logger.js":228,"./Command.js":255,events:172}]},{},[2])(2)});
//# sourceMappingURL=http://127.0.0.1:8008/rexhmi.min.js.map
